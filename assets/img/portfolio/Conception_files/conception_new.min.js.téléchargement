/*! jQuery UI - v1.13.2 - 2022-09-26
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, focusable.js, form-reset-mixin.js, jquery-patch.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/draggable.js, widgets/droppable.js, widgets/resizable.js, widgets/selectable.js, widgets/sortable.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/selectmenu.js, widgets/slider.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){"use strict";function si(n,t,i){return[parseFloat(n[0])*(tt.test(n[0])?t/100:1),parseFloat(n[1])*(tt.test(n[1])?i/100:1)]}function a(t,i){return parseInt(n.css(t,i),10)||0}function ci(n){return null!=n&&n===n.window}function ii(n,t,i){return t<=n&&n<t+i}function pi(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},n.extend(this._defaults,this.regional[""]),this.regional.en=n.extend(!0,{},this.regional[""]),this.regional["en-US"]=n.extend(!0,{},this.regional.en),this.dpDiv=wi(n("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function wi(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",i,function(){n(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&n(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&n(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,bi)}function bi(){n.datepicker._isDisabledDatepicker((e.inline?e.dpDiv.parent():e.input)[0])||(n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&n(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&n(this).addClass("ui-datepicker-next-hover"))}function p(t,i){for(var r in n.extend(t,i),i)null==i[r]&&(t[r]=i[r]);return t}function o(n){return function(){var t=this.element.val();n.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}function s(n){return null==n?n+"":"object"==typeof n?ut[di.call(n)]||"object":typeof n}function y(n,t,i){var r=vi[t.type]||{};return null==n?i||!t.def?null:t.def:(n=r.floor?~~n:parseFloat(n),isNaN(n)?t.def:r.mod?(n+r.mod)%r.mod:Math.min(r.max,Math.max(0,n)))}function ct(n){var u=i(),e=u._rgba=[];return n=n.toLowerCase(),r(nr,function(t,i){var r=i.re.exec(n),r=r&&i.parse(r),i=i.space||"rgba";if(r)return r=u[i](r),u[f[i].cache]=r[f[i].cache],e=u._rgba=r._rgba,!1}),e.length?("0,0,0,0"===e.join()&&t.extend(e,st.transparent),u):st[n]}function k(n,t,i){return 6*(i=(i+1)%1)<1?n+(t-n)*i*6:2*i<1?t:3*i<2?n+(t-n)*(2/3-i)*6:n}function bt(n){var i,u,t=n.ownerDocument.defaultView?n.ownerDocument.defaultView.getComputedStyle(n,null):n.currentStyle,r={};if(t&&t.length&&t[0]&&t[t[0]])for(u=t.length;u--;)"string"==typeof t[i=t[u]]&&(r[i.replace(/-([\da-z])/gi,function(n,t){return t.toUpperCase()})]=t[i]);else for(i in t)"string"==typeof t[i]&&(r[i]=t[i]);return r}function w(t,i,r,u){return t={effect:t=n.isPlainObject(t)?(i=t).effect:t},"function"==typeof(i=null==i?{}:i)&&(u=i,r=null,i={}),"number"!=typeof i&&!n.fx.speeds[i]||(u=r,r=i,i={}),"function"==typeof r&&(u=r,r=null),i&&n.extend(t,i),r=r||i.duration,t.duration=n.fx.off?0:"number"==typeof r?r:r in n.fx.speeds?n.fx.speeds[r]:n.fx.speeds._default,t.complete=u||i.complete,t}function rt(t){return!t||"number"==typeof t||n.fx.speeds[t]||"string"==typeof t&&!n.effects.effect[t]||"function"==typeof t||"object"==typeof t&&!t.effect}function li(n,t){var i=t.outerWidth(),t=t.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(n)||["",0,i,t,0];return{top:parseFloat(n[1])||0,right:"auto"===n[2]?i:parseFloat(n[2]),bottom:"auto"===n[3]?t:parseFloat(n[3]),left:parseFloat(n[4])||0}}var et,h,u,ft,nt,g,it,tt,ei,hi,fi,ti,ni,c,ui,ri,e,d;n.ui=n.ui||{},n.ui.version="1.13.2";var yi,gi=0,ki=Array.prototype.hasOwnProperty,oi=Array.prototype.slice;n.cleanData=(yi=n.cleanData,function(t){for(var u,i,r=0;null!=(i=t[r]);r++)(u=n._data(i,"events"))&&u.remove&&n(i).triggerHandler("remove");yi(t)}),n.widget=function(t,i,r){var e,u,o,h={},f=t.split(".")[0],s=f+"-"+(t=t.split(".")[1]);return r||(r=i,i=n.Widget),Array.isArray(r)&&(r=n.extend.apply(null,[{}].concat(r))),n.expr.pseudos[s.toLowerCase()]=function(t){return!!n.data(t,s)},n[f]=n[f]||{},e=n[f][t],u=n[f][t]=function(n,t){if(!this||!this._createWidget)return new u(n,t);arguments.length&&this._createWidget(n,t)},n.extend(u,e,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),(o=new i).options=n.widget.extend({},o.options),n.each(r,function(n,t){function u(){return i.prototype[n].apply(this,arguments)}function r(t){return i.prototype[n].apply(this,t)}h[n]="function"==typeof t?function(){var n,f=this._super,i=this._superApply;return this._super=u,this._superApply=r,n=t.apply(this,arguments),this._super=f,this._superApply=i,n}:t}),u.prototype=n.widget.extend(o,{widgetEventPrefix:e&&o.widgetEventPrefix||t},h,{constructor:u,namespace:f,widgetName:t,widgetFullName:s}),e?(n.each(e._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete e._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u),u},n.widget.extend=function(t){for(var i,r,f=oi.call(arguments,1),u=0,e=f.length;u<e;u++)for(i in f[u])r=f[u][i],ki.call(f[u],i)&&void 0!==r&&(t[i]=n.isPlainObject(r)?n.isPlainObject(t[i])?n.widget.extend({},t[i],r):n.widget.extend({},r):r);return t},n.widget.bridge=function(t,i){var r=i.prototype.widgetFullName||t;n.fn[t]=function(u){var o="string"==typeof u,e=oi.call(arguments,1),f=this;return o?this.length||"instance"!==u?this.each(function(){var o,i=n.data(this,r);return"instance"===u?(f=i,!1):i?"function"!=typeof i[u]||"_"===u.charAt(0)?n.error("no such method '"+u+"' for "+t+" widget instance"):(o=i[u].apply(i,e))!==i&&void 0!==o?(f=o&&o.jquery?f.pushStack(o.get()):o,!1):void 0:n.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+u+"'")}):f=void 0:(e.length&&(u=n.widget.extend.apply(null,[u].concat(e))),this.each(function(){var t=n.data(this,r);t?(t.option(u||{}),t._init&&t._init()):n.data(this,r,new i(u,this))})),f}},n.Widget=function(){},n.Widget._childConstructors=[],n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0],this.element=n(i),this.uuid=gi++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=n(),this.hoverable=n(),this.focusable=n(),this.classesElementLookup={},i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow)),this.options=n.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){var t=this;this._destroy(),n.each(this.classesElementLookup,function(n,i){t._removeClass(i,n)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:n.noop,widget:function(){return this.element},option:function(t,i){var u,r,f,e=t;if(0===arguments.length)return n.widget.extend({},this.options);if("string"==typeof t)if(e={},t=(u=t.split(".")).shift(),u.length){for(r=e[t]=n.widget.extend({},this.options[t]),f=0;f<u.length-1;f++)r[u[f]]=r[u[f]]||{},r=r[u[f]];if(t=u.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];e[t]=i}return this._setOptions(e),this},_setOptions:function(n){for(var t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return"classes"===n&&this._setOptionClasses(t),this.options[n]=t,"disabled"===n&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,u,r;for(i in t)r=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&r&&r.length&&(u=n(r.get()),this._removeClass(r,i),u.addClass(this._classes({element:u,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(n){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!n),n&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function u(u,f){for(var o,e=0;e<u.length;e++)o=i.classesElementLookup[u[e]]||n(),o=t.add?(function(){var r=[];t.element.each(function(t,u){n.map(i.classesElementLookup,function(n){return n}).some(function(n){return n.is(u)})||r.push(u)}),i._on(n(r),{remove:"_untrackClassesElement"})}(),n(n.uniqueSort(o.get().concat(t.element.get())))):n(o.not(t.element).get()),i.classesElementLookup[u[e]]=o,r.push(u[e]),f&&t.classes[u[e]]&&r.push(t.classes[u[e]])}var r=[],i=this;return(t=n.extend({element:this.element,classes:this.options.classes||{}},t)).keys&&u(t.keys.match(/\S+/g)||[],!0),t.extra&&u(t.extra.match(/\S+/g)||[]),r.join(" ")},_untrackClassesElement:function(t){var i=this;n.each(i.classesElementLookup,function(r,u){-1!==n.inArray(t.target,u)&&(i.classesElementLookup[r]=n(u.not(t.target).get()))}),this._off(n(t.target))},_removeClass:function(n,t,i){return this._toggleClass(n,t,i,!1)},_addClass:function(n,t,i){return this._toggleClass(n,t,i,!0)},_toggleClass:function(n,t,i,r){var u="string"==typeof n||null===n,i={extra:u?t:i,keys:u?n:t,element:u?this.element:n,add:r="boolean"==typeof r?r:i};return i.element.toggleClass(this._classes(i),r),this},_on:function(t,i,r){var f,u=this;"boolean"!=typeof t&&(r=i,i=t,t=!1),r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget()),n.each(r,function(r,e){function s(){if(t||!0!==u.options.disabled&&!n(this).hasClass("ui-state-disabled"))return("string"==typeof e?u[e]:e).apply(u,arguments)}"string"!=typeof e&&(s.guid=e.guid=e.guid||s.guid||n.guid++);var o=r.match(/^([\w:-]*)\s*(.*)$/),r=o[1]+u.eventNamespace,o=o[2];o?f.on(r,o,s):i.on(r,s)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i),this.bindings=n(this.bindings.not(t).get()),this.focusable=n(this.focusable.not(t).get()),this.hoverable=n(this.hoverable.not(t).get())},_delay:function(n,t){var i=this;return setTimeout(function(){return("string"==typeof n?i[n]:n).apply(i,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(n(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(n(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(n(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(n(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},(i=n.Event(i)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!("function"==typeof e&&!1===e.apply(this.element[0],[i].concat(r))||i.isDefaultPrevented())}},n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){var o,e=(u="string"==typeof u?{effect:u}:u)?!0!==u&&"number"!=typeof u&&u.effect||i:t;"number"==typeof(u=u||{})?u={duration:u}:!0===u&&(u={}),o=!n.isEmptyObject(u),u.complete=f,u.delay&&r.delay(u.delay),o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t](),f&&f.call(r[0]),i()})}}),n.widget,h=Math.max,u=Math.abs,ft=/left|center|right/,nt=/top|center|bottom/,g=/[\+\-]\d+(\.[\d]+)?%?/,it=/^\w+/,tt=/%$/,ei=n.fn.position,n.position={scrollbarWidth:function(){if(void 0!==et)return et;var r,i=n("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),t=i.children()[0];return n("body").append(i),r=t.offsetWidth,i.css("overflow","scroll"),r===(t=t.offsetWidth)&&(t=i[0].clientWidth),i.remove(),et=r-t},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth;return{width:"scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight?n.position.scrollbarWidth():0,height:i?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),u=ci(i[0]),r=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:u,isDocument:r,offset:!u&&!r?n(t).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},n.fn.position=function(t){if(!t||!t.of)return ei.apply(this,arguments);var l,f,r,c,e,o,y="string"==typeof(t=n.extend({},t)).of?n(document).find(t.of):n(t.of),w=n.position.getWithinInfo(t.within),p=n.position.getScrollInfo(w),s=(t.collision||"flip").split(" "),v={},i=9===(o=(i=y)[0]).nodeType?{width:i.width(),height:i.height(),offset:{top:0,left:0}}:ci(o)?{width:i.width(),height:i.height(),offset:{top:i.scrollTop(),left:i.scrollLeft()}}:o.preventDefault?{width:0,height:0,offset:{top:o.pageY,left:o.pageX}}:{width:i.outerWidth(),height:i.outerHeight(),offset:i.offset()};return y[0].preventDefault&&(t.at="left top"),f=i.width,r=i.height,e=n.extend({},c=i.offset),n.each(["my","at"],function(){var i,r,n=(t[this]||"").split(" ");(n=1===n.length?ft.test(n[0])?n.concat(["center"]):nt.test(n[0])?["center"].concat(n):["center","center"]:n)[0]=ft.test(n[0])?n[0]:"center",n[1]=nt.test(n[1])?n[1]:"center",i=g.exec(n[0]),r=g.exec(n[1]),v[this]=[i?i[0]:0,r?r[0]:0],t[this]=[it.exec(n[0])[0],it.exec(n[1])[0]]}),1===s.length&&(s[1]=s[0]),"right"===t.at[0]?e.left+=f:"center"===t.at[0]&&(e.left+=f/2),"bottom"===t.at[1]?e.top+=r:"center"===t.at[1]&&(e.top+=r/2),l=si(v.at,f,r),e.left+=l[0],e.top+=l[1],this.each(function(){var g,it,k=n(this),o=k.outerWidth(),b=k.outerHeight(),tt=a(this,"marginLeft"),nt=a(this,"marginTop"),rt=o+tt+a(this,"marginRight")+p.width,ut=b+nt+a(this,"marginBottom")+p.height,i=n.extend({},e),d=si(v.my,k.outerWidth(),k.outerHeight());"right"===t.my[0]?i.left-=o:"center"===t.my[0]&&(i.left-=o/2),"bottom"===t.my[1]?i.top-=b:"center"===t.my[1]&&(i.top-=b/2),i.left+=d[0],i.top+=d[1],g={marginLeft:tt,marginTop:nt},n.each(["left","top"],function(u,e){n.ui.position[s[u]]&&n.ui.position[s[u]][e](i,{targetWidth:f,targetHeight:r,elemWidth:o,elemHeight:b,collisionPosition:g,collisionWidth:rt,collisionHeight:ut,offset:[l[0]+d[0],l[1]+d[1]],my:t.my,at:t.at,within:w,elem:k})}),t.using&&(it=function(n){var l=c.left-i.left,a=l+f-o,s=c.top-i.top,v=s+r-b,e={target:{element:y,left:c.left,top:c.top,width:f,height:r},element:{element:k,left:i.left,top:i.top,width:o,height:b},horizontal:a<0?"left":0<l?"right":"center",vertical:v<0?"top":0<s?"bottom":"middle"};f<o&&u(l+a)<f&&(e.horizontal="center"),r<b&&u(s+v)<r&&(e.vertical="middle"),e.important=h(u(l),u(a))>h(u(s),u(v))?"horizontal":"vertical",t.using.call(this,n,e)}),k.offset(n.extend(i,{using:it}))})},n.ui.position={fit:{left:function(n,t){var r=t.within,f=r.isWindow?r.scrollLeft:r.offset.left,e=r.width,o=n.left-t.collisionPosition.marginLeft,i=f-o,u=o+t.collisionWidth-e-f;t.collisionWidth>e?0<i&&u<=0?(r=n.left+i+t.collisionWidth-e-f,n.left+=i-r):n.left=!(0<u&&i<=0)&&u<i?f+e-t.collisionWidth:f:0<i?n.left+=i:0<u?n.left-=u:n.left=h(n.left-o,n.left)},top:function(n,t){var f=t.within,u=f.isWindow?f.scrollTop:f.offset.top,e=t.within.height,o=n.top-t.collisionPosition.marginTop,i=u-o,r=o+t.collisionHeight-e-u;t.collisionHeight>e?0<i&&r<=0?(f=n.top+i+t.collisionHeight-e-u,n.top+=i-f):n.top=!(0<r&&i<=0)&&r<i?u+e-t.collisionHeight:u:0<i?n.top+=i:0<r?n.top-=r:n.top=h(n.top-o,n.top)}},flip:{left:function(n,t){var i=t.within,o=i.offset.left+i.scrollLeft,s=i.width,f=i.isWindow?i.scrollLeft:i.offset.left,r=n.left-t.collisionPosition.marginLeft,c=r-f,h=r+t.collisionWidth-s-f,e="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,i="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,r=-2*t.offset[0];c<0?((o=n.left+e+i+r+t.collisionWidth-s-o)<0||o<u(c))&&(n.left+=e+i+r):0<h&&(0<(f=n.left-t.collisionPosition.marginLeft+e+i+r-f)||u(f)<h)&&(n.left+=e+i+r)},top:function(n,t){var i=t.within,o=i.offset.top+i.scrollTop,s=i.height,f=i.isWindow?i.scrollTop:i.offset.top,r=n.top-t.collisionPosition.marginTop,c=r-f,h=r+t.collisionHeight-s-f,e="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,i="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,r=-2*t.offset[1];c<0?((o=n.top+e+i+r+t.collisionHeight-s-o)<0||o<u(c))&&(n.top+=e+i+r):0<h&&(0<(f=n.top-t.collisionPosition.marginTop+e+i+r-f)||u(f)<h)&&(n.top+=e+i+r)}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments),n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments),n.ui.position.fit.top.apply(this,arguments)}}},n.ui.position,n.extend(n.expr.pseudos,{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])}}),n.fn.extend({disableSelection:(hi="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(hi+".ui-disableSelection",function(n){n.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}}),n.ui.focusable=function(t,i){var e,r,u,o,f=t.nodeName.toLowerCase();return"area"===f?(r=(e=t.parentNode).name,!(!t.href||!r||"map"!==e.nodeName.toLowerCase())&&0<(r=n("img[usemap='#"+r+"']")).length&&r.is(":visible")):(/^(input|select|textarea|button|object)$/.test(f)?(u=!t.disabled)&&(o=n(t).closest("fieldset")[0])&&(u=!o.disabled):u="a"===f&&t.href||i,u&&n(t).is(":visible")&&function(n){for(var t=n.css("visibility");"inherit"===t;)n=n.parent(),t=n.css("visibility");return"visible"===t}(n(t)))},n.extend(n.expr.pseudos,{focusable:function(t){return n.ui.focusable(t,null!=n.attr(t,"tabindex"))}}),n.ui.focusable,n.fn._form=function(){return"string"==typeof this[0].form?this.closest("form"):n(this[0].form)},n.ui.formResetMixin={_formResetHandler:function(){var t=n(this);setTimeout(function(){var i=t.data("ui-form-reset-instances");n.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){var n;this.form=this.element._form(),this.form.length&&((n=this.form.data("ui-form-reset-instances")||[]).length||this.form.on("reset.ui-form-reset",this._formResetHandler),n.push(this),this.form.data("ui-form-reset-instances",n))},_unbindFormResetHandler:function(){var t;this.form.length&&((t=this.form.data("ui-form-reset-instances")).splice(n.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))}},n.expr.pseudos||(n.expr.pseudos=n.expr[":"]),n.uniqueSort||(n.uniqueSort=n.unique),n.escapeSelector||(fi=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,ti=function(n,t){return t?"\x00"===n?"�":n.slice(0,-1)+"\\"+n.charCodeAt(n.length-1).toString(16)+" ":"\\"+n},n.escapeSelector=function(n){return(n+"").replace(fi,ti)}),n.fn.even&&n.fn.odd||n.fn.extend({even:function(){return this.filter(function(n){return n%2==0})},odd:function(){return this.filter(function(n){return n%2==1})}}),n.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},n.fn.labels=function(){var i,r,t;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),(i=this.attr("id"))&&(t=(t=this.eq(0).parents().last()).add((t.length?t:this).siblings()),i="label[for='"+n.escapeSelector(i)+"']",r=r.add(t.find(i).addBack(i))),this.pushStack(r)):this.pushStack([])},n.fn.scrollParent=function(t){var i=this.css("position"),u="absolute"===i,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,t=this.parents().filter(function(){var t=n(this);return(!u||"static"!==t.css("position"))&&r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&t.length?t:n(this[0].ownerDocument||document)},n.extend(n.expr.pseudos,{tabbable:function(t){var r=n.attr(t,"tabindex"),i=null!=r;return(!i||0<=r)&&n.ui.focusable(t,i)}}),n.fn.extend({uniqueId:(ni=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++ni)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&n(this).removeAttr("id")})}}),n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),c=!1;n(document).on("mouseup",function(){c=!1});n.widget("ui.mouse",{version:"1.13.2",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(n){return t._mouseDown(n)}).on("click."+this.widgetName,function(i){if(!0===n.data(i.target,t.widgetName+".preventClickEvent"))return n.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!c){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,u=1===t.which,r=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&n(t.target).closest(this.options.cancel).length;return u&&!r&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===n.data(t.target,this.widgetName+".preventClickEvent")&&n.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return i._mouseMove(n)},this._mouseUpDelegate=function(n){return i._mouseUp(n)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),c=!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(n.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&n.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,c=!1,t.preventDefault()},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),n.ui.plugin={add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i,r){var u,f=n.plugins[t];if(f&&(r||n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType))for(u=0;u<f.length;u++)n.options[f[u][0]]&&f[u][1].apply(n.element,i)}},n.ui.safeActiveElement=function(n){var t;try{t=n.activeElement}catch(i){t=n.body}return t=(t=t||n.body).nodeName?t:n.body},n.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&n(t).trigger("blur")},n.widget("ui.draggable",n.ui.mouse,{version:"1.13.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(n,t){this._super(n,t),"handle"===n&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return!(this.helper||i.disabled||0<n(t.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=n(this);return n("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=n.ui.safeActiveElement(this.document[0]);n(t.target).closest(i).length||n.ui.safeBlur(i)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===n(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),n.ui.ddmanager&&n.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(n){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:n.pageX-this.offset.left,top:n.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){if(i=this._uiHash(),!1===this._trigger("drag",t,i))return this._mouseUp(new n.Event("mouseup",t)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var r=this,i=!1;return n.ui.ddmanager&&!this.options.dropBehaviour&&(i=n.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,i)?n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==r._trigger("stop",t)&&r._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),n.ui.ddmanager&&n.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),n.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new n.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!n(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var i=this.options,r="function"==typeof i.helper,t=r?n(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return t.parents("body").length||t.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),r&&t[0]===this.element[0]&&this._setPositionRelative(),t[0]===this.element[0]||/(fixed|absolute)/.test(t.css("position"))||t.css("position","absolute"),t},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(n){"string"==typeof n&&(n=n.split(" ")),"left"in(n=Array.isArray(n)?{left:+n[0],top:+n[1]||0}:n)&&(this.offset.click.left=n.left+this.margins.left),"right"in n&&(this.offset.click.left=this.helperProportions.width-n.right+this.margins.left),"top"in n&&(this.offset.click.top=n.top+this.margins.top),"bottom"in n&&(this.offset.click.top=this.helperProportions.height-n.bottom+this.margins.top)},_isRootNode:function(n){return/(html|body)/i.test(n.tagName)||n===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),{top:(t=this._isRootNode(this.offsetParent[0])?{top:0,left:0}:t).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),n=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(n?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(n?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f,t,r,i=this.options,u=this.document[0];this.relativeContainer=null,i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),(r=(t=n(i.containment))[0])&&(f=/(scroll|auto)/.test(t.css("overflow")),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(f?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=t)):this.containment=i.containment:this.containment=[0,0,n(u).width()-this.helperProportions.width-this.margins.left,(n(u).height()||u.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[n(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,n(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,n(window).scrollLeft()+n(window).width()-this.helperProportions.width-this.margins.left,n(window).scrollTop()+(n(window).height()||u.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(n,t){t=t||this.position;var i="absolute"===n?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(n,t){var i,r=this.options,e=this._isRootNode(this.scrollParent[0]),f=n.pageX,u=n.pageY;return e&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(i=this.relativeContainer?(i=this.relativeContainer.offset(),[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):this.containment,n.pageX-this.offset.click.left<i[0]&&(f=i[0]+this.offset.click.left),n.pageY-this.offset.click.top<i[1]&&(u=i[1]+this.offset.click.top),n.pageX-this.offset.click.left>i[2]&&(f=i[2]+this.offset.click.left),n.pageY-this.offset.click.top>i[3]&&(u=i[3]+this.offset.click.top)),r.grid&&(n=r.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,u=!i||n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-r.grid[1]:n+r.grid[1],n=r.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,f=!i||n-this.offset.click.left>=i[0]||n-this.offset.click.left>i[2]?n:n-this.offset.click.left>=i[0]?n-r.grid[0]:n+r.grid[0]),"y"===r.axis&&(f=this.originalPageX),"x"===r.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:e?0:this.offset.scroll.top),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:e?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,i,r){return r=r||this._uiHash(),n.ui.plugin.call(this,t,[i,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),n.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),n.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,r){var u=n.extend({},i,{item:r.element});r.sortables=[],n(r.options.connectToSortable).each(function(){var i=n(this).sortable("instance");i&&!i.options.disabled&&(r.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,u))})},stop:function(t,i,r){var u=n.extend({},i,{item:r.element});r.cancelHelperRemoval=!1,n.each(r.sortables,function(){var n=this;n.isOver?(n.isOver=0,r.cancelHelperRemoval=!0,n.cancelHelperRemoval=!1,n._storedCSS={position:n.placeholder.css("position"),top:n.placeholder.css("top"),left:n.placeholder.css("left")},n._mouseStop(t),n.options.helper=n.options._helper):(n.cancelHelperRemoval=!0,n._trigger("deactivate",t,u))})},drag:function(t,i,r){n.each(r.sortables,function(){var f=!1,u=this;u.positionAbs=r.positionAbs,u.helperProportions=r.helperProportions,u.offset.click=r.offset.click,u._intersectsWith(u.containerCache)&&(f=!0,n.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,f=this!==u&&this._intersectsWith(this.containerCache)&&n.contains(u.element[0],this.element[0])?!1:f})),f?(u.isOver||(u.isOver=1,r._parent=i.helper.parent(),u.currentItem=i.helper.appendTo(u.element).data("ui-sortable-item",!0),u.options._helper=u.options.helper,u.options.helper=function(){return i.helper[0]},t.target=u.currentItem[0],u._mouseCapture(t,!0),u._mouseStart(t,!0,!0),u.offset.click.top=r.offset.click.top,u.offset.click.left=r.offset.click.left,u.offset.parent.left-=r.offset.parent.left-u.offset.parent.left,u.offset.parent.top-=r.offset.parent.top-u.offset.parent.top,r._trigger("toSortable",t),r.dropped=u.element,n.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,u.fromOutside=r),u.currentItem&&(u._mouseDrag(t),i.position=u.position)):u.isOver&&(u.isOver=0,u.cancelHelperRemoval=!0,u.options._revert=u.options.revert,u.options.revert=!1,u._trigger("out",t,u._uiHash(u)),u._mouseStop(t,!0),u.options.revert=u.options._revert,u.options.helper=u.options._helper,u.placeholder&&u.placeholder.remove(),i.helper.appendTo(r._parent),r._refreshOffsets(t),i.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,n.each(r.sortables,function(){this.refreshPositions()}))})}}),n.ui.plugin.add("draggable","cursor",{start:function(t,i,r){var u=n("body"),r=r.options;u.css("cursor")&&(r._cursor=u.css("cursor")),u.css("cursor",r.cursor)},stop:function(t,i,r){r=r.options,r._cursor&&n("body").css("cursor",r._cursor)}}),n.ui.plugin.add("draggable","opacity",{start:function(t,i,r){i=n(i.helper),r=r.options,i.css("opacity")&&(r._opacity=i.css("opacity")),i.css("opacity",r.opacity)},stop:function(t,i,r){r=r.options,r._opacity&&n(i.helper).css("opacity",r._opacity)}}),n.ui.plugin.add("draggable","scroll",{start:function(n,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,r){var u=r.options,o=!1,e=r.scrollParentNotHidden[0],f=r.document[0];e!==f&&"HTML"!==e.tagName?(u.axis&&"x"===u.axis||(r.overflowOffset.top+e.offsetHeight-t.pageY<u.scrollSensitivity?e.scrollTop=o=e.scrollTop+u.scrollSpeed:t.pageY-r.overflowOffset.top<u.scrollSensitivity&&(e.scrollTop=o=e.scrollTop-u.scrollSpeed)),u.axis&&"y"===u.axis||(r.overflowOffset.left+e.offsetWidth-t.pageX<u.scrollSensitivity?e.scrollLeft=o=e.scrollLeft+u.scrollSpeed:t.pageX-r.overflowOffset.left<u.scrollSensitivity&&(e.scrollLeft=o=e.scrollLeft-u.scrollSpeed))):(u.axis&&"x"===u.axis||(t.pageY-n(f).scrollTop()<u.scrollSensitivity?o=n(f).scrollTop(n(f).scrollTop()-u.scrollSpeed):n(window).height()-(t.pageY-n(f).scrollTop())<u.scrollSensitivity&&(o=n(f).scrollTop(n(f).scrollTop()+u.scrollSpeed))),u.axis&&"y"===u.axis||(t.pageX-n(f).scrollLeft()<u.scrollSensitivity?o=n(f).scrollLeft(n(f).scrollLeft()-u.scrollSpeed):n(window).width()-(t.pageX-n(f).scrollLeft())<u.scrollSensitivity&&(o=n(f).scrollLeft(n(f).scrollLeft()+u.scrollSpeed)))),!1!==o&&n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(r,t)}}),n.ui.plugin.add("draggable","snap",{start:function(t,i,r){var u=r.options;r.snapElements=[],n(u.snap.constructor!==String?u.snap.items||":data(ui-draggable)":u.snap).each(function(){var t=n(this),i=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,r){for(var e,s,h,o,a,v,c,l,b,d=r.options,f=d.snapTolerance,p=i.offset.left,k=p+r.helperProportions.width,y=i.offset.top,w=y+r.helperProportions.height,u=r.snapElements.length-1;0<=u;u--)v=(a=r.snapElements[u].left-r.margins.left)+r.snapElements[u].width,l=(c=r.snapElements[u].top-r.margins.top)+r.snapElements[u].height,k<a-f||v+f<p||w<c-f||l+f<y||!n.contains(r.snapElements[u].item.ownerDocument,r.snapElements[u].item)?(r.snapElements[u].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=!1):("inner"!==d.snapMode&&(e=Math.abs(c-w)<=f,s=Math.abs(l-y)<=f,h=Math.abs(a-k)<=f,o=Math.abs(v-p)<=f,e&&(i.position.top=r._convertPositionTo("relative",{top:c-r.helperProportions.height,left:0}).top),s&&(i.position.top=r._convertPositionTo("relative",{top:l,left:0}).top),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a-r.helperProportions.width}).left),o&&(i.position.left=r._convertPositionTo("relative",{top:0,left:v}).left)),b=e||s||h||o,"outer"!==d.snapMode&&(e=Math.abs(c-y)<=f,s=Math.abs(l-w)<=f,h=Math.abs(a-p)<=f,o=Math.abs(v-k)<=f,e&&(i.position.top=r._convertPositionTo("relative",{top:c,left:0}).top),s&&(i.position.top=r._convertPositionTo("relative",{top:l-r.helperProportions.height,left:0}).top),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a}).left),o&&(i.position.left=r._convertPositionTo("relative",{top:0,left:v-r.helperProportions.width}).left)),!r.snapElements[u].snapping&&(e||s||h||o||b)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=e||s||h||o||b)}}),n.ui.plugin.add("draggable","stack",{start:function(t,i,r){var u,r=r.options,r=n.makeArray(n(r.stack)).sort(function(t,i){return(parseInt(n(t).css("zIndex"),10)||0)-(parseInt(n(i).css("zIndex"),10)||0)});r.length&&(u=parseInt(n(r[0]).css("zIndex"),10)||0,n(r).each(function(t){n(this).css("zIndex",u+t)}),this.css("zIndex",u+r.length))}}),n.ui.plugin.add("draggable","zIndex",{start:function(t,i,r){i=n(i.helper),r=r.options,i.css("zIndex")&&(r._zIndex=i.css("zIndex")),i.css("zIndex",r.zIndex)},stop:function(t,i,r){r=r.options,r._zIndex&&n(i.helper).css("zIndex",r._zIndex)}}),n.ui.draggable,n.widget("ui.droppable",{version:"1.13.2",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var i,t=this.options,n=t.accept;this.isover=!1,this.isout=!0,this.accept="function"==typeof n?n:function(t){return t.is(n)},this.proportions=function(){if(!arguments.length)return i=i||{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};i=arguments[0]},this._addToManager(t.scope),t.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){n.ui.ddmanager.droppables[t]=n.ui.ddmanager.droppables[t]||[],n.ui.ddmanager.droppables[t].push(this)},_splice:function(n){for(var t=0;t<n.length;t++)n[t]===this&&n.splice(t,1)},_destroy:function(){var t=n.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,i){var r;"accept"===t?this.accept="function"==typeof i?i:function(n){return n.is(i)}:"scope"===t&&(r=n.ui.ddmanager.droppables[this.options.scope],this._splice(r),this._addToManager(i)),this._super(t,i)},_activate:function(t){var i=n.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=n.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var r=i||n.ui.ddmanager.current,u=!1;return!(!r||(r.currentItem||r.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=n(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===r.options.scope&&i.accept.call(i.element[0],r.currentItem||r.element)&&n.ui.intersect(r,n.extend(i,{offset:i.element.offset()}),i.options.tolerance,t))return!(u=!0)}),!u&&!!this.accept.call(this.element[0],r.currentItem||r.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(r)),this.element))},ui:function(n){return{draggable:n.currentItem||n.element,helper:n.helper,position:n.position,offset:n.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),n.ui.intersect=function(n,t,i,r){if(!t.offset)return!1;var e=(n.positionAbs||n.position.absolute).left+n.margins.left,o=(n.positionAbs||n.position.absolute).top+n.margins.top,l=e+n.helperProportions.width,c=o+n.helperProportions.height,u=t.offset.left,f=t.offset.top,h=u+t.proportions().width,s=f+t.proportions().height;switch(i){case"fit":return u<=e&&l<=h&&f<=o&&c<=s;case"intersect":return u<e+n.helperProportions.width/2&&l-n.helperProportions.width/2<h&&f<o+n.helperProportions.height/2&&c-n.helperProportions.height/2<s;case"pointer":return ii(r.pageY,f,t.proportions().height)&&ii(r.pageX,u,t.proportions().width);case"touch":return(f<=o&&o<=s||f<=c&&c<=s||o<f&&s<c)&&(u<=e&&e<=h||u<=l&&l<=h||e<u&&h<l);default:return!1}},!(n.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var r,f,u=n.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,e=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();n:for(r=0;r<u.length;r++)if(!(u[r].options.disabled||t&&!u[r].accept.call(u[r].element[0],t.currentItem||t.element))){for(f=0;f<e.length;f++)if(e[f]===u[r].element[0]){u[r].proportions().height=0;continue n}u[r].visible="none"!==u[r].element.css("display"),u[r].visible&&("mousedown"===o&&u[r]._activate.call(u[r],i),u[r].offset=u[r].element.offset(),u[r].proportions({width:u[r].element[0].offsetWidth,height:u[r].element[0].offsetHeight}))}},drop:function(t,i){var r=!1;return n.each((n.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&n.ui.intersect(t,this,this.options.tolerance,i)&&(r=this._drop.call(this,i)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),r},dragStart:function(t,i){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&n.ui.ddmanager.prepareOffsets(t,i),n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){var r,e,f,u;this.options.disabled||this.greedyChild||!this.visible||(u=!(f=n.ui.intersect(t,this,this.options.tolerance,i))&&this.isover?"isout":f&&!this.isover?"isover":null)&&(this.options.greedy&&(e=this.options.scope,(f=this.element.parents(":data(ui-droppable)").filter(function(){return n(this).droppable("instance").options.scope===e})).length&&((r=n(f[0]).droppable("instance")).greedyChild="isover"===u)),r&&"isover"===u&&(r.isover=!1,r.isout=!0,r._out.call(r,i)),this[u]=!0,this["isout"===u?"isover":"isout"]=!1,this["isover"===u?"_over":"_out"].call(this,i),r&&"isout"===u&&(r.isout=!1,r.isover=!0,r._over.call(r,i)))})},dragStop:function(t,i){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)}})!==n.uiBackCompat&&n.widget("ui.droppable",n.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),n.ui.droppable,n.widget("ui.resizable",n.ui.mouse,{version:"1.13.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(n){return parseFloat(n)||0},_isNumber:function(n){return!isNaN(parseFloat(n))},_hasScroll:function(t,i){if("hidden"===n(t).css("overflow"))return!1;var r=i&&"left"===i?"scrollLeft":"scrollTop",i=!1;if(0<t[r])return!0;try{t[r]=1,i=0<t[r],t[r]=0}catch(t){}return i},_create:function(){var r,t=this.options,i=this;this._addClass("ui-resizable"),n.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(n("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,r={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(r),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(r),this._proportionallyResize()),this._setupHandles(),t.autoHide&&n(this.element).on("mouseenter",function(){t.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){t.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){function i(t){n(t).removeData("resizable").removeData("ui-resizable").off(".resizable")}this._mouseDestroy(),this._addedHandles.remove();var t;return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(n,t){switch(this._super(n,t),n){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!t}},_setupHandles:function(){var i,r,f,o,t,u=this.options,e=this;if(this.handles=u.handles||(n(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=n(),this._addedHandles=n(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),f=this.handles.split(","),this.handles={},r=0;r<f.length;r++)o="ui-resizable-"+(i=String.prototype.trim.call(f[r])),t=n("<div>"),this._addClass(t,"ui-resizable-handle "+o),t.css({zIndex:u.zIndex}),this.handles[i]=".ui-resizable-"+i,this.element.children(this.handles[i]).length||(this.element.append(t),this._addedHandles=this._addedHandles.add(t));this._renderAxis=function(t){var i,r,u;for(i in t=t||this.element,this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=n(this.handles[i]),this._on(this.handles[i],{mousedown:e._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(r=n(this.handles[i],this.element),u=/sw|ne|nw|se|n|s/.test(i)?r.outerHeight():r.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(r,u),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){e.resizing||(this.className&&(t=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),e.axis=t&&t[1]?t[1]:"se")}),u.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(t){var u,r,i=!1;for(u in this.handles)(r=n(this.handles[u])[0])!==t.target&&!n.contains(r,t.target)||(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var f,u,r=this.options,i=this.element;return this.resizing=!0,this._renderProxy(),f=this._num(this.helper.css("left")),u=this._num(this.helper.css("top")),r.containment&&(f+=n(r.containment).scrollLeft()||0,u+=n(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:f,top:u},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalPosition={left:f,top:u},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=n(".ui-resizable-"+this.axis).css("cursor"),n("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i=this.originalMousePosition,r=this.axis,u=t.pageX-i.left||0,i=t.pageY-i.top||0,r=this._change[r];return this._updatePrevProperties(),r&&(i=r.apply(this,[t,u,i]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),n.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges())),!1},_mouseStop:function(t){this.resizing=!1;var u,r,f,e=this.options,i=this;return this._helper&&(f=(u=(r=this._proportionallyResizeElements).length&&/textarea/i.test(r[0].nodeName))&&this._hasScroll(r[0],"left")?0:i.sizeDiff.height,r=u?0:i.sizeDiff.width,u={width:i.helper.width()-r,height:i.helper.height()-f},r=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,f=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null,e.animate||this.element.css(n.extend(u,{top:f,left:r})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!e.animate&&this._proportionallyResize()),n("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var n={};return this.position.top!==this.prevPosition.top&&(n.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(n.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(n.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(n.height=this.size.height+"px"),this.helper.css(n),n},_updateVirtualBoundaries:function(n){var u,r,i=this.options,t={minWidth:this._isNumber(i.minWidth)?i.minWidth:0,maxWidth:this._isNumber(i.maxWidth)?i.maxWidth:1/0,minHeight:this._isNumber(i.minHeight)?i.minHeight:0,maxHeight:this._isNumber(i.maxHeight)?i.maxHeight:1/0};(this._aspectRatio||n)&&(u=t.minHeight*this.aspectRatio,r=t.minWidth/this.aspectRatio,i=t.maxHeight*this.aspectRatio,n=t.maxWidth/this.aspectRatio,u>t.minWidth&&(t.minWidth=u),r>t.minHeight&&(t.minHeight=r),i<t.maxWidth&&(t.maxWidth=i),n<t.maxHeight&&(t.maxHeight=n)),this._vBoundaries=t},_updateCache:function(n){this.offset=this.helper.offset(),this._isNumber(n.left)&&(this.position.left=n.left),this._isNumber(n.top)&&(this.position.top=n.top),this._isNumber(n.height)&&(this.size.height=n.height),this._isNumber(n.width)&&(this.size.width=n.width)},_updateRatio:function(n){var i=this.position,t=this.size,r=this.axis;return this._isNumber(n.height)?n.width=n.height*this.aspectRatio:this._isNumber(n.width)&&(n.height=n.width/this.aspectRatio),"sw"===r&&(n.left=i.left+(t.width-n.width),n.top=null),"nw"===r&&(n.top=i.top+(t.height-n.height),n.left=i.left+(t.width-n.width)),n},_respectSize:function(n){var t=this._vBoundaries,i=this.axis,o=this._isNumber(n.width)&&t.maxWidth&&t.maxWidth<n.width,s=this._isNumber(n.height)&&t.maxHeight&&t.maxHeight<n.height,h=this._isNumber(n.width)&&t.minWidth&&t.minWidth>n.width,e=this._isNumber(n.height)&&t.minHeight&&t.minHeight>n.height,r=this.originalPosition.left+this.originalSize.width,u=this.originalPosition.top+this.originalSize.height,f=/sw|nw|w/.test(i),i=/nw|ne|n/.test(i);return h&&(n.width=t.minWidth),e&&(n.height=t.minHeight),o&&(n.width=t.maxWidth),s&&(n.height=t.maxHeight),h&&f&&(n.left=r-t.minWidth),o&&f&&(n.left=r-t.maxWidth),e&&i&&(n.top=u-t.minHeight),s&&i&&(n.top=u-t.maxHeight),n.width||n.height||n.left||!n.top?n.width||n.height||n.top||!n.left||(n.left=null):n.top=null,n},_getPaddingPlusBorderDimensions:function(n){for(var i=0,t=[],u=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],r=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")];i<4;i++)t[i]=parseFloat(u[i])||0,t[i]+=parseFloat(r[i])||0;return{height:t[0]+t[2],width:t[1]+t[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,n=0,i=this.helper||this.element;n<this._proportionallyResizeElements.length;n++)t=this._proportionallyResizeElements[n],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var i=this.element,t=this.options;this.elementOffset=i.offset(),this._helper?(this.helper=this.helper||n("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++t.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(n,t){return{width:this.originalSize.width+t}},w:function(n,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(n,t,i){var r=this.originalSize;return{top:this.originalPosition.top+i,height:r.height-i}},s:function(n,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},nw:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){n.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),n.ui.plugin.add("resizable","animate",{stop:function(t){var i=n(this).resizable("instance"),o=i.options,r=i._proportionallyResizeElements,e=r.length&&/textarea/i.test(r[0].nodeName),u=e&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,f=e?0:i.sizeDiff.width,e={width:i.size.width-f,height:i.size.height-u},f=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,u=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(n.extend(e,u&&f?{top:u,left:f}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var u={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};r&&r.length&&n(r[0]).css({width:u.width,height:u.height}),i._updateCache(u),i._propagate("resize",t)}})}}),n.ui.plugin.add("resizable","containment",{start:function(){var u,o,t=n(this).resizable("instance"),e=t.options,f=t.element,i=e.containment,r=i instanceof n?i.get(0):/parent/.test(i)?f.parent().get(0):i;r&&(t.containerElement=n(r),/document/.test(i)||i===document?(t.containerOffset={left:0,top:0},t.containerPosition={left:0,top:0},t.parentData={element:n(document),left:0,top:0,width:n(document).width(),height:n(document).height()||document.body.parentNode.scrollHeight}):(u=n(r),o=[],n(["Top","Right","Left","Bottom"]).each(function(n,i){o[n]=t._num(u.css("padding"+i))}),t.containerOffset=u.offset(),t.containerPosition=u.position(),t.containerSize={height:u.innerHeight()-o[3],width:u.innerWidth()-o[1]},e=t.containerOffset,f=t.containerSize.height,i=t.containerSize.width,i=t._hasScroll(r,"left")?r.scrollWidth:i,f=t._hasScroll(r)?r.scrollHeight:f,t.parentData={element:r,left:e.left,top:e.top,width:i,height:f}))},resize:function(t){var i=n(this).resizable("instance"),o=i.options,r=i.containerOffset,u=i.position,e=i._aspectRatio||t.shiftKey,f={top:0,left:0},s=i.containerElement,t=!0;s[0]!==document&&/static/.test(s.css("position"))&&(f=r),u.left<(i._helper?r.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-r.left:i.position.left-f.left),e&&(i.size.height=i.size.width/i.aspectRatio,t=!1),i.position.left=o.helper?r.left:0),u.top<(i._helper?r.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-r.top:i.position.top),e&&(i.size.width=i.size.height*i.aspectRatio,t=!1),i.position.top=i._helper?r.top:0),o=i.containerElement.get(0)===i.element.parent().get(0),u=/relative|absolute/.test(i.containerElement.css("position")),o&&u?(i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top):(i.offset.left=i.element.offset().left,i.offset.top=i.element.offset().top),u=Math.abs(i.sizeDiff.width+(i._helper?i.offset.left-f.left:i.offset.left-r.left)),r=Math.abs(i.sizeDiff.height+(i._helper?i.offset.top-f.top:i.offset.top-r.top)),u+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-u,e&&(i.size.height=i.size.width/i.aspectRatio,t=!1)),r+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-r,e&&(i.size.width=i.size.height*i.aspectRatio,t=!1)),t||(i.position.left=i.prevPosition.left,i.position.top=i.prevPosition.top,i.size.width=i.prevSize.width,i.size.height=i.prevSize.height)},stop:function(){var t=n(this).resizable("instance"),e=t.options,o=t.containerOffset,s=t.containerPosition,f=t.containerElement,i=n(t.helper),u=i.offset(),r=i.outerWidth()-t.sizeDiff.width,i=i.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(f.css("position"))&&n(this).css({left:u.left-s.left-o.left,width:r,height:i}),t._helper&&!e.animate&&/static/.test(f.css("position"))&&n(this).css({left:u.left-s.left-o.left,width:r,height:i})}}),n.ui.plugin.add("resizable","alsoResize",{start:function(){var t=n(this).resizable("instance").options;n(t.alsoResize).each(function(){var t=n(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,i){var r=n(this).resizable("instance"),o=r.options,f=r.originalSize,u=r.originalPosition,e={height:r.size.height-f.height||0,width:r.size.width-f.width||0,top:r.position.top-u.top||0,left:r.position.left-u.left||0};n(o.alsoResize).each(function(){var r=n(this),f=n(this).data("ui-resizable-alsoresize"),t={},u=r.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];n.each(u,function(n,i){var r=(f[i]||0)+(e[i]||0);r&&0<=r&&(t[i]=r||null)}),r.css(t)})},stop:function(){n(this).removeData("ui-resizable-alsoresize")}}),n.ui.plugin.add("resizable","ghost",{start:function(){var t=n(this).resizable("instance"),i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==n.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=n(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=n(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),n.ui.plugin.add("resizable","grid",{resize:function(){var v,t=n(this).resizable("instance"),r=t.options,a=t.size,o=t.originalSize,s=t.originalPosition,l=t.axis,y="number"==typeof r.grid?[r.grid,r.grid]:r.grid,e=y[0]||1,f=y[1]||1,c=Math.round((a.width-o.width)/e)*e,h=Math.round((a.height-o.height)/f)*f,u=o.width+c,i=o.height+h,b=r.maxWidth&&r.maxWidth<u,w=r.maxHeight&&r.maxHeight<i,p=r.minWidth&&r.minWidth>u,a=r.minHeight&&r.minHeight>i;r.grid=y,p&&(u+=e),a&&(i+=f),b&&(u-=e),w&&(i-=f),/^(se|s|e)$/.test(l)?(t.size.width=u,t.size.height=i):/^(ne)$/.test(l)?(t.size.width=u,t.size.height=i,t.position.top=s.top-h):/^(sw)$/.test(l)?(t.size.width=u,t.size.height=i,t.position.left=s.left-c):((i-f<=0||u-e<=0)&&(v=t._getPaddingPlusBorderDimensions(this)),0<i-f?(t.size.height=i,t.position.top=s.top-h):(i=f-v.height,t.size.height=i,t.position.top=s.top+o.height-i),0<u-e?(t.size.width=u,t.position.left=s.left-c):(u=e-v.width,t.size.width=u,t.position.left=s.left+o.width-u))}}),n.ui.resizable,n.widget("ui.selectable",n.ui.mouse,{version:"1.13.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t.elementPos=n(t.element[0]).offset(),t.selectees=n(t.options.filter,t.element[0]),t._addClass(t.selectees,"ui-selectee"),t.selectees.each(function(){var i=n(this),r=i.offset(),r={left:r.left-t.elementPos.left,top:r.top-t.elementPos.top};n.data(this,"selectable-item",{element:this,$element:i,left:r.left,top:r.top,right:r.left+i.outerWidth(),bottom:r.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=n("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(t){var i=this,r=this.options;this.opos=[t.pageX,t.pageY],this.elementPos=n(this.element[0]).offset(),this.options.disabled||(this.selectees=n(r.filter,this.element[0]),this._trigger("start",t),n(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=n.data(this,"selectable-item");r.startselected=!0,t.metaKey||t.ctrlKey||(i._removeClass(r.$element,"ui-selected"),r.selected=!1,i._addClass(r.$element,"ui-unselecting"),r.unselecting=!0,i._trigger("unselecting",t,{unselecting:r.element}))}),n(t.target).parents().addBack().each(function(){var u,r=n.data(this,"selectable-item");if(r)return u=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),i._removeClass(r.$element,u?"ui-unselecting":"ui-selected")._addClass(r.$element,u?"ui-selecting":"ui-unselecting"),r.unselecting=!u,r.selecting=u,(r.selected=u)?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var o,i=this,s=this.options,r=this.opos[0],u=this.opos[1],f=t.pageX,e=t.pageY;return f<r&&(o=f,f=r,r=o),e<u&&(o=e,e=u,u=o),this.helper.css({left:r,top:u,width:f-r,height:e-u}),this.selectees.each(function(){var o=n.data(this,"selectable-item"),c=!1,h={};o&&o.element!==i.element[0]&&(h.left=o.left+i.elementPos.left,h.right=o.right+i.elementPos.left,h.top=o.top+i.elementPos.top,h.bottom=o.bottom+i.elementPos.top,"touch"===s.tolerance?c=!(h.left>f||h.right<r||h.top>e||h.bottom<u):"fit"===s.tolerance&&(c=h.left>r&&h.right<f&&h.top>u&&h.bottom<e),c?(o.selected&&(i._removeClass(o.$element,"ui-selected"),o.selected=!1),o.unselecting&&(i._removeClass(o.$element,"ui-unselecting"),o.unselecting=!1),o.selecting||(i._addClass(o.$element,"ui-selecting"),o.selecting=!0,i._trigger("selecting",t,{selecting:o.element}))):(o.selecting&&((t.metaKey||t.ctrlKey)&&o.startselected?(i._removeClass(o.$element,"ui-selecting"),o.selecting=!1,i._addClass(o.$element,"ui-selected"),o.selected=!0):(i._removeClass(o.$element,"ui-selecting"),o.selecting=!1,o.startselected&&(i._addClass(o.$element,"ui-unselecting"),o.unselecting=!0),i._trigger("unselecting",t,{unselecting:o.element}))),o.selected&&(t.metaKey||t.ctrlKey||o.startselected||(i._removeClass(o.$element,"ui-selected"),o.selected=!1,i._addClass(o.$element,"ui-unselecting"),o.unselecting=!0,i._trigger("unselecting",t,{unselecting:o.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,n(".ui-unselecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");i._removeClass(r.$element,"ui-unselecting"),r.unselecting=!1,r.startselected=!1,i._trigger("unselected",t,{unselected:r.element})}),n(".ui-selecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");i._removeClass(r.$element,"ui-selecting")._addClass(r.$element,"ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,i._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),n.widget("ui.sortable",n.ui.mouse,{version:"1.13.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(n,t,i){return t<=n&&n<t+i},_isFloating:function(n){return/left|right/.test(n.css("float"))||/inline|table-cell/.test(n.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(n,t){this._super(n,t),"handle"===n&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),n.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var n=this.items.length-1;0<=n;n--)this.items[n].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var r=null,f=!1,u=this;return!this.reverting&&!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),n(t.target).parents().each(function(){if(n.data(this,u.widgetName+"-item")===u)return r=n(this),!1}),!!(r=n.data(t.target,u.widgetName+"-item")===u?n(t.target):r)&&!(this.options.handle&&!i&&(n(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(f=!0)}),!f))&&(this.currentItem=r,this._removeCurrentsFromItems(),!0))},_mouseStart:function(t,i,r){var f,e,u=this.options;if((this.currentContainer=this).refreshPositions(),this.appendTo=n("parent"!==u.appendTo?u.appendTo:this.currentItem.parent()),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),u.cursorAt&&this._adjustOffsetFromHelper(u.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),n.extend(this.offset,{parent:this._getParentOffset()}),u.containment&&this._setContainment(),u.cursor&&"auto"!==u.cursor&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),e.css("cursor",u.cursor),this.storedStylesheet=n("<style>*{ cursor: "+u.cursor+" !important; }</style>").appendTo(e)),u.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",u.zIndex)),u.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",u.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(f=this.containers.length-1;0<=f;f--)this.containers[f]._trigger("activate",t,this._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(t),!0},_scroll:function(n){var t=this.options,i=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-n.pageY<t.scrollSensitivity?this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+t.scrollSpeed:n.pageY-this.overflowOffset.top<t.scrollSensitivity&&(this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-t.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-n.pageX<t.scrollSensitivity?this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+t.scrollSpeed:n.pageX-this.overflowOffset.left<t.scrollSensitivity&&(this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-t.scrollSpeed)):(n.pageY-this.document.scrollTop()<t.scrollSensitivity?i=this.document.scrollTop(this.document.scrollTop()-t.scrollSpeed):this.window.height()-(n.pageY-this.document.scrollTop())<t.scrollSensitivity&&(i=this.document.scrollTop(this.document.scrollTop()+t.scrollSpeed)),n.pageX-this.document.scrollLeft()<t.scrollSensitivity?i=this.document.scrollLeft(this.document.scrollLeft()-t.scrollSpeed):this.window.width()-(n.pageX-this.document.scrollLeft())<t.scrollSensitivity&&(i=this.document.scrollLeft(this.document.scrollLeft()+t.scrollSpeed))),i},_mouseDrag:function(t){var u,r,i,f,e=this.options;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.scroll&&!1!==this._scroll(t)&&(this._refreshItemPositions(!0),n.ui.ddmanager&&!e.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},u=this.items.length-1;0<=u;u--)if(i=(r=this.items[u]).item[0],(f=this._intersectsWithPointer(r))&&r.instance===this.currentContainer&&!(i===this.currentItem[0]||this.placeholder[1===f?"next":"prev"]()[0]===i||n.contains(this.placeholder[0],i)||"semi-dynamic"===this.options.type&&n.contains(this.element[0],i))){if(this.direction=1===f?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){var e,f,r,u;if(t)return n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,t),this.options.revert?(f=(e=this).placeholder.offset(),u={},(r=this.options.axis)&&"x"!==r||(u.left=f.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(u.top=f.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,n(this.helper).animate(u,parseInt(this.options.revert,10)||500,function(){e._clear(t)})):this._clear(t,i),!1},cancel:function(){if(this.dragging){this._mouseUp(new n.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n(r).each(function(){var r=(n(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);r&&i.push((t.key||r[1]+"[]")+"="+(t.key&&t.expression?r[1]:r[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},r.each(function(){i.push(n(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(n){var i=this.positionAbs.left,h=i+this.helperProportions.width,t=this.positionAbs.top,c=t+this.helperProportions.height,e=n.left,s=e+n.width,r=n.top,o=r+n.height,u=this.offset.click.top,f=this.offset.click.left,u="x"===this.options.axis||r<t+u&&t+u<o,f="y"===this.options.axis||e<i+f&&i+f<s;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"]?u&&f:e<i+this.helperProportions.width/2&&h-this.helperProportions.width/2<s&&r<t+this.helperProportions.height/2&&c-this.helperProportions.height/2<o},_intersectsWithPointer:function(n){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,n.top,n.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,n.left,n.width);return!(!t||!n)&&(t=this.dragDirection.vertical,n=this.dragDirection.horizontal,this.floating?"right"===n||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(n){var i=this._isOverAxis(this.positionAbs.top+this.offset.click.top,n.top+n.height/2,n.height),r=this._isOverAxis(this.positionAbs.left+this.offset.click.left,n.left+n.width/2,n.width),t=this.dragDirection.vertical,n=this.dragDirection.horizontal;return this.floating&&n?"right"===n&&r||"left"===n&&!r:t&&("down"===t&&i||"up"===t&&!i)},_getDragVerticalDirection:function(){var n=this.positionAbs.top-this.lastPositionAbs.top;return 0!=n&&(0<n?"down":"up")},_getDragHorizontalDirection:function(){var n=this.positionAbs.left-this.lastPositionAbs.left;return 0!=n&&(0<n?"right":"left")},refresh:function(n){return this._refreshItems(n),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var n=this.options;return n.connectWith.constructor===String?[n.connectWith]:n.connectWith},_getItemsAsjQuery:function(t){function h(){s.push(this)}var r,f,o,i,s=[],u=[],e=this._connectWith();if(e&&t)for(r=e.length-1;0<=r;r--)for(f=(o=n(e[r],this.document[0])).length-1;0<=f;f--)(i=n.data(o[f],this.widgetFullName))&&i!==this&&!i.options.disabled&&u.push(["function"==typeof i.options.items?i.options.items.call(i.element):n(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);for(u.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=u.length-1;0<=r;r--)u[r][0].each(h);return n(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=n.grep(this.items,function(n){for(var i=0;i<t.length;i++)if(t[i]===n.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var r,u,s,i,o,c,l,h,a=this.items,f=[["function"==typeof this.options.items?this.options.items.call(this.element[0],t,{item:this.currentItem}):n(this.options.items,this.element),this]],e=this._connectWith();if(e&&this.ready)for(r=e.length-1;0<=r;r--)for(u=(s=n(e[r],this.document[0])).length-1;0<=u;u--)(i=n.data(s[u],this.widgetFullName))&&i!==this&&!i.options.disabled&&(f.push(["function"==typeof i.options.items?i.options.items.call(i.element[0],t,{item:this.currentItem}):n(i.options.items,i.element),i]),this.containers.push(i));for(r=f.length-1;0<=r;r--)for(o=f[r][1],h=(c=f[r][u=0]).length;u<h;u++)(l=n(c[u])).data(this.widgetName+"-item",o),a.push({item:l,instance:o,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(t){for(var i,r,u=this.items.length-1;0<=u;u--)i=this.items[u],this.currentContainer&&i.instance!==this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?n(this.options.toleranceElement,i.item):i.item,t||(i.width=r.outerWidth(),i.height=r.outerHeight()),r=r.offset(),i.left=r.left,i.top=r.top)},refreshPositions:function(n){var t,i;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(n),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;0<=t;t--)i=this.containers[t].element.offset(),this.containers[t].containerCache.left=i.left,this.containers[t].containerCache.top=i.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(t){var u,r,i=(t=t||this).options;i.placeholder&&i.placeholder.constructor!==String||(u=i.placeholder,r=t.currentItem[0].nodeName.toLowerCase(),i.placeholder={element:function(){var i=n("<"+r+">",t.document[0]);return t._addClass(i,"ui-sortable-placeholder",u||t.currentItem[0].className)._removeClass(i,"ui-sortable-helper"),"tbody"===r?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),n("<tr>",t.document[0]).appendTo(i)):"tr"===r?t._createTrPlaceholder(t.currentItem,i):"img"===r&&i.attr("src",t.currentItem.attr("src")),u||i.css("visibility","hidden"),i},update:function(n,f){u&&!i.forcePlaceholderSize||(f.height()&&(!i.forcePlaceholderSize||"tbody"!==r&&"tr"!==r)||f.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),f.width()||f.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=n(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var r=this;t.children().each(function(){n("<td>&#160;</td>",r.document[0]).attr("colspan",n(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){for(var u,c,e,v,a,s,h,l,o,f=null,i=null,r=this.containers.length-1;0<=r;r--)n.contains(this.currentItem[0],this.containers[r].element[0])||(this._intersectsWith(this.containers[r].containerCache)?f&&n.contains(this.containers[r].element[0],f.element[0])||(f=this.containers[r],i=r):this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",t,this._uiHash(this)),this.containers[r].containerCache.over=0));if(f)if(1===this.containers.length)this.containers[i].containerCache.over||(this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1);else{for(c=1e4,e=null,v=(l=f.floating||this._isFloating(this.currentItem))?"left":"top",a=l?"width":"height",o=l?"pageX":"pageY",u=this.items.length-1;0<=u;u--)n.contains(this.containers[i].element[0],this.items[u].item[0])&&this.items[u].item[0]!==this.currentItem[0]&&(s=this.items[u].item.offset()[v],h=!1,t[o]-s>this.items[u][a]/2&&(h=!0),Math.abs(t[o]-s)<c&&(c=Math.abs(t[o]-s),e=this.items[u],this.direction=h?"up":"down"));(e||this.options.dropOnEmpty)&&(this.currentContainer!==this.containers[i]?(e?this._rearrange(t,e,null,!0):this._rearrange(t,null,this.containers[i].element,!0),this._trigger("change",t,this._uiHash()),this.containers[i]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[i],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1):this.currentContainer.containerCache.over||(this.containers[i]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1))}},_createHelper:function(t){var i=this.options,t="function"==typeof i.helper?n(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return t.parents("body").length||this.appendTo[0].appendChild(t[0]),t[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),t[0].style.width&&!i.forceHelperSize||t.width(this.currentItem.width()),t[0].style.height&&!i.forceHelperSize||t.height(this.currentItem.height()),t},_adjustOffsetFromHelper:function(n){"string"==typeof n&&(n=n.split(" ")),"left"in(n=Array.isArray(n)?{left:+n[0],top:+n[1]||0}:n)&&(this.offset.click.left=n.left+this.margins.left),"right"in n&&(this.offset.click.left=this.helperProportions.width-n.right+this.margins.left),"top"in n&&(this.offset.click.top=n.top+this.margins.top),"bottom"in n&&(this.offset.click.top=this.helperProportions.height-n.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),{top:(t=this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&n.ui.ie?{top:0,left:0}:t).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var n=this.currentItem.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,r,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=n(i.containment)[0],r=n(i.containment).offset(),i="hidden"!==n(t).css("overflow"),this.containment=[r.left+(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0)-this.margins.top,r.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i=i||this.position;var r="absolute"===t?1:-1,u="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,t=/(html|body)/i.test(u[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():t?0:u.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():t?0:u.scrollLeft())*r}},_generatePosition:function(t){var i=this.options,u=t.pageX,r=t.pageY,f="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(f[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(u=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(u=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),i.grid&&(t=this.originalPageY+Math.round((r-this.originalPageY)/i.grid[1])*i.grid[1],r=!this.containment||t-this.offset.click.top>=this.containment[1]&&t-this.offset.click.top<=this.containment[3]?t:t-this.offset.click.top>=this.containment[1]?t-i.grid[1]:t+i.grid[1],t=this.originalPageX+Math.round((u-this.originalPageX)/i.grid[0])*i.grid[0],u=!this.containment||t-this.offset.click.left>=this.containment[0]&&t-this.offset.click.left<=this.containment[2]?t:t-this.offset.click.left>=this.containment[0]?t-i.grid[0]:t+i.grid[0])),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():e?0:f.scrollTop()),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():e?0:f.scrollLeft())}},_rearrange:function(n,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var u=this.counter;this._delay(function(){u===this.counter&&this.refreshPositions(!r)})},_clear:function(n,t){function u(n,t,i){return function(r){i._trigger(n,r,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(n){this._trigger("update",n,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(n){this._trigger("remove",n,this._uiHash())}),r.push(function(n){return function(t){n._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(n){return function(t){n._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;0<=i;i--)t||r.push(u("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(u("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",n,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<r.length;i++)r[i].call(this,n);this._trigger("stop",n,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===n.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||n([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),n.widget("ui.accordion",{version:"1.13.2",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(n){return n.find("> li > :first-child").add(n.find("> :not(li)").even())},heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=n(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():n()}},_createIcons:function(){var t,i=this.options.icons;i&&(t=n("<span>"),this._addClass(t,"ui-accordion-header-icon","ui-icon "+i.header),t.prependTo(this.headers),t=this.active.children(".ui-accordion-header-icon"),this._removeClass(t,i.header)._addClass(t,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var n;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),n=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&n.css("height","")},_setOption:function(n,t){"active"!==n?("event"===n&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(n,t),"collapsible"!==n||t||!1!==this.options.active||this._activate(0),"icons"===n&&(this._destroyIcons(),t&&this._createIcons())):this._activate(t)},_setOptionDisabled:function(n){this._super(n),this.element.attr("aria-disabled",n),this._toggleClass(null,"ui-state-disabled",!!n),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!n)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=n.ui.keyCode,u=this.headers.length,f=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(f+1)%u];break;case i.LEFT:case i.UP:r=this.headers[(f-1+u)%u];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[u-1]}r&&(n(t.target).attr("tabIndex",-1),n(r).attr("tabIndex",0),n(r).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===n.ui.keyCode.UP&&t.ctrlKey&&n(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=n()):!1===t.active?this._activate(0):this.active.length&&!n.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=n()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,n=this.panels;this.headers="function"==typeof this.options.header?this.options.header(this.element):this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),n&&(this._off(t.not(this.headers)),this._off(n.not(this.panels)))},_refresh:function(){var t,i=this.options,r=i.heightStyle,u=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var t=n(this),u=t.uniqueId().attr("id"),i=t.next(),r=i.uniqueId().attr("id");t.attr("aria-controls",r),i.attr("aria-labelledby",u)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===r?(t=u.height(),this.element.siblings(":visible").each(function(){var r=n(this),i=r.css("position");"absolute"!==i&&"fixed"!==i&&(t-=r.outerHeight(!0))}),this.headers.each(function(){t-=n(this).outerHeight(!0)}),this.headers.next().each(function(){n(this).height(Math.max(0,t-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):"auto"===r&&(t=0,this.headers.next().each(function(){var i=n(this).is(":visible");i||n(this).show(),t=Math.max(t,n(this).css("height","").height()),i||n(this).hide()}).height(t))},_activate:function(t){t=this._findActive(t)[0],t!==this.active[0]&&(t=t||this.active[0],this._eventHandler({target:t,currentTarget:t,preventDefault:n.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):n()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var r=this.options,u=this.active,i=n(t.currentTarget),f=i[0]===u[0],o=f&&r.collapsible,e=o?n():i.next(),s=u.next(),e={oldHeader:u,oldPanel:s,newHeader:o?n():i,newPanel:e};t.preventDefault(),f&&!r.collapsible||!1===this._trigger("beforeActivate",t,e)||(r.active=!o&&this.headers.index(i),this.active=f?n():i,this._toggle(e),this._removeClass(u,"ui-accordion-header-active","ui-state-active"),r.icons&&(u=u.children(".ui-accordion-header-icon"),this._removeClass(u,null,r.icons.activeHeader)._addClass(u,null,r.icons.header)),f||(this._removeClass(i,"ui-accordion-header-collapsed")._addClass(i,"ui-accordion-header-active","ui-state-active"),r.icons&&(f=i.children(".ui-accordion-header-icon"),this._removeClass(f,null,r.icons.header)._addClass(f,null,r.icons.activeHeader)),this._addClass(i.next(),"ui-accordion-content-active")))},_toggle:function(t){var r=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=r,this.prevHide=i,this.options.animate?this._animate(r,i,t):(i.hide(),r.show(),this._toggleComplete(t)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),r.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):r.length&&this.headers.filter(function(){return 0===parseInt(n(this).attr("tabIndex"),10)}).attr("tabIndex",-1),r.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(n,t,i){var c,u,r,h=this,s=0,l=n.css("box-sizing"),e=n.length&&(!t.length||n.index()<t.index()),o=this.options.animate||{},f=e&&o.down||o,e=function(){h._toggleComplete(i)};return u=(u="string"==typeof f?f:u)||f.easing||o.easing,r=(r="number"==typeof f?f:r)||f.duration||o.duration,t.length?n.length?(c=n.show().outerHeight(),t.animate(this.hideProps,{duration:r,easing:u,step:function(n,t){t.now=Math.round(n)}}),void n.hide().animate(this.showProps,{duration:r,easing:u,complete:e,step:function(n,i){i.now=Math.round(n),"height"!==i.prop?"content-box"===l&&(s+=i.now):"content"!==h.options.heightStyle&&(i.now=Math.round(c-t.outerHeight()-s),s=0)}})):t.animate(this.hideProps,r,u,e):n.animate(this.showProps,r,u,e)},_toggleComplete:function(n){var t=n.oldPanel,i=t.prev();this._removeClass(t,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,n)}}),n.widget("ui.menu",{version:"1.13.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(n){n.preventDefault(),this._activateItem(n)},"click .ui-menu-item":function(t){var i=n(t.target),r=n(n.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&r.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(n,t){var i=this.active||this._menuItems().first();t||this.focus(n,i)},blur:function(t){this._delay(function(){n.contains(this.element[0],n.ui.safeActiveElement(this.document[0]))||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(n){this._closeOnDocumentClick(n)&&this.collapseAll(n,!0),this.mouseHandled=!1}})},_activateItem:function(t){var r,i;this.previousFilter||t.clientX===this.lastMousePosition.x&&t.clientY===this.lastMousePosition.y||(this.lastMousePosition={x:t.clientX,y:t.clientY},r=n(t.target).closest(".ui-menu-item"),i=n(t.currentTarget),r[0]===i[0]&&(i.is(".ui-state-active")||(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,i))))},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),t.children().each(function(){var t=n(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var i,r,u,f=!0;switch(t.keyCode){case n.ui.keyCode.PAGE_UP:this.previousPage(t);break;case n.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case n.ui.keyCode.HOME:this._move("first","first",t);break;case n.ui.keyCode.END:this._move("last","last",t);break;case n.ui.keyCode.UP:this.previous(t);break;case n.ui.keyCode.DOWN:this.next(t);break;case n.ui.keyCode.LEFT:this.collapse(t);break;case n.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:this._activate(t);break;case n.ui.keyCode.ESCAPE:this.collapse(t);break;default:i=this.previousFilter||"",u=f=!1,r=96<=t.keyCode&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),r===i?u=!0:r=i+r,i=this._filterMenuItems(r),(i=u&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(r=String.fromCharCode(t.keyCode),i=this._filterMenuItems(r)),i.length?(this.focus(t,i),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}f&&t.preventDefault()},_activate:function(n){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(n):this.select(n))},refresh:function(){var r,t,u=this,f=this.options.icons.submenu,i=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),t=i.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var r=n(this),i=r.prev(),t=n("<span>").data("ui-menu-submenu-caret",!0);u._addClass(t,"ui-menu-icon","ui-icon "+f),i.attr("aria-haspopup","true").prepend(t),r.attr("aria-labelledby",i.attr("id"))}),this._addClass(t,"ui-menu","ui-widget ui-widget-content ui-front"),(r=i.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=n(this);u._isDivider(t)&&u._addClass(t,"ui-menu-divider","ui-widget-content")}),i=(t=r.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(t,"ui-menu-item")._addClass(i,"ui-menu-item-wrapper"),r.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!n.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(n,t){var i;"icons"===n&&(i=this.element.find(".ui-menu-icon"),this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)),this._super(n,t)},_setOptionDisabled:function(n){this._super(n),this.element.attr("aria-disabled",String(n)),this._toggleClass(null,"ui-state-disabled",!!n)},focus:function(n,t){var i;this.blur(n,n&&"focus"===n.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),i=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),n&&"keydown"===n.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=t.children(".ui-menu")).length&&n&&/^mouse/.test(n.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",n,{item:t})},_scrollIntoView:function(t){var u,r,i;this._hasScroll()&&(r=parseFloat(n.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(n.css(this.activeMenu[0],"paddingTop"))||0,u=t.offset().top-this.activeMenu.offset().top-r-i,r=this.activeMenu.scrollTop(),i=this.activeMenu.height(),t=t.outerHeight(),u<0?this.activeMenu.scrollTop(r+u):i<u+t&&this.activeMenu.scrollTop(r+u-i+t))},blur:function(n,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",n,{item:this.active}),this.active=null)},_startOpening:function(n){clearTimeout(this.timer),"true"===n.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(n)},this.delay))},_open:function(t){var i=n.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var r=i?this.element:n(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(t),this._removeClass(r.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=r},i?0:this.delay)},_close:function(n){(n=n||(this.active?this.active.parent():this.element)).find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!n(t.target).closest(".ui-menu").length},_isDivider:function(n){return!/[^\-\u2014\u2013\s]/.test(n.text())},collapse:function(n){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(n,t))},expand:function(n){var t=this.active&&this._menuItems(this.active.children(".ui-menu")).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(n,t)}))},next:function(n){this._move("next","first",n)},previous:function(n){this._move("prev","last",n)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(n){return(n||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(n,t,i){var r;(r=this.active?"first"===n||"last"===n?this.active["first"===n?"prevAll":"nextAll"](".ui-menu-item").last():this.active[n+"All"](".ui-menu-item").first():r)&&r.length&&this.active||(r=this._menuItems(this.activeMenu)[t]()),this.focus(i,r)},nextPage:function(t){var r,u,i;this.active?this.isLastItem()||(this._hasScroll()?(u=this.active.offset().top,i=this.element.innerHeight(),0===n.fn.jquery.indexOf("3.2.")&&(i+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return(r=n(this)).offset().top-u-i<0}),this.focus(t,r)):this.focus(t,this._menuItems(this.activeMenu)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var r,u,i;this.active?this.isFirstItem()||(this._hasScroll()?(u=this.active.offset().top,i=this.element.innerHeight(),0===n.fn.jquery.indexOf("3.2.")&&(i+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return 0<(r=n(this)).offset().top-u+i}),this.focus(t,r)):this.focus(t,this._menuItems(this.activeMenu).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||n(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var t=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+t,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(String.prototype.trim.call(n(this).children(".ui-menu-item-wrapper").text()))})}}),n.widget("ui.autocomplete",{version:"1.13.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var t,u,r,i=this.element[0].nodeName.toLowerCase(),f="textarea"===i,i="input"===i;this.isMultiLine=f||!i&&this._isContentEditable(this.element),this.valueMethod=this.element[f||i?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly"))u=r=t=!0;else{u=r=t=!1;var f=n.ui.keyCode;switch(i.keyCode){case f.PAGE_UP:t=!0,this._move("previousPage",i);break;case f.PAGE_DOWN:t=!0,this._move("nextPage",i);break;case f.UP:t=!0,this._keyEvent("previous",i);break;case f.DOWN:t=!0,this._keyEvent("next",i);break;case f.ENTER:this.menu.active&&(t=!0,i.preventDefault(),this.menu.select(i));break;case f.TAB:this.menu.active&&this.menu.select(i);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(i),i.preventDefault());break;default:u=!0,this._searchTimeout(i)}}},keypress:function(i){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!u){var r=n.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(n){if(r)return r=!1,void n.preventDefault();this._searchTimeout(n)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(n){clearTimeout(this.searching),this.close(n),this._change(n)}}),this._initSource(),this.menu=n("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(n){n.preventDefault()},menufocus:function(t,i){var u,r;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){n(t.target).trigger(t.originalEvent)});r=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:r})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value),(u=i.item.attr("aria-label")||r.value)&&String.prototype.trim.call(u).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(n("<div>").text(u))},100))},menuselect:function(t,i){var r=i.item.data("ui-autocomplete-item"),u=this.previous;this.element[0]!==n.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=u,this._delay(function(){this.previous=u,this.selectedItem=r})),!1!==this._trigger("select",t,{item:r})&&this._value(r.value),this.term=this._value(),this.close(t),this.selectedItem=r}}),this.liveRegion=n("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(n,t){this._super(n,t),"source"===n&&this._initSource(),"appendTo"===n&&this.menu.element.appendTo(this._appendTo()),"disabled"===n&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var i=this.menu.element[0];return t.target===this.element[0]||t.target===i||n.contains(i,t.target)},_closeOnClickOutside:function(n){this._isEventTargetInWidget(n)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t=(t=!(t=t&&(t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)))||!t[0]?this.element.closest(".ui-front, dialog"):t).length?t:this.document[0].body},_initSource:function(){var i,r,t=this;Array.isArray(this.options.source)?(i=this.options.source,this.source=function(t,r){r(n.ui.autocomplete.filter(i,t.term))}):"string"==typeof this.options.source?(r=this.options.source,this.source=function(i,u){t.xhr&&t.xhr.abort(),t.xhr=n.ajax({url:r,data:i,dataType:"json",success:function(n){u(n)},error:function(){u([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching),this.searching=this._delay(function(){var r=this.term===this._value(),i=this.menu.element.is(":visible"),t=n.altKey||n.ctrlKey||n.metaKey||n.shiftKey;r&&(i||t)||(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(n,t){return n=null!=n?n:this._value(),this.term=this._value(),n.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(n):void 0},_search:function(n){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:n},this._response())},_response:function(){var n=++this.requestIndex;return function(t){n===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(n){n=n&&this._normalize(n),this._trigger("response",null,{content:n}),!this.options.disabled&&n&&n.length&&!this.cancelSearch?(this._suggest(n),this._trigger("open")):this._close()},close:function(n){this.cancelSearch=!0,this._close(n)},_close:function(n){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",n))},_change:function(n){this.previous!==this._value()&&this._trigger("change",n,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:n.map(t,function(t){return"string"==typeof t?{label:t,value:t}:n.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(n.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var n=this.menu.element;n.outerWidth(Math.max(n.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;n.each(i,function(n,i){r._renderItemData(t,i)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return n("<li>").append(n("<div>").text(i.label)).appendTo(t)},_move:function(n,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(n)||this.menu.isLastItem()&&/^next/.test(n)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[n](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(n,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(n,t),t.preventDefault())},_isContentEditable:function(n){if(!n.length)return!1;var t=n.prop("contentEditable");return"inherit"===t?this._isContentEditable(n.parent()):"true"===t}}),n.extend(n.ui.autocomplete,{escapeRegex:function(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=new RegExp(n.ui.autocomplete.escapeRegex(i),"i");return n.grep(t,function(n){return r.test(n.label||n.value||n)})}}),n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(n){return n+(1<n?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(n("<div>").text(i))},100))}}),n.ui.autocomplete,ui=/ui-corner-([a-z]){2,6}/g,n.widget("ui.controlgroup",{version:"1.13.2",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,i=[];n.each(this.options.items,function(r,u){var f,e={};if(u)return"controlgroupLabel"===r?((f=t.element.find(u)).each(function(){var t=n(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),t._addClass(f,null,"ui-widget ui-widget-content ui-state-default"),void(i=i.concat(f.get()))):void(n.fn[r]&&(e=t["_"+r+"Options"]?t["_"+r+"Options"]("middle"):{classes:{}},t.element.find(u).each(function(){var f=n(this),o=f[r]("instance"),u=n.widget.extend({},e);"button"===r&&f.parent(".ui-spinner").length||((o=o||f[r]()[r]("instance"))&&(u.classes=t._resolveClassesValues(u.classes,o)),f[r](u),u=f[r]("widget"),n.data(u[0],"ui-controlgroup-data",o||f[r]("instance")),i.push(u[0]))})))}),this.childWidgets=n(n.uniqueSort(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var i=n(this).data("ui-controlgroup-data");i&&i[t]&&i[t]()})},_updateCornerClass:function(n,t){t=this._buildSimpleOptions(t,"label").classes.label,this._removeClass(n,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(n,null,t)},_buildSimpleOptions:function(n,t){var r="vertical"===this.options.direction,i={classes:{}};return i.classes[t]={middle:"",first:"ui-corner-"+(r?"top":"left"),last:"ui-corner-"+(r?"bottom":"right"),only:"ui-corner-all"}[n],i},_spinnerOptions:function(n){return n=this._buildSimpleOptions(n,"ui-spinner"),n.classes["ui-spinner-up"]="",n.classes["ui-spinner-down"]="",n},_buttonOptions:function(n){return this._buildSimpleOptions(n,"ui-button")},_checkboxradioOptions:function(n){return this._buildSimpleOptions(n,"ui-checkboxradio-label")},_selectmenuOptions:function(n){var t="vertical"===this.options.direction;return{width:t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[n]}},_resolveClassesValues:function(t,i){var r={};return n.each(t,function(n){var u=i.options.classes[n]||"",u=String.prototype.trim.call(u.replace(ui,""));r[n]=(u+" "+t[n]).replace(/\s+/g," ")}),r},_setOption:function(n,t){"direction"===n&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(n,t),"disabled"!==n?this.refresh():this._callChildMethod(t?"disable":"enable")},refresh:function(){var t,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),t=this.childWidgets,(t=this.options.onlyVisible?t.filter(":visible"):t).length&&(n.each(["first","last"],function(n,r){var f,u=t[r]().data("ui-controlgroup-data");u&&i["_"+u.widgetName+"Options"]?((f=i["_"+u.widgetName+"Options"](1===t.length?"only":r)).classes=i._resolveClassesValues(f.classes,u),u.element[u.widgetName](f)):i._updateCornerClass(t[r](),r)}),this._callChildMethod("refresh"))}}),n.widget("ui.checkboxradio",[n.ui.formResetMixin,{version:"1.13.2",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,i=this._super()||{};return this._readType(),t=this.element.labels(),this.label=n(t[t.length-1]),this.label.length||n.error("No label found for checkboxradio widget"),this.originalLabel="",(t=this.label.contents().not(this.element[0])).length&&(this.originalLabel+=t.clone().wrapAll("<div></div>").parent().html()),this.originalLabel&&(i.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(i.disabled=t),i},_create:function(){var n=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),n&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||n.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var i=this.element[0].name,t="input[name='"+n.escapeSelector(i)+"']";return i?(this.form.length?n(this.form[0].elements).filter(t):n(t).filter(function(){return 0===n(this)._form().length})).not(this.element):n([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each(function(){var t=n(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(n,t){if("label"!==n||t){if(this._super(n,t),"disabled"===n)return this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t);this.refresh()}},_updateIcon:function(t){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=n("<span>"),this.iconSpace=n("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var n=this.label.contents().not(this.element[0]);this.icon&&(n=n.not(this.icon[0])),(n=this.iconSpace?n.not(this.iconSpace[0]):n).remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,n=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),n!==this.options.disabled&&this._setOptions({disabled:n})}}]),n.ui.checkboxradio,n.widget("ui.button",{version:"1.13.2",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,n=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(n.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(n.label=this.originalLabel),n},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===n.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,i){var u="iconPosition"!==t,r=u?this.options.iconPosition:i,t="top"===r||"bottom"===r;this.icon?u&&this._removeClass(this.icon,null,this.options.icon):(this.icon=n("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),u&&this._addClass(this.icon,null,i),this._attachIcon(r),t?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=n("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(n){this.icon[/^(?:end|bottom)/.test(n)?"before":"after"](this.iconSpace)},_attachIcon:function(n){this.element[/^(?:end|bottom)/.test(n)?"append":"prepend"](this.icon)},_setOptions:function(n){var i=(void 0===n.showLabel?this.options:n).showLabel,t=(void 0===n.icon?this.options:n).icon;i||t||(n.showLabel=!0),this._super(n)},_setOption:function(n,t){"icon"===n&&(t?this._updateIcon(n,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===n&&this._updateIcon(n,t),"showLabel"===n&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===n&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(n,t),"disabled"===n&&(this._toggleClass(null,"ui-state-disabled",t),(this.element[0].disabled=t)&&this.element.trigger("blur"))},refresh:function(){var n=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");n!==this.options.disabled&&this._setOptions({disabled:n}),this._updateTooltip()}}),!1!==n.uiBackCompat&&(n.widget("ui.button",n.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(n,t){"text"!==n?("showLabel"===n&&(this.options.text=t),"icon"===n&&(this.options.icons.primary=t),"icons"===n&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",t)}}),n.fn.button=(ri=n.fn.button,function(t){var u="string"==typeof t,r=Array.prototype.slice.call(arguments,1),i=this;return u?this.length||"instance"!==t?this.each(function(){var u=n(this).attr("type"),f=n.data(this,"ui-"+("checkbox"!==u&&"radio"!==u?"button":"checkboxradio"));return"instance"===t?(i=f,!1):f?"function"!=typeof f[t]||"_"===t.charAt(0)?n.error("no such method '"+t+"' for button widget instance"):(u=f[t].apply(f,r))!==f&&void 0!==u?(i=u&&u.jquery?i.pushStack(u.get()):u,!1):void 0:n.error("cannot call methods on button prior to initialization; attempted to call method '"+t+"'")}):i=void 0:(r.length&&(t=n.widget.extend.apply(null,[t].concat(r))),this.each(function(){var i=n(this).attr("type"),r="checkbox"!==i&&"radio"!==i?"button":"checkboxradio",i=n.data(this,"ui-"+r);i?(i.option(t||{}),i._init&&i._init()):"button"!=r?n(this).checkboxradio(n.extend({icon:!1},t)):ri.call(n(this),t)})),i}),n.fn.buttonset=function(){return n.ui.controlgroup||n.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),n.ui.button,n.extend(n.ui,{datepicker:{version:"1.13.2"}}),n.extend(pi.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(n){return p(this._defaults,n||{}),this},_attachDatepicker:function(t,i){var u,r=t.nodeName.toLowerCase(),f="div"===r||"span"===r;t.id||(this.uuid+=1,t.id="dp"+this.uuid),(u=this._newInst(n(t),f)).settings=n.extend({},i||{}),"input"===r?this._connectDatepicker(t,u):f&&this._inlineDatepicker(t,u)},_newInst:function(t,i){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?wi(n("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var r=n(t);i.append=n([]),i.trigger=n([]),r.hasClass(this.markerClassName)||(this._attachments(r,i),r.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),n.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var u,r=this._get(i,"appendText"),f=this._get(i,"isRTL");i.append&&i.append.remove(),r&&(i.append=n("<span>").addClass(this._appendClass).text(r),t[f?"before":"after"](i.append)),t.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),"focus"!==(u=this._get(i,"showOn"))&&"both"!==u||t.on("focus",this._showDatepicker),"button"!==u&&"both"!==u||(r=this._get(i,"buttonText"),u=this._get(i,"buttonImage"),this._get(i,"buttonImageOnly")?i.trigger=n("<img>").addClass(this._triggerClass).attr({src:u,alt:r,title:r}):(i.trigger=n("<button type='button'>").addClass(this._triggerClass),u?i.trigger.html(n("<img>").attr({src:u,alt:r,title:r})):i.trigger.text(r)),t[f?"before":"after"](i.trigger),i.trigger.on("click",function(){return n.datepicker._datepickerShowing&&n.datepicker._lastInput===t[0]?n.datepicker._hideDatepicker():(n.datepicker._datepickerShowing&&n.datepicker._lastInput!==t[0]&&n.datepicker._hideDatepicker(),n.datepicker._showDatepicker(t[0])),!1}))},_autoSize:function(n){var u,f,e,t,i,r;this._get(n,"autoSize")&&!n.inline&&(i=new Date(2009,11,20),(r=this._get(n,"dateFormat")).match(/[DM]/)&&(u=function(n){for(t=e=f=0;t<n.length;t++)n[t].length>f&&(f=n[t].length,e=t);return e},i.setMonth(u(this._get(n,r.match(/MM/)?"monthNames":"monthNamesShort"))),i.setDate(u(this._get(n,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-i.getDay())),n.input.attr("size",this._formatDate(n,i).length))},_inlineDatepicker:function(t,i){var r=n(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(i.dpDiv),n.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,r,u,f){var o,e=this._dialogInst;return e||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=n("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),n("body").append(this._dialogInput),(e=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},n.data(this._dialogInput[0],"datepicker",e)),p(e.settings,u||{}),i=i&&i.constructor===Date?this._formatDate(e,i):i,this._dialogInput.val(i),this._pos=f?f.length?f:[f.pageX,f.pageY]:null,this._pos||(o=document.documentElement.clientWidth,u=document.documentElement.clientHeight,i=document.documentElement.scrollLeft||document.body.scrollLeft,f=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[o/2-100+i,u/2-150+f]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),e.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),n.blockUI&&n.blockUI(this.dpDiv),n.data(this._dialogInput[0],"datepicker",e),this},_destroyDatepicker:function(t){var i,u=n(t),r=n.data(t,"datepicker");u.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),n.removeData(t,"datepicker"),"input"===i?(r.append.remove(),r.trigger.remove(),u.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||u.removeClass(this.markerClassName).empty(),e===r&&(e=null,this._curInst=null))},_enableDatepicker:function(t){var r,i=n(t),u=n.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(r=t.nodeName.toLowerCase())?(t.disabled=!1,u.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==r&&"span"!==r||((i=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}))},_disableDatepicker:function(t){var r,i=n(t),u=n.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(r=t.nodeName.toLowerCase())?(t.disabled=!0,u.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==r&&"span"!==r||((i=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(n){if(!n)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===n)return!0;return!1},_getInst:function(t){try{return n.data(t,"datepicker")}catch(t){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(t,i,r){var f,e,u=this._getInst(t);if(2===arguments.length&&"string"==typeof i)return"defaults"===i?n.extend({},n.datepicker._defaults):u?"all"===i?n.extend({},u.settings):this._get(u,i):null;f=i||{},"string"==typeof i&&((f={})[i]=r),u&&(this._curInst===u&&this._hideDatepicker(),e=this._getDateDatepicker(t,!0),i=this._getMinMaxDate(u,"min"),r=this._getMinMaxDate(u,"max"),p(u.settings,f),null!==i&&void 0!==f.dateFormat&&void 0===f.minDate&&(u.settings.minDate=this._formatDate(u,i)),null!==r&&void 0!==f.dateFormat&&void 0===f.maxDate&&(u.settings.maxDate=this._formatDate(u,r)),"disabled"in f&&(f.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(n(t),u),this._autoSize(u),this._setDate(u,e),this._updateAlternate(u),this._updateDatepicker(u))},_changeDatepicker:function(n,t,i){this._optionDatepicker(n,t,i)},_refreshDatepicker:function(n){n=this._getInst(n),n&&this._updateDatepicker(n)},_setDateDatepicker:function(n,t){n=this._getInst(n),n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(n,t){return n=this._getInst(n),n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var e,u,i=n.datepicker._getInst(t.target),r=!0,f=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,n.datepicker._datepickerShowing)switch(t.keyCode){case 9:n.datepicker._hideDatepicker(),r=!1;break;case 13:return(u=n("td."+n.datepicker._dayOverClass+":not(."+n.datepicker._currentClass+")",i.dpDiv))[0]&&n.datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,u[0]),(e=n.datepicker._get(i,"onSelect"))?(u=n.datepicker._formatDate(i),e.apply(i.input?i.input[0]:null,[u,i])):n.datepicker._hideDatepicker(),!1;case 27:n.datepicker._hideDatepicker();break;case 33:n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 34:n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&n.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&n.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,f?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,f?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?n.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var r,i=n.datepicker._getInst(t.target);if(n.datepicker._get(i,"constrainInput"))return r=n.datepicker._possibleChars(n.datepicker._get(i,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<" "||!r||-1<r.indexOf(i)},_doKeyUp:function(t){if(t=n.datepicker._getInst(t.target),t.input.val()!==t.lastVal)try{n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,n.datepicker._getFormatConfig(t))&&(n.datepicker._setDateFromField(t),n.datepicker._updateAlternate(t),n.datepicker._updateDatepicker(t))}catch(t){}return!0},_showDatepicker:function(t){var f,u,r,i;"input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=n("input",t.parentNode)[0]),n.datepicker._isDisabledDatepicker(t)||n.datepicker._lastInput===t||(i=n.datepicker._getInst(t),n.datepicker._curInst&&n.datepicker._curInst!==i&&(n.datepicker._curInst.dpDiv.stop(!0,!0),i&&n.datepicker._datepickerShowing&&n.datepicker._hideDatepicker(n.datepicker._curInst.input[0])),!1!==(u=(r=n.datepicker._get(i,"beforeShow"))?r.apply(t,[t,i]):{})&&(p(i.settings,u),i.lastVal=null,n.datepicker._lastInput=t,n.datepicker._setDateFromField(i),n.datepicker._inDialog&&(t.value=""),n.datepicker._pos||(n.datepicker._pos=n.datepicker._findPos(t),n.datepicker._pos[1]+=t.offsetHeight),f=!1,n(t).parents().each(function(){return!(f|="fixed"===n(this).css("position"))}),r={left:n.datepicker._pos[0],top:n.datepicker._pos[1]},n.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.datepicker._updateDatepicker(i),r=n.datepicker._checkOffset(i,r,f),i.dpDiv.css({position:n.datepicker._inDialog&&n.blockUI?"static":f?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),i.inline||(u=n.datepicker._get(i,"showAnim"),r=n.datepicker._get(i,"duration"),i.dpDiv.css("z-index",function(n){for(var i,t;n.length&&n[0]!==document;){if(("absolute"===(i=n.css("position"))||"relative"===i||"fixed"===i)&&(t=parseInt(n.css("zIndex"),10),!isNaN(t)&&0!==t))return t;n=n.parent()}return 0}(n(t))+1),n.datepicker._datepickerShowing=!0,n.effects&&n.effects.effect[u]?i.dpDiv.show(u,n.datepicker._get(i,"showOptions"),r):i.dpDiv[u||"show"](u?r:null),n.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),n.datepicker._curInst=i)))},_updateDatepicker:function(t){this.maxRows=4,(e=t).dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var u,r=this._getNumberOfMonths(t),i=r[1],o=t.dpDiv.find("."+this._dayOverClass+" a"),f=n.datepicker._get(t,"onUpdateDatepicker");0<o.length&&bi.apply(o.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<i&&t.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",17*i+"em"),t.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===n.datepicker._curInst&&n.datepicker._datepickerShowing&&n.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(u=t.yearshtml,setTimeout(function(){u===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year").first().replaceWith(t.yearshtml),u=t.yearshtml=null},0)),f&&f.apply(t.input?t.input[0]:null,[t])},_shouldFocusInput:function(n){return n.input&&n.input.is(":visible")&&!n.input.is(":disabled")&&!n.input.is(":focus")},_checkOffset:function(t,i,r){var u=t.dpDiv.outerWidth(),e=t.dpDiv.outerHeight(),h=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,f=document.documentElement.clientWidth+(r?0:n(document).scrollLeft()),o=document.documentElement.clientHeight+(r?0:n(document).scrollTop());return i.left-=this._get(t,"isRTL")?u-h:0,i.left-=r&&i.left===t.input.offset().left?n(document).scrollLeft():0,i.top-=r&&i.top===t.input.offset().top+s?n(document).scrollTop():0,i.left-=Math.min(i.left,i.left+u>f&&u<f?Math.abs(i.left+u-f):0),i.top-=Math.min(i.top,i.top+e>o&&e<o?Math.abs(e+s):0),i},_findPos:function(t){for(var i=this._getInst(t),r=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||n.expr.pseudos.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return[(i=n(t).offset()).left,i.top]},_hideDatepicker:function(t){var r,u,i=this._curInst;!i||t&&i!==n.data(t,"datepicker")||this._datepickerShowing&&(r=this._get(i,"showAnim"),u=this._get(i,"duration"),t=function(){n.datepicker._tidyDialog(i)},n.effects&&(n.effects.effect[r]||n.effects[r])?i.dpDiv.hide(r,n.datepicker._get(i,"showOptions"),u,t):i.dpDiv["slideDown"===r?"slideUp":"fadeIn"===r?"fadeOut":"hide"](r?u:null,t),r||t(),this._datepickerShowing=!1,(t=this._get(i,"onClose"))&&t.apply(i.input?i.input[0]:null,[i.input?i.input.val():"",i]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(n){n.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){var i;n.datepicker._curInst&&(i=n(t.target),t=n.datepicker._getInst(i[0]),(i[0].id===n.datepicker._mainDivId||0!==i.parents("#"+n.datepicker._mainDivId).length||i.hasClass(n.datepicker.markerClassName)||i.closest("."+n.datepicker._triggerClass).length||!n.datepicker._datepickerShowing||n.datepicker._inDialog&&n.blockUI)&&(!i.hasClass(n.datepicker.markerClassName)||n.datepicker._curInst===t)||n.datepicker._hideDatepicker())},_adjustDate:function(t,i,r){var u=n(t),t=this._getInst(u[0]);this._isDisabledDatepicker(u[0])||(this._adjustInstDate(t,i,r),this._updateDatepicker(t))},_gotoToday:function(t){var r=n(t),i=this._getInst(r[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(t=new Date,i.selectedDay=t.getDate(),i.drawMonth=i.selectedMonth=t.getMonth(),i.drawYear=i.selectedYear=t.getFullYear()),this._notifyChange(i),this._adjustDate(r)},_selectMonthYear:function(t,i,r){var u=n(t),t=this._getInst(u[0]);t["selected"+("M"===r?"Month":"Year")]=t["draw"+("M"===r?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(t),this._adjustDate(u)},_selectDay:function(t,i,r,u){var f=n(t);n(u).hasClass(this._unselectableClass)||this._isDisabledDatepicker(f[0])||((f=this._getInst(f[0])).selectedDay=f.currentDay=parseInt(n("a",u).attr("data-date")),f.selectedMonth=f.currentMonth=i,f.selectedYear=f.currentYear=r,this._selectDate(t,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(t){t=n(t),this._selectDate(t,"")},_selectDate:function(t,i){var r=n(t),t=this._getInst(r[0]);i=null!=i?i:this._formatDate(t),t.input&&t.input.val(i),this._updateAlternate(t),(r=this._get(t,"onSelect"))?r.apply(t.input?t.input[0]:null,[i,t]):t.input&&t.input.trigger("change"),t.inline?this._updateDatepicker(t):(this._hideDatepicker(),this._lastInput=t.input[0],"object"!=typeof t.input[0]&&t.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var u,r,i=this._get(t,"altField");i&&(u=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),t=this.formatDate(u,r,this._getFormatConfig(t)),n(document).find(i).val(t))},noWeekends:function(n){return n=n.getDay(),[0<n&&n<6,""]},iso8601Week:function(n){var t=new Date(n.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),n=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1},parseDate:function(t,i,r){if(null==t||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?i.toString():i+""))return null;for(var b,w,e,u=0,l=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),g=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,tt=(r?r.dayNames:null)||this._defaults.dayNames,d=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,nt=(r?r.monthNames:null)||this._defaults.monthNames,f=-1,o=-1,h=-1,y=-1,v=!1,a=function(n){return n=s+1<t.length&&t.charAt(s+1)===n,n&&s++,n},c=function(n){var t=a(n),t="@"===n?14:"!"===n?20:"y"===n&&t?4:"o"===n?3:2,t=new RegExp("^\\d{"+("y"===n?t:1)+","+t+"}"),t=i.substring(u).match(t);if(!t)throw"Missing number at position "+u;return u+=t[0].length,parseInt(t[0],10)},k=function(t,r,f){var e=-1,r=n.map(a(t)?f:r,function(n,t){return[[t,n]]}).sort(function(n,t){return-(n[1].length-t[1].length)});if(n.each(r,function(n,t){var r=t[1];if(i.substr(u,r.length).toLowerCase()===r.toLowerCase())return e=t[0],u+=r.length,!1}),-1!==e)return e+1;throw"Unknown name at position "+u;},p=function(){if(i.charAt(u)!==t.charAt(s))throw"Unexpected literal at position "+u;u++},s=0;s<t.length;s++)if(v)"'"!==t.charAt(s)||a("'")?p():v=!1;else switch(t.charAt(s)){case"d":h=c("d");break;case"D":k("D",g,tt);break;case"o":y=c("o");break;case"m":o=c("m");break;case"M":o=k("M",d,nt);break;case"y":f=c("y");break;case"@":f=(e=new Date(c("@"))).getFullYear(),o=e.getMonth()+1,h=e.getDate();break;case"!":f=(e=new Date((c("!")-this._ticksTo1970)/1e4)).getFullYear(),o=e.getMonth()+1,h=e.getDate();break;case"'":a("'")?p():v=!0;break;default:p()}if(u<i.length&&(w=i.substr(u),!/^\s+/.test(w)))throw"Extra/unparsed characters found in date: "+w;if(-1===f?f=(new Date).getFullYear():f<100&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(f<=l?0:-100)),-1<y)for(o=1,h=y;;){if(h<=(b=this._getDaysInMonth(f,o-1)))break;o++,h-=b}if((e=this._daylightSavingAdjust(new Date(f,o-1,h))).getFullYear()!==f||e.getMonth()+1!==o||e.getDate()!==h)throw"Invalid date";return e},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(n,t,i){function o(n,t,i){var r=""+t;if(f(n))for(;r.length<i;)r="0"+r;return r}function s(n,t,i,r){return(f(n)?r:i)[t]}if(!t)return"";var u,h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,c=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,f=function(t){return t=u+1<n.length&&n.charAt(u+1)===t,t&&u++,t},r="",e=!1;if(t)for(u=0;u<n.length;u++)if(e)"'"!==n.charAt(u)||f("'")?r+=n.charAt(u):e=!1;else switch(n.charAt(u)){case"d":r+=o("d",t.getDate(),2);break;case"D":r+=s("D",t.getDay(),h,c);break;case"o":r+=o("o",Math.round((+new Date(t.getFullYear(),t.getMonth(),t.getDate())-+new Date(t.getFullYear(),0,0))/864e5),3);break;case"m":r+=o("m",t.getMonth()+1,2);break;case"M":r+=s("M",t.getMonth(),l,a);break;case"y":r+=f("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":r+=t.getTime();break;case"!":r+=1e4*t.getTime()+this._ticksTo1970;break;case"'":f("'")?r+="'":e=!0;break;default:r+=n.charAt(u)}return r},_possibleChars:function(n){for(var i="",r=!1,u=function(i){return i=t+1<n.length&&n.charAt(t+1)===i,i&&t++,i},t=0;t<n.length;t++)if(r)"'"!==n.charAt(t)||u("'")?i+=n.charAt(t):r=!1;else switch(n.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":u("'")?i+="'":r=!0;break;default:i+=n.charAt(t)}return i},_get:function(n,t){return(void 0!==n.settings[t]?n.settings:this._defaults)[t]},_setDateFromField:function(n,t){if(n.input.val()!==n.lastVal){var e=this._get(n,"dateFormat"),r=n.lastVal=n.input?n.input.val():null,u=this._getDefaultDate(n),i=u,f=this._getFormatConfig(n);try{i=this.parseDate(e,r,f)||u}catch(n){r=t?"":r}n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear(),n.currentDay=r?i.getDate():0,n.currentMonth=r?i.getMonth():0,n.currentYear=r?i.getFullYear():0,this._adjustInstDate(n)}},_getDefaultDate:function(n){return this._restrictMinMax(n,this._determineDate(n,this._get(n,"defaultDate"),new Date))},_determineDate:function(t,i,r){var f,u,i=null==i||""===i?r:"string"==typeof i?function(i){try{return n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),i,n.datepicker._getFormatConfig(t))}catch(i){}for(var o=(i.toLowerCase().match(/^c/)?n.datepicker._getDate(t):null)||new Date,e=o.getFullYear(),f=o.getMonth(),u=o.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,r=s.exec(i);r;){switch(r[2]||"d"){case"d":case"D":u+=parseInt(r[1],10);break;case"w":case"W":u+=7*parseInt(r[1],10);break;case"m":case"M":f+=parseInt(r[1],10),u=Math.min(u,n.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(r[1],10),u=Math.min(u,n.datepicker._getDaysInMonth(e,f))}r=s.exec(i)}return new Date(e,f,u)}(i):"number"==typeof i?isNaN(i)?r:(f=i,(u=new Date).setDate(u.getDate()+f),u):new Date(i.getTime());return(i=i&&"Invalid Date"===i.toString()?r:i)&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),this._daylightSavingAdjust(i)},_daylightSavingAdjust:function(n){return n?(n.setHours(12<n.getHours()?n.getHours()+2:0),n):null},_setDate:function(n,t,i){var f=!t,u=n.selectedMonth,r=n.selectedYear,t=this._restrictMinMax(n,this._determineDate(n,t,new Date));n.selectedDay=n.currentDay=t.getDate(),n.drawMonth=n.selectedMonth=n.currentMonth=t.getMonth(),n.drawYear=n.selectedYear=n.currentYear=t.getFullYear(),u===n.selectedMonth&&r===n.selectedYear||i||this._notifyChange(n),this._adjustInstDate(n),n.input&&n.input.val(f?"":this._formatDate(n))},_getDate:function(n){return!n.currentYear||n.input&&""===n.input.val()?null:this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay))},_attachHandlers:function(t){var r=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){n.datepicker._adjustDate(i,-r,"M")},next:function(){n.datepicker._adjustDate(i,+r,"M")},hide:function(){n.datepicker._hideDatepicker()},today:function(){n.datepicker._gotoToday(i)},selectDay:function(){return n.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return n.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return n.datepicker._selectMonthYear(i,this,"Y"),!1}};n(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var g,et,wt,l,dt,ti,gt,ii,ui,vt,ut,ri,yt,it,c,b,at,w,ct,v,e,lt,ni,kt,d,pt,i,bt,ht,nt,y,rt,h=new Date,ot=this._daylightSavingAdjust(new Date(h.getFullYear(),h.getMonth(),h.getDate())),o=this._get(t,"isRTL"),fi=this._get(t,"showButtonPanel"),tt=this._get(t,"hideIfNoPrevNext"),p=this._get(t,"navigationAsDateFormat"),s=this._getNumberOfMonths(t),r=this._get(t,"showCurrentAtPos"),h=this._get(t,"stepMonths"),st=1!==s[0]||1!==s[1],ft=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),k=this._getMinMaxDate(t,"min"),a=this._getMinMaxDate(t,"max"),u=t.drawMonth-r,f=t.drawYear;if(u<0&&(u+=12,f--),a)for(g=this._daylightSavingAdjust(new Date(a.getFullYear(),a.getMonth()-s[0]*s[1]+1,a.getDate())),g=k&&g<k?k:g;this._daylightSavingAdjust(new Date(f,u,1))>g;)--u<0&&(u=11,f--);for(t.drawMonth=u,t.drawYear=f,r=this._get(t,"prevText"),r=p?this.formatDate(r,this._daylightSavingAdjust(new Date(f,u-h,1)),this._getFormatConfig(t)):r,et=this._canAdjustMonth(t,-1,f,u)?n("<a>").attr({"class":"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:r}).append(n("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(o?"e":"w")).text(r))[0].outerHTML:tt?"":n("<a>").attr({"class":"ui-datepicker-prev ui-corner-all ui-state-disabled",title:r}).append(n("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(o?"e":"w")).text(r))[0].outerHTML,r=this._get(t,"nextText"),r=p?this.formatDate(r,this._daylightSavingAdjust(new Date(f,u+h,1)),this._getFormatConfig(t)):r,wt=this._canAdjustMonth(t,1,f,u)?n("<a>").attr({"class":"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:r}).append(n("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(o?"w":"e")).text(r))[0].outerHTML:tt?"":n("<a>").attr({"class":"ui-datepicker-next ui-corner-all ui-state-disabled",title:r}).append(n("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+(o?"w":"e")).text(r))[0].outerHTML,h=this._get(t,"currentText"),tt=this._get(t,"gotoCurrent")&&t.currentDay?ft:ot,h=p?this.formatDate(h,tt,this._getFormatConfig(t)):h,r="",t.inline||(r=n("<button>").attr({type:"button","class":"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(t,"closeText"))[0].outerHTML),p="",fi&&(p=n("<div class='ui-datepicker-buttonpane ui-widget-content'>").append(o?r:"").append(this._isInRange(t,tt)?n("<button>").attr({type:"button","class":"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(h):"").append(o?"":r)[0].outerHTML),l=parseInt(this._get(t,"firstDay"),10),l=isNaN(l)?0:l,dt=this._get(t,"showWeek"),ti=this._get(t,"dayNames"),gt=this._get(t,"dayNamesMin"),ii=this._get(t,"monthNames"),ui=this._get(t,"monthNamesShort"),vt=this._get(t,"beforeShowDay"),ut=this._get(t,"showOtherMonths"),ri=this._get(t,"selectOtherMonths"),yt=this._getDefaultDate(t),it="",b=0;b<s[0];b++){for(at="",this.maxRows=4,w=0;w<s[1];w++){if(ct=this._daylightSavingAdjust(new Date(f,u,t.selectedDay)),v=" ui-corner-all",e="",st){if(e+="<div class='ui-datepicker-group",1<s[1])switch(w){case 0:e+=" ui-datepicker-group-first",v=" ui-corner-"+(o?"right":"left");break;case s[1]-1:e+=" ui-datepicker-group-last",v=" ui-corner-"+(o?"left":"right");break;default:e+=" ui-datepicker-group-middle",v=""}e+="'>"}for(e+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+v+"'>"+(/all|left/.test(v)&&0===b?o?wt:et:"")+(/all|right/.test(v)&&0===b?o?et:wt:"")+this._generateMonthYearHeader(t,u,f,k,a,0<b||0<w,ii,ui)+"</div><table class='ui-datepicker-calendar'><thead><tr>",lt=dt?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",c=0;c<7;c++)lt+="<th scope='col'"+(5<=(c+l+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+ti[ni=(c+l)%7]+"'>"+gt[ni]+"</span></th>";for(e+=lt+"</tr></thead><tbody>",d=this._getDaysInMonth(f,u),f===t.selectedYear&&u===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,d)),kt=(this._getFirstDayOfMonth(f,u)-l+7)%7,d=Math.ceil((kt+d)/7),pt=st&&this.maxRows>d?this.maxRows:d,this.maxRows=pt,i=this._daylightSavingAdjust(new Date(f,u,1-kt)),bt=0;bt<pt;bt++){for(e+="<tr>",ht=dt?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(i)+"</td>":"",c=0;c<7;c++)nt=vt?vt.apply(t.input?t.input[0]:null,[i]):[!0,""],rt=(y=i.getMonth()!==u)&&!ri||!nt[0]||k&&i<k||a&&a<i,ht+="<td class='"+(5<=(c+l+6)%7?" ui-datepicker-week-end":"")+(y?" ui-datepicker-other-month":"")+(i.getTime()===ct.getTime()&&u===t.selectedMonth&&t._keyEvent||yt.getTime()===i.getTime()&&yt.getTime()===ct.getTime()?" "+this._dayOverClass:"")+(rt?" "+this._unselectableClass+" ui-state-disabled":"")+(y&&!ut?"":" "+nt[1]+(i.getTime()===ft.getTime()?" "+this._currentClass:"")+(i.getTime()===ot.getTime()?" ui-datepicker-today":""))+"'"+(y&&!ut||!nt[2]?"":" title='"+nt[2].replace(/'/g,"&#39;")+"'")+(rt?"":" data-handler='selectDay' data-event='click' data-month='"+i.getMonth()+"' data-year='"+i.getFullYear()+"'")+">"+(y&&!ut?"&#xa0;":rt?"<span class='ui-state-default'>"+i.getDate()+"</span>":"<a class='ui-state-default"+(i.getTime()===ot.getTime()?" ui-state-highlight":"")+(i.getTime()===ft.getTime()?" ui-state-active":"")+(y?" ui-priority-secondary":"")+"' href='#' aria-current='"+(i.getTime()===ft.getTime()?"true":"false")+"' data-date='"+i.getDate()+"'>"+i.getDate()+"</a>")+"</td>",i.setDate(i.getDate()+1),i=this._daylightSavingAdjust(i);e+=ht+"</tr>"}11<++u&&(u=0,f++),at+=e+="</tbody></table>"+(st?"</div>"+(0<s[0]&&w===s[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}it+=at}return it+=p,t._keyEvent=!1,it},_generateMonthYearHeader:function(n,t,i,r,u,f,e,o){var d,b,h,p,s,a,w=this._get(n,"changeMonth"),v=this._get(n,"changeYear"),k=this._get(n,"showMonthAfterYear"),y=this._get(n,"selectMonthLabel"),g=this._get(n,"selectYearLabel"),c="<div class='ui-datepicker-title'>",l="";if(f||!w)l+="<span class='ui-datepicker-month'>"+e[t]+"</span>";else{for(d=r&&r.getFullYear()===i,b=u&&u.getFullYear()===i,l+="<select class='ui-datepicker-month' aria-label='"+y+"' data-handler='selectMonth' data-event='change'>",h=0;h<12;h++)(!d||h>=r.getMonth())&&(!b||h<=u.getMonth())&&(l+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+o[h]+"</option>");l+="</select>"}if(k||(c+=l+(!f&&w&&v?"":"&#xa0;")),!n.yearshtml)if(n.yearshtml="",f||!v)c+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(e=this._get(n,"yearRange").split(":"),p=(new Date).getFullYear(),s=(y=function(n){return n=n.match(/c[+\-].*/)?i+parseInt(n.substring(1),10):n.match(/[+\-].*/)?p+parseInt(n,10):parseInt(n,10),isNaN(n)?p:n})(e[0]),a=Math.max(s,y(e[1]||"")),s=r?Math.max(s,r.getFullYear()):s,a=u?Math.min(a,u.getFullYear()):a,n.yearshtml+="<select class='ui-datepicker-year' aria-label='"+g+"' data-handler='selectYear' data-event='change'>";s<=a;s++)n.yearshtml+="<option value='"+s+"'"+(s===i?" selected='selected'":"")+">"+s+"</option>";n.yearshtml+="</select>",c+=n.yearshtml,n.yearshtml=null}return c+=this._get(n,"yearSuffix"),k&&(c+=(!f&&w&&v?"":"&#xa0;")+l),c+="</div>"},_adjustInstDate:function(n,t,i){var u=n.selectedYear+("Y"===i?t:0),r=n.selectedMonth+("M"===i?t:0),t=Math.min(n.selectedDay,this._getDaysInMonth(u,r))+("D"===i?t:0),t=this._restrictMinMax(n,this._daylightSavingAdjust(new Date(u,r,t)));n.selectedDay=t.getDate(),n.drawMonth=n.selectedMonth=t.getMonth(),n.drawYear=n.selectedYear=t.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(n)},_restrictMinMax:function(n,t){var i=this._getMinMaxDate(n,"min"),n=this._getMinMaxDate(n,"max"),t=i&&t<i?i:t;return n&&n<t?n:t},_notifyChange:function(n){var t=this._get(n,"onChangeMonthYear");t&&t.apply(n.input?n.input[0]:null,[n.selectedYear,n.selectedMonth+1,n])},_getNumberOfMonths:function(n){return n=this._get(n,"numberOfMonths"),null==n?[1,1]:"number"==typeof n?[1,n]:n},_getMinMaxDate:function(n,t){return this._determineDate(n,this._get(n,t+"Date"),null)},_getDaysInMonth:function(n,t){return 32-this._daylightSavingAdjust(new Date(n,t,32)).getDate()},_getFirstDayOfMonth:function(n,t){return new Date(n,t,1).getDay()},_canAdjustMonth:function(n,t,i,r){var u=this._getNumberOfMonths(n),u=this._daylightSavingAdjust(new Date(i,r+(t<0?t:u[0]*u[1]),1));return t<0&&u.setDate(this._getDaysInMonth(u.getFullYear(),u.getMonth())),this._isInRange(n,u)},_isInRange:function(n,t){var e=this._getMinMaxDate(n,"min"),f=this._getMinMaxDate(n,"max"),u=null,r=null,i=this._get(n,"yearRange");return i&&(n=i.split(":"),i=(new Date).getFullYear(),u=parseInt(n[0],10),r=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(u+=i),n[1].match(/[+\-].*/)&&(r+=i)),(!e||t.getTime()>=e.getTime())&&(!f||t.getTime()<=f.getTime())&&(!u||t.getFullYear()>=u)&&(!r||t.getFullYear()<=r)},_getFormatConfig:function(n){var t=this._get(n,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(n,"dayNamesShort"),dayNames:this._get(n,"dayNames"),monthNamesShort:this._get(n,"monthNamesShort"),monthNames:this._get(n,"monthNames")}},_formatDate:function(n,t,i,r){return t||(n.currentDay=n.selectedDay,n.currentMonth=n.selectedMonth,n.currentYear=n.selectedYear),t=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,i,t)):this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay)),this.formatDate(this._get(n,"dateFormat"),t,this._getFormatConfig(n))}}),n.fn.datepicker=function(t){if(!this.length)return this;n.datepicker.initialized||(n(document).on("mousedown",n.datepicker._checkExternalClick),n.datepicker.initialized=!0),0===n("#"+n.datepicker._mainDivId).length&&n("body").append(n.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"==typeof t&&("isDisabled"===t||"getDate"===t||"widget"===t)||"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this].concat(i)):n.datepicker._attachDatepicker(this,t)})},n.datepicker=new pi,n.datepicker.initialized=!1,n.datepicker.uuid=+new Date,n.datepicker.version="1.13.2",n.datepicker,n.widget("ui.dialog",{version:"1.13.2",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=n(this).css(t).offset().top;i<0&&n(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&n.fn.draggable&&this._makeDraggable(),this.options.resizable&&n.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?n(t):this.document.find(t||"body").eq(0)},_destroy:function(){var t,n=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=n.parent.children().eq(n.index)).length&&t[0]!==this.element[0]?t.before(this.element):n.parent.append(this.element)},widget:function(){return this.uiDialog},disable:n.noop,enable:n.noop,close:function(t){var i=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||n.ui.safeBlur(n.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var u=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+n(this).css("z-index")}).get(),r=Math.max.apply(null,r);return r>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",r+1),u=!0),u&&!i&&this._trigger("focus",t),u},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=n(n.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var n=this._focusedElement;(n=(n=(n=(n=(n=n||this.element.find("[autofocus]")).length?n:this.element.find(":tabbable")).length?n:this.uiDialogButtonPane.find(":tabbable")).length?n:this.uiDialogTitlebarClose.filter(":tabbable")).length?n:this.uiDialog).eq(0).trigger("focus")},_restoreTabbableFocus:function(){var t=n.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||n.contains(this.uiDialog[0],t)||this._focusTabbable()},_keepFocus:function(n){n.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=n("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===n.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);var u,r,i;t.keyCode!==n.ui.keyCode.TAB||t.isDefaultPrevented()||(u=this.uiDialog.find(":tabbable"),r=u.first(),i=u.last(),t.target!==i[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==r[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){i.trigger("focus")}),t.preventDefault()):(this._delay(function(){r.trigger("focus")}),t.preventDefault()))},mousedown:function(n){this._moveToTop(n)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=n("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){n(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=n("<button type='button'></button>").button({label:n("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(n){n.preventDefault(),this.close(n)}}),t=n("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(n){this.options.title?n.text(this.options.title):n.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=n("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=n("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var i=this,t=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),n.isEmptyObject(t)||Array.isArray(t)&&!t.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(n.each(t,function(t,r){var u;r=n.extend({type:"button"},r="function"==typeof r?{click:r,text:t}:r),u=r.click,t={icon:r.icon,iconPosition:r.iconPosition,showLabel:r.showLabel,icons:r.icons,text:r.text},delete r.click,delete r.icon,delete r.iconPosition,delete r.showLabel,delete r.icons,"boolean"==typeof r.text&&delete r.text,n("<button></button>",r).button(t).appendTo(i.uiButtonSet).on("click",function(){u.apply(i.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function i(n){return{position:n.position,offset:n.offset}}var t=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,u){t._addClass(n(this),"ui-dialog-dragging"),t._blockFrames(),t._trigger("dragStart",r,i(u))},drag:function(n,r){t._trigger("drag",n,i(r))},stop:function(u,f){var o=f.offset.left-t.document.scrollLeft(),e=f.offset.top-t.document.scrollTop();r.position={my:"left top",at:"left"+(0<=o?"+":"")+o+" top"+(0<=e?"+":"")+e,of:t.window},t._removeClass(n(this),"ui-dialog-dragging"),t._unblockFrames(),t._trigger("dragStop",u,i(f))}})},_makeResizable:function(){function r(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size}}var t=this,i=this.options,u=i.resizable,f=this.uiDialog.css("position"),u="string"==typeof u?u:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:u,start:function(i,u){t._addClass(n(this),"ui-dialog-resizing"),t._blockFrames(),t._trigger("resizeStart",i,r(u))},resize:function(n,i){t._trigger("resize",n,r(i))},stop:function(u,f){var e=t.uiDialog.offset(),o=e.left-t.document.scrollLeft(),e=e.top-t.document.scrollTop();i.height=t.uiDialog.height(),i.width=t.uiDialog.width(),i.position={my:"left top",at:"left"+(0<=o?"+":"")+o+" top"+(0<=e?"+":"")+e,of:t.window},t._removeClass(n(this),"ui-dialog-resizing"),t._unblockFrames(),t._trigger("resizeStop",u,r(f))}}).css("position",f)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=n(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var i=this._trackingInstances(),t=n.inArray(this,i);-1!==t&&i.splice(t,1)},_trackingInstances:function(){var n=this.document.data("ui-dialog-instances");return n||this.document.data("ui-dialog-instances",n=[]),n},_minHeight:function(){var n=this.options;return"auto"===n.height?n.minHeight:Math.min(n.minHeight,n.height)},_position:function(){var n=this.uiDialog.is(":visible");n||this.uiDialog.show(),this.uiDialog.position(this.options.position),n||this.uiDialog.hide()},_setOptions:function(t){var i=this,u=!1,r={};n.each(t,function(n,t){i._setOption(n,t),n in i.sizeRelatedOptions&&(u=!0),n in i.resizableRelatedOptions&&(r[n]=t)}),u&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,i){var u,r=this.uiDialog;"disabled"!==t&&(this._super(t,i),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:n("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((u=r.is(":data(ui-draggable)"))&&!i&&r.draggable("destroy"),!u&&i&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((u=r.is(":data(ui-resizable)"))&&!i&&r.resizable("destroy"),u&&"string"==typeof i&&r.resizable("option","handles",i),u||!1===i||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,i,r,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),i=Math.max(0,n.minHeight-t),r="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:i,maxHeight:r,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=n(this);return n("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!n(t.target).closest(".ui-dialog").length||!!n(t.target).closest(".ui-datepicker").length},_createOverlay:function(){var i,t;this.options.modal&&(i=n.fn.jquery.substring(0,4),t=!0,this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(n){var r;t||(r=this._trackingInstances()[0])._allowInteraction(n)||(n.preventDefault(),r._focusTabbable(),"3.4."!==i&&"3.5."!==i||r._delay(r._restoreTabbableFocus))}.bind(this)),this.overlay=n("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1))},_destroyOverlay:function(){var n;this.options.modal&&this.overlay&&((n=this.document.data("ui-dialog-overlays")-1)?this.document.data("ui-dialog-overlays",n):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null)}}),!1!==n.uiBackCompat&&n.widget("ui.dialog",n.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(n,t){"dialogClass"===n&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}}),n.ui.dialog,n.widget("ui.progressbar",{version:"1.13.2",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=n("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(n){if(void 0===n)return this.options.value;this.options.value=this._constrainedValue(n),this._refreshValue()},_constrainedValue:function(n){return void 0===n&&(n=this.options.value),this.indeterminate=!1===n,"number"!=typeof n&&(n=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,n))},_setOptions:function(n){var t=n.value;delete n.value,this._super(n),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(n,t){"max"===n&&(t=Math.max(this.min,t)),this._super(n,t)},_setOptionDisabled:function(n){this._super(n),this.element.attr("aria-disabled",n),this._toggleClass(null,"ui-state-disabled",!!n)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=n("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),n.widget("ui.selectmenu",[n.ui.formResetMixin,{version:"1.13.2",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=n()},_drawButton:function(){var i,t=this,r=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(n){this.button.trigger("focus"),n.preventDefault()}}),this.element.hide(),this.button=n("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),i=n("<span>").appendTo(this.button),this._addClass(i,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(r).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t._rendered||t._refreshMenu()})},_drawMenu:function(){var t=this;this.menu=n("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=n("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(n,i){n.preventDefault(),t._setSelection(),t._select(i.item.data("ui-selectmenu-item"),n)},focus:function(n,i){i=i.item.data("ui-selectmenu-item"),null!=t.focusIndex&&i.index!==t.focusIndex&&(t._trigger("focus",n,{item:i}),t.isOpen||t._select(i,n)),t.focusIndex=i.index,t.button.attr("aria-activedescendant",t.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var n=this.element.find("option");this.menu.empty(),this._parseOptions(n),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,n.length&&(n=this._getSelectedItem(),this.menuInstance.focus(null,n),this._setAria(n.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(n){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",n)))},_position:function(){this.menuWrap.position(n.extend({of:this.button},this.options.position))},close:function(n){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",n))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var i=n("<span>");return this._setText(i,t.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(t,i){var u=this,r="";n.each(i,function(i,f){var e;f.optgroup!==r&&(e=n("<li>",{text:f.optgroup}),u._addClass(e,"ui-selectmenu-optgroup","ui-menu-divider"+(f.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),e.appendTo(t),r=f.optgroup),u._renderItemData(t,f)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var u=n("<li>"),r=n("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(u,null,"ui-state-disabled"),this._setText(r,i.label),u.append(r).appendTo(t)},_setText:function(n,t){t?n.text(t):n.html("&#160;")},_move:function(n,t){var r,i=".ui-menu-item";this.isOpen?r=this.menuItems.eq(this.focusIndex).parent("li"):(r=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),i+=":not(.ui-state-disabled)"),(i="first"===n||"last"===n?r["first"===n?"prevAll":"nextAll"](i).eq(-1):r[n+"All"](i).eq(0)).length&&this.menuInstance.focus(t,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(n){this[this.isOpen?"close":"open"](n)},_setSelection:function(){var n;this.range&&(window.getSelection?((n=window.getSelection()).removeAllRanges(),n.addRange(this.range)):this.range.select(),this.button.trigger("focus"))},_documentClick:{mousedown:function(t){this.isOpen&&(n(t.target).closest(".ui-selectmenu-menu, #"+n.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var n;window.getSelection?(n=window.getSelection()).rangeCount&&(this.range=n.getRangeAt(0)):this.range=document.selection.createRange()},click:function(n){this._setSelection(),this._toggle(n)},keydown:function(t){var i=!0;switch(t.keyCode){case n.ui.keyCode.TAB:case n.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case n.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case n.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case n.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case n.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case n.ui.keyCode.LEFT:this._move("prev",t);break;case n.ui.keyCode.RIGHT:this._move("next",t);break;case n.ui.keyCode.HOME:case n.ui.keyCode.PAGE_UP:this._move("first",t);break;case n.ui.keyCode.END:case n.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(n){var t=this.menuItems.eq(this.focusIndex).parent("li");t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),n)},_select:function(n,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=n.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(n)),this._setAria(n),this._trigger("select",t,{item:n}),n.index!==i&&this._trigger("change",t,{item:n}),this.close(t)},_setAria:function(n){n=this.menuItems.eq(n.index).attr("id"),this.button.attr({"aria-labelledby":n,"aria-activedescendant":n}),this.menu.attr("aria-activedescendant",n)},_setOption:function(n,t){var i;"icons"===n&&(i=this.button.find("span.ui-icon"),this._removeClass(i,null,this.options.icons.button)._addClass(i,null,t.button)),this._super(n,t),"appendTo"===n&&this.menuWrap.appendTo(this._appendTo()),"width"===n&&this._resizeButton()},_setOptionDisabled:function(n){this._super(n),this.menuInstance.option("disabled",n),this.button.attr("aria-disabled",n),this._toggleClass(this.button,null,"ui-state-disabled",n),this.element.prop("disabled",n),n?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;return t=(t=!(t=t&&(t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)))||!t[0]?this.element.closest(".ui-front, dialog"):t).length?t:this.document[0].body},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var n=this.options.width;!1!==n?(null===n&&(n=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(n)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var n=this._super();return n.disabled=this.element.prop("disabled"),n},_parseOptions:function(t){var r=this,i=[];t.each(function(t,u){u.hidden||i.push(r._parseOption(n(u),t))}),this.items=i},_parseOption:function(n,t){var i=n.parent("optgroup");return{element:n,index:t,value:n.val(),label:n.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||n.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),n.widget("ui.slider",n.ui.mouse,{version:"1.13.2",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var r,u=this.options,t=this.element.find(".ui-slider-handle"),f=[],i=u.values&&u.values.length||1;for(t.length>i&&(t.slice(i).remove(),t=t.slice(0,i)),r=t.length;r<i;r++)f.push("<span tabindex='0'></span>");this.handles=t.add(n(f.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){n(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:Array.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=n("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var o,f,i,u,s,r,e=this,h=this.options;return!h.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),r={x:t.pageX,y:t.pageY},o=this._normValueFromMouse(r),f=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var r=Math.abs(o-e.values(t));(r<f||f===r&&(t===e._lastChangedValue||e.values(t)===h.min))&&(f=r,i=n(this),u=t)}),!1!==this._start(t,u)&&(this._mouseSliding=!0,this._handleIndex=u,this._addClass(i,null,"ui-state-active"),i.trigger("focus"),s=i.offset(),r=!n(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=r?{left:0,top:0}:{left:t.pageX-s.left-i.width()/2,top:t.pageY-s.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,u,o),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(n){var t={x:n.pageX,y:n.pageY},t=this._normValueFromMouse(t);return this._slide(n,this._handleIndex,t),!1},_mouseStop:function(n){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(n,this._handleIndex),this._change(n,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(n){var t,n="horizontal"===this.orientation?(t=this.elementSize.width,n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=n/t;return(n=1<n?1:n)<0&&(n=0),"vertical"===this.orientation&&(n=1-n),t=this._valueMax()-this._valueMin(),t=this._valueMin()+n*t,this._trimAlignValue(t)},_uiHash:function(n,t,i){var r={handle:this.handles[n],handleIndex:n,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(r.value=void 0!==t?t:this.values(n),r.values=i||this.values()),r},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(n,t){return this._trigger("start",n,this._uiHash(t))},_slide:function(n,t,i){var r,f=this.value(),u=this.values();this._hasMultipleValues()&&(r=this.values(t?0:1),f=this.values(t),2===this.options.values.length&&!0===this.options.range&&(i=0===t?Math.min(r,i):Math.max(r,i)),u[t]=i),i!==f&&!1!==this._trigger("slide",n,this._uiHash(t,i,u))&&(this._hasMultipleValues()?this.values(t,i):this.value(i))},_stop:function(n,t){this._trigger("stop",n,this._uiHash(t))},_change:function(n,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",n,this._uiHash(t)))},value:function(n){return arguments.length?(this.options.value=this._trimAlignValue(n),this._refreshValue(),void this._change(null,0)):this._value()},values:function(n,t){var r,u,i;if(1<arguments.length)return this.options.values[n]=this._trimAlignValue(t),this._refreshValue(),void this._change(null,n);if(!arguments.length)return this._values();if(!Array.isArray(n))return this._hasMultipleValues()?this._values(n):this.value();for(r=this.options.values,u=n,i=0;i<r.length;i+=1)r[i]=this._trimAlignValue(u[i]),this._change(null,i);this._refreshValue()},_setOption:function(n,t){var i,r=0;switch("range"===n&&!0===this.options.range&&("min"===t?(this.options.value=this._values(0),this.options.values=null):"max"===t&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(r=this.options.values.length),this._super(n,t),n){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(t),this.handles.css("horizontal"===t?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=r-1;0<=i;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(n){this._super(n),this._toggleClass(null,"ui-state-disabled",!!n)},_value:function(){var n=this.options.value;return n=this._trimAlignValue(n)},_values:function(n){var i,t;if(arguments.length)return n=this.options.values[n],n=this._trimAlignValue(n);if(this._hasMultipleValues()){for(i=this.options.values.slice(),t=0;t<i.length;t+=1)i[t]=this._trimAlignValue(i[t]);return i}return[]},_trimAlignValue:function(n){if(n<=this._valueMin())return this._valueMin();if(n>=this._valueMax())return this._valueMax();var t=0<this.options.step?this.options.step:1,i=(n-this._valueMin())%t,n=n-i;return 2*Math.abs(i)>=t&&(n+=0<i?t:-t),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var n=this.options.max,i=this._valueMin(),t=this.options.step;(n=Math.round((n-i)/t)*t+i)>this.options.max&&(n-=t),this.max=parseFloat(n.toFixed(this._precision()))},_precision:function(){var n=this._precisionOf(this.options.step);return n=null!==this.options.min?Math.max(n,this._precisionOf(this.options.min)):n},_precisionOf:function(n){var t=n.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(n){"vertical"===n&&this.range.css({width:"",left:""}),"horizontal"===n&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var s,t,c,o,h,e=this.options.range,i=this.options,r=this,u=!this._animateOff&&i.animate,f={};this._hasMultipleValues()?this.handles.each(function(e){t=(r.values(e)-r._valueMin())/(r._valueMax()-r._valueMin())*100,f["horizontal"===r.orientation?"left":"bottom"]=t+"%",n(this).stop(1,1)[u?"animate":"css"](f,i.animate),!0===r.options.range&&("horizontal"===r.orientation?(0===e&&r.range.stop(1,1)[u?"animate":"css"]({left:t+"%"},i.animate),1===e&&r.range[u?"animate":"css"]({width:t-s+"%"},{queue:!1,duration:i.animate})):(0===e&&r.range.stop(1,1)[u?"animate":"css"]({bottom:t+"%"},i.animate),1===e&&r.range[u?"animate":"css"]({height:t-s+"%"},{queue:!1,duration:i.animate}))),s=t}):(c=this.value(),o=this._valueMin(),h=this._valueMax(),t=h!==o?(c-o)/(h-o)*100:0,f["horizontal"===this.orientation?"left":"bottom"]=t+"%",this.handle.stop(1,1)[u?"animate":"css"](f,i.animate),"min"===e&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:t+"%"},i.animate),"max"===e&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-t+"%"},i.animate),"min"===e&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:t+"%"},i.animate),"max"===e&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-t+"%"},i.animate))},_handleEvents:{keydown:function(t){var r,i,f,u=n(t.target).data("ui-slider-handle-index");switch(t.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(n(t.target),null,"ui-state-active"),!1===this._start(t,u)))return}switch(f=this.options.step,r=i=this._hasMultipleValues()?this.values(u):this.value(),t.keyCode){case n.ui.keyCode.HOME:i=this._valueMin();break;case n.ui.keyCode.END:i=this._valueMax();break;case n.ui.keyCode.PAGE_UP:i=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/this.numPages);break;case n.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/this.numPages);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(r===this._valueMax())return;i=this._trimAlignValue(r+f);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(r===this._valueMin())return;i=this._trimAlignValue(r-f)}this._slide(t,u,i)},keyup:function(t){var i=n(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),this._removeClass(n(t.target),null,"ui-state-active"))}}}),n.widget("ui.spinner",{version:"1.13.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t=this._super(),i=this.element;return n.each(["min","max","step"],function(n,r){var u=i.attr(r);null!=u&&u.length&&(t[r]=u)}),t},_events:{keydown:function(n){this._start(n)&&this._keydown(n)&&n.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(n){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",n))},mousewheel:function(t,i){var r=n.ui.safeActiveElement(this.document[0]);if(this.element[0]===r&&i){if(!this.spinning&&!this._start(t))return!1;this._spin((0<i?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(t){function r(){this.element[0]===n.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===n.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),r.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,r.call(this)}),!1!==this._start(t)&&this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(n(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var r=this.options,i=n.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,r.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-r.page,t),!0}return!1},_start:function(n){return!(!this.spinning&&!1===this._trigger("start",n))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(n,t,i){n=n||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},n),this._spin(t*this.options.step,i)},_spin:function(n,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+n*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:i})||(this._value(i),this.counter++)},_increment:function(n){var t=this.options.incremental;return t?"function"==typeof t?t(n):Math.floor(n*n*n/5e4-n*n/500+17*n/200+1):1},_precision:function(){var n=this._precisionOf(this.options.step);return n=null!==this.options.min?Math.max(n,this._precisionOf(this.options.min)):n},_precisionOf:function(n){var t=n.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(n){var t=this.options,i=null!==t.min?t.min:0,r=n-i;return n=i+Math.round(r/t.step)*t.step,n=parseFloat(n.toFixed(this._precision())),null!==t.max&&n>t.max?t.max:null!==t.min&&n<t.min?t.min:n},_stop:function(n){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",n))},_setOption:function(n,t){var i;if("culture"===n||"numberFormat"===n)return i=this._parse(this.element.val()),this.options[n]=t,void this.element.val(this._format(i));"max"!==n&&"min"!==n&&"step"!==n||"string"==typeof t&&(t=this._parse(t)),"icons"===n&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,t.up),i=this.buttons.last().find(".ui-icon"),this._removeClass(i,null,this.options.icons.down),this._addClass(i,null,t.down)),this._super(n,t)},_setOptionDisabled:function(n){this._super(n),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!n),this.element.prop("disabled",!!n),this.buttons.button(n?"disable":"enable")},_setOptions:o(function(n){this._super(n)}),_parse:function(n){return""===(n="string"==typeof n&&""!==n?window.Globalize&&this.options.numberFormat?Globalize.parseFloat(n,10,this.options.culture):+n:n)||isNaN(n)?null:n},_format:function(n){return""===n?"":window.Globalize&&this.options.numberFormat?Globalize.format(n,this.options.numberFormat,this.options.culture):n},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var n=this.value();return null!==n&&n===this._adjustValue(n)},_value:function(n,t){var i;""!==n&&null!==(i=this._parse(n))&&(t||(i=this._adjustValue(i)),n=this._format(i)),this.element.val(n),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:o(function(n){this._stepUp(n)}),_stepUp:function(n){this._start()&&(this._spin((n||1)*this.options.step),this._stop())},stepDown:o(function(n){this._stepDown(n)}),_stepDown:function(n){this._start()&&(this._spin((n||1)*-this.options.step),this._stop())},pageUp:o(function(n){this._stepUp((n||1)*this.options.page)}),pageDown:o(function(n){this._stepDown((n||1)*this.options.page)}),value:function(n){if(!arguments.length)return this._parse(this.element.val());o(this._value).call(this,n)},widget:function(){return this.uiSpinner}}),!1!==n.uiBackCompat&&n.widget("ui.spinner",n.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),n.ui.spinner,n.widget("ui.tabs",{version:"1.13.2",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(d=/#.*$/,function(n){var i=n.href.replace(d,""),t=location.href.replace(d,"");try{i=decodeURIComponent(i)}catch(n){}try{t=decodeURIComponent(t)}catch(n){}return 1<n.hash.length&&i===t}),_create:function(){var i=this,t=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,t.collapsible),this._processTabs(),t.active=this._initialActive(),Array.isArray(t.disabled)&&(t.disabled=n.uniqueSort(t.disabled.concat(n.map(this.tabs.filter(".ui-state-disabled"),function(n){return i.tabs.index(n)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(t.active):n(),this._refresh(),this.active.length&&this.load(t.active)},_initialActive:function(){var t=this.options.active,r=this.options.collapsible,i=location.hash.substring(1);return null===t&&(i&&this.tabs.each(function(r,u){if(n(u).attr("aria-controls")===i)return t=r,!1}),null!==(t=null===t?this.tabs.index(this.tabs.filter(".ui-tabs-active")):t)&&-1!==t||(t=!!this.tabs.length&&0)),!1!==t&&-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!r&&0),t=!r&&!1===t&&this.anchors.length?0:t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):n()}},_tabKeydown:function(t){var u=n(n.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(u),r=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:i++;break;case n.ui.keyCode.UP:case n.ui.keyCode.LEFT:r=!1,i--;break;case n.ui.keyCode.END:i=this.anchors.length-1;break;case n.ui.keyCode.HOME:i=0;break;case n.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case n.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),t.ctrlKey||t.metaKey||(u.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===n.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===n.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===n.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){for(var r=this.tabs.length-1;-1!==n.inArray(t=(t=r<t?0:t)<0?r:t,this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(n,t){return n=this._findNextTab(n,t),this.tabs.eq(n).trigger("focus"),n},_setOption:function(n,t){"active"!==n?(this._super(n,t),"collapsible"===n&&(this._toggleClass("ui-tabs-collapsible",null,t),t||!1!==this.options.active||this._activate(0)),"event"===n&&this._setupEvents(t),"heightStyle"===n&&this._setupHeightStyle(t)):this._activate(t)},_sanitizeSelector:function(n){return n?n.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=n.map(i.filter(".ui-state-disabled"),function(n){return i.index(n)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!n.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=n()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=n()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,u=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){n(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){n(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return n("a",this)[0]}).attr({tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=n(),this.anchors.each(function(i,r){var o,u,f,h=n(r).uniqueId().attr("id"),e=n(r).closest("li"),s=e.attr("aria-controls");t._isLocal(r)?(f=(o=r.hash).substring(1),u=t.element.find(t._sanitizeSelector(o))):(f=e.attr("aria-controls")||n({}).uniqueId()[0].id,(u=t.element.find(o="#"+f)).length||(u=t._createPanel(f)).insertAfter(t.panels[i-1]||t.tablist),u.attr("aria-live","polite")),u.length&&(t.panels=t.panels.add(u)),s&&e.data("ui-tabs-aria-controls",s),e.attr({"aria-controls":f,"aria-labelledby":h}),u.attr("aria-labelledby",h)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(u.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return n("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var i,r;for(Array.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),r=0;i=this.tabs[r];r++)i=n(i),!0===t||-1!==n.inArray(r,t)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=t,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===t)},_setupEvents:function(t){var i={};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(n){n.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,r=this.element.parent();"fill"===t?(i=r.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var r=n(this),t=r.css("position");"absolute"!==t&&"fixed"!==t&&(i-=r.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=n(this).outerHeight(!0)}),this.panels.each(function(){n(this).height(Math.max(0,i-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,n(this).height("").height())}).height(i))},_eventHandler:function(t){var e=this.options,r=this.active,i=n(t.currentTarget).closest("li"),o=i[0]===r[0],u=o&&e.collapsible,f=u?n():this._getPanelForTab(i),s=r.length?this._getPanelForTab(r):n(),r={oldTab:r,oldPanel:s,newTab:u?n():i,newPanel:f};t.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||o&&!e.collapsible||!1===this._trigger("beforeActivate",t,r)||(e.active=!u&&this.tabs.index(i),this.active=o?n():i,this.xhr&&this.xhr.abort(),s.length||f.length||n.error("jQuery UI Tabs: Mismatching fragment identifier."),f.length&&this.load(this.tabs.index(i),t),this._toggle(t,r))},_toggle:function(t,i){function o(){r.running=!1,r._trigger("activate",t,i)}function e(){r._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),u.length&&r.options.show?r._show(u,r.options.show,o):(u.show(),o())}var r=this,u=i.newPanel,f=i.oldPanel;this.running=!0,f.length&&this.options.hide?this._hide(f,this.options.hide,function(){r._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),e()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),f.hide(),e()),f.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),u.length&&f.length?i.oldTab.attr("tabIndex",-1):u.length&&this.tabs.filter(function(){return 0===n(this).attr("tabIndex")}).attr("tabIndex",-1),u.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var t=this._findActive(t);t[0]!==this.active[0]&&(t=(t=t.length?t:this.active).find(".ui-tabs-anchor")[0],this._eventHandler({target:t,currentTarget:t,preventDefault:n.noop}))},_findActive:function(t){return!1===t?n():this.tabs.eq(t)},_getIndex:function(t){return t="string"==typeof t?this.anchors.index(this.anchors.filter("[href$='"+n.escapeSelector(t)+"']")):t},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){n.data(this,"ui-tabs-destroy")?n(this).remove():n(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var t=n(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;!1!==i&&(i=void 0!==t&&(t=this._getIndex(t),Array.isArray(i)?n.map(i,function(n){return n!==t?n:null}):n.map(this.tabs,function(n,i){return i!==t?i:null})),this._setOptionDisabled(i))},disable:function(t){var i=this.options.disabled;if(!0!==i){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==n.inArray(t,i))return;i=Array.isArray(i)?n.merge([t],i).sort():[t]}this._setOptionDisabled(i)}},load:function(t,i){function o(n,t){"abort"===t&&u.panels.stop(!1,!0),u._removeClass(r,"ui-tabs-loading"),f.removeAttr("aria-busy"),n===u.xhr&&delete u.xhr}t=this._getIndex(t);var u=this,r=this.tabs.eq(t),t=r.find(".ui-tabs-anchor"),f=this._getPanelForTab(r),e={tab:r,panel:f};this._isLocal(t[0])||(this.xhr=n.ajax(this._ajaxSettings(t,i,e)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),f.attr("aria-busy","true"),this.xhr.done(function(n,t,r){setTimeout(function(){f.html(n),u._trigger("load",i,e),o(r,t)},1)}).fail(function(n,t){setTimeout(function(){o(n,t)},1)})))},_ajaxSettings:function(t,i,r){var u=this;return{url:t.attr("href").replace(/#.*$/,""),beforeSend:function(t,f){return u._trigger("beforeLoad",i,n.extend({jqXHR:t,ajaxSettings:f},r))}}},_getPanelForTab:function(t){return t=n(t).attr("aria-controls"),this.element.find(this._sanitizeSelector("#"+t))}}),!1!==n.uiBackCompat&&n.widget("ui.tabs",n.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),n.ui.tabs,n.widget("ui.tooltip",{version:"1.13.2",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=n(this).attr("title");return n("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(n,t){var i=(n.attr("aria-describedby")||"").split(/\s+/);i.push(t),n.data("ui-tooltip-id",t).attr("aria-describedby",String.prototype.trim.call(i.join(" ")))},_removeDescribedBy:function(t){var r=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=n.inArray(r,i);-1!==r&&i.splice(r,1),t.removeData("ui-tooltip-id"),(i=String.prototype.trim.call(i.join(" ")))?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=n("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=n([])},_setOption:function(t,i){var r=this;this._super(t,i),"content"===t&&n.each(this.tooltips,function(n,t){r._updateContent(t.element)})},_setOptionDisabled:function(n){this[n?"_disable":"_enable"]()},_disable:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur");u.target=u.currentTarget=r.element[0],t.close(u,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=n(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var t=n(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}),this.disabledTitles=n([])},open:function(t){var r=this,i=n(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each(function(){var i,t=n(this);t.data("ui-tooltip-open")&&((i=n.Event("blur")).target=i.currentTarget=this,r.close(i,!0)),t.attr("title")&&(t.uniqueId(),r.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._registerCloseHandlers(t,i),this._updateContent(i,t))},_updateContent:function(n,t){var i=this.options.content,u=this,r=t?t.type:null;if("string"==typeof i||i.nodeType||i.jquery)return this._open(t,n,i);(i=i.call(n[0],function(i){u._delay(function(){n.data("ui-tooltip-open")&&(t&&(t.type=r),this._open(t,n,i))})}))&&this._open(t,n,i)},_open:function(t,i,r){function o(n){e.of=n,u.is(":hidden")||u.position(e)}var f,u,s,e=n.extend({},this.options.position);r&&((f=this._find(i))?f.tooltip.find(".ui-tooltip-content").html(r):(i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),f=this._tooltip(i),u=f.tooltip,this._addDescribedBy(i,u.attr("id")),u.find(".ui-tooltip-content").html(r),this.liveRegion.children().hide(),(r=n("<div>").html(u.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),r.removeAttr("id").find("[id]").removeAttr("id"),r.appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:o}),o(t)):u.position(n.extend({of:i},this.options.position)),u.hide(),this._show(u,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){u.is(":visible")&&(o(e.of),clearInterval(s))},13)),this._trigger("open",t,{tooltip:u})))},_registerCloseHandlers:function(t,i){var r={keyup:function(t){t.keyCode===n.ui.keyCode.ESCAPE&&((t=n.Event(t)).currentTarget=i[0],this.close(t,!0))}};i[0]!==this.element[0]&&(r.remove=function(){var n=this._find(i);n&&this._removeTooltip(n.tooltip)}),t&&"mouseover"!==t.type||(r.mouseleave="close"),t&&"focusin"!==t.type||(r.focusout="close"),this._on(!0,i,r)},close:function(t){var u,f=this,i=n(t?t.currentTarget:this.element),r=this._find(i);r?(u=r.tooltip,r.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),r.hiding=!0,u.stop(!0),this._hide(u,this.options.hide,function(){f._removeTooltip(n(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&n.each(this.parents,function(t,i){n(i.element).attr("title",i.title),delete f.parents[t]}),r.closing=!0,this._trigger("close",t,{tooltip:u}),r.hiding||(r.closing=!1))):i.removeData("ui-tooltip-open")},_tooltip:function(t){var i=n("<div>").attr("role","tooltip"),u=n("<div>").appendTo(i),r=i.uniqueId().attr("id");return this._addClass(u,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(t)),this.tooltips[r]={element:t,tooltip:i}},_find:function(n){return n=n.data("ui-tooltip-id"),n?this.tooltips[n]:null},_removeTooltip:function(n){clearInterval(this.delayedShow),n.remove(),delete this.tooltips[n.attr("id")]},_appendTo:function(n){return n=n.closest(".ui-front, dialog"),n=n.length?n:this.document[0].body},_destroy:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur"),r=r.element;u.target=u.currentTarget=r[0],t.close(u,!0),n("#"+i).remove(),r.data("ui-tooltip-title")&&(r.attr("title")||r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==n.uiBackCompat&&n.widget("ui.tooltip",n.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var n=this._superApply(arguments);return this.options.tooltipClass&&n.tooltip.addClass(this.options.tooltipClass),n}}),n.ui.tooltip;var t=n,ut={},di=ut.toString,tr=/^([\-+])=\s*(\d+\.?\d*)/,nr=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[n[1],n[2],n[3],n[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[2.55*n[1],2.55*n[2],2.55*n[3],n[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(n){return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),n[4]?(parseInt(n[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(n){return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16),n[4]?(parseInt(n[4]+n[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(n){return[n[1],n[2]/100,n[3]/100,n[4]]}}],i=t.Color=function(n,i,r,u){return new t.Color.fn.parse(n,i,r,u)},f={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},vi={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},ai=i.support={},b=t("<p>")[0],r=t.each;b.style.cssText="background-color:rgba(1,1,1,.5)",ai.rgba=-1<b.style.backgroundColor.indexOf("rgba"),r(f,function(n,t){t.cache="_"+n,t.props.alpha={idx:3,type:"percent",def:1}}),t.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(n,t){ut["[object "+t+"]"]=t.toLowerCase()}),(i.fn=t.extend(i.prototype,{parse:function(n,u,e,o){if(void 0===n)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(u),u=void 0);var h=this,c=s(n),l=this._rgba=[];return void 0!==u&&(n=[n,u,e,o],c="array"),"string"===c?this.parse(ct(n)||st._default):"array"===c?(r(f.rgba.props,function(t,i){l[i.idx]=y(n[i.idx],i)}),this):"object"===c?(r(f,n instanceof i?function(t,i){n[i.cache]&&(h[i.cache]=n[i.cache].slice())}:function(i,u){var f=u.cache;r(u.props,function(t,i){if(!h[f]&&u.to){if("alpha"===t||null==n[t])return;h[f]=u.to(h._rgba)}h[f][i.idx]=y(n[t],i,!0)}),h[f]&&t.inArray(null,h[f].slice(0,3))<0&&(null==h[f][3]&&(h[f][3]=1),u.from&&(h._rgba=u.from(h[f])))}),this):void 0},is:function(n){var e=i(n),t=!0,u=this;return r(f,function(n,i){var o,f=e[i.cache];return f&&(o=u[i.cache]||i.to&&i.to(u._rgba)||[],r(i.props,function(n,i){if(null!=f[i.idx])return t=f[i.idx]===o[i.idx]})),t}),t},_space:function(){var n=[],t=this;return r(f,function(i,r){t[r.cache]&&n.push(i)}),n.pop()},transition:function(n,t){var s=(o=i(n))._space(),u=f[s],n=0===this.alpha()?i("transparent"):this,h=n[u.cache]||u.to(n._rgba),e=h.slice(),o=o[u.cache];return r(u.props,function(n,i){var s=i.idx,r=h[s],u=o[s],f=vi[i.type]||{};null!==u&&(null===r?e[s]=u:(f.mod&&(u-r>f.mod/2?r+=f.mod:r-u>f.mod/2&&(r-=f.mod)),e[s]=y((u-r)*t+r,i)))}),this[s](e)},blend:function(n){if(1===this._rgba[3])return this;var u=this._rgba.slice(),r=u.pop(),f=i(n)._rgba;return i(t.map(u,function(n,t){return(1-r)*f[t]+r*n}))},toRgbaString:function(){var i="rgba(",n=t.map(this._rgba,function(n,t){return null!=n?n:2<t?1:0});return 1===n[3]&&(n.pop(),i="rgb("),i+n.join()+")"},toHslaString:function(){var i="hsla(",n=t.map(this.hsla(),function(n,t){return null==n&&(n=2<t?1:0),n=t&&t<3?Math.round(100*n)+"%":n});return 1===n[3]&&(n.pop(),i="hsl("),i+n.join()+")"},toHexString:function(n){var i=this._rgba.slice(),r=i.pop();return n&&i.push(~~(255*r)),"#"+t.map(i,function(n){return 1===(n=(n||0).toString(16)).length?"0"+n:n}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}})).parse.prototype=i.fn,f.hsla.to=function(n){if(null==n[0]||null==n[1]||null==n[2])return[null,null,null,n[3]];var u=n[0]/255,i=n[1]/255,f=n[2]/255,s=n[3],r=Math.max(u,i,f),o=Math.min(u,i,f),t=r-o,e=r+o,n=.5*e,i=o===r?0:u===r?60*(i-f)/t+360:i===r?60*(f-u)/t+120:60*(u-i)/t+240,e=0==t?0:n<=.5?t/e:t/(2-e);return[Math.round(i)%360,e,n,null==s?1:s]},f.hsla.from=function(n){if(null==n[0]||null==n[1]||null==n[2])return[null,null,null,n[3]];var r=n[0]/360,i=n[1],t=n[2],n=n[3],i=t<=.5?t*(1+i):t+i-t*i,t=2*t-i;return[Math.round(255*k(t,i,r+1/3)),Math.round(255*k(t,i,r)),Math.round(255*k(t,i,r-1/3)),n]},r(f,function(n,t){var o=t.props,u=t.cache,e=t.to,f=t.from;i.fn[n]=function(n){if(e&&!this[u]&&(this[u]=e(this._rgba)),void 0===n)return this[u].slice();var h=s(n),c="array"===h||"object"===h?n:arguments,t=this[u].slice();return r(o,function(n,i){n=c["object"===h?n:i.idx],null==n&&(n=t[i.idx]),t[i.idx]=y(n,i)}),f?((n=i(f(t)))[u]=t,n):i(t)},r(o,function(t,r){i.fn[t]||(i.fn[t]=function(i){var o,u=s(i),h="alpha"===t?this._hsla?"hsla":"rgba":n,f=this[h](),e=f[r.idx];return"undefined"===u?e:("function"===u&&(u=s(i=i.call(this,e))),null==i&&r.empty?this:("string"===u&&(o=tr.exec(i))&&(i=e+parseFloat(o[2])*("+"===o[1]?1:-1)),f[r.idx]=i,this[h](f)))})})}),(i.hook=function(n){n=n.split(" "),r(n,function(n,r){t.cssHooks[r]={set:function(n,u){var o,f,e="";if("transparent"!==u&&("string"!==s(u)||(o=ct(u)))){if(u=i(o||u),!ai.rgba&&1!==u._rgba[3]){for(f="backgroundColor"===r?n.parentNode:n;(""===e||"transparent"===e)&&f&&f.style;)try{e=t.css(f,"backgroundColor"),f=f.parentNode}catch(n){}u=u.blend(e&&"transparent"!==e?e:"_default")}u=u.toRgbaString()}try{n.style[r]=u}catch(n){}}},t.fx.step[r]=function(n){n.colorInit||(n.start=i(n.elem,r),n.end=i(n.end),n.colorInit=!0),t.cssHooks[r].set(n.elem,n.start.transition(n.end,n.pos))}})})("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(n){var t={};return r(["Top","Right","Bottom","Left"],function(i,r){t["border"+r+"Color"]=n}),t}};var kt,dt,gt,wt,pt,yt,lt,vt,at,l,st=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"},v="ui-effects-",ot="ui-effects-style",ht="ui-effects-animated";n.effects={effect:{}},wt=["add","remove","toggle"],pt={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1},n.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(i,r){n.fx.step[r]=function(n){("none"!==n.end&&!n.setAttr||1===n.pos&&!n.setAttr)&&(t.style(n.elem,r,n.end),n.setAttr=!0)}}),n.fn.addBack||(n.fn.addBack=function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))}),n.effects.animateClass=function(t,i,r,u){var f=n.speed(i,r,u);return this.queue(function(){var r=n(this),e=r.attr("class")||"",i=(i=f.children?r.find("*").addBack():r).map(function(){return{el:n(this),start:bt(this)}}),u=function(){n.each(wt,function(n,i){t[i]&&r[i+"Class"](t[i])})};u(),i=i.map(function(){return this.end=bt(this.el[0]),this.diff=function(t,i){var r,u,f={};for(r in i)u=i[r],t[r]!==u&&(pt[r]||!n.fx.step[r]&&isNaN(parseFloat(u))||(f[r]=u));return f}(this.start,this.end),this}),r.attr("class",e),i=i.map(function(){var r=this,t=n.Deferred(),i=n.extend({},f,{queue:!1,complete:function(){t.resolve(r)}});return this.el.animate(this.diff,i),t.promise()}),n.when.apply(n,i.get()).done(function(){u(),n.each(arguments,function(){var t=this.el;n.each(this.diff,function(n){t.css(n,"")})}),f.complete.call(r[0])})})},n.fn.extend({addClass:(gt=n.fn.addClass,function(t,i,r,u){return i?n.effects.animateClass.call(this,{add:t},i,r,u):gt.apply(this,arguments)}),removeClass:(dt=n.fn.removeClass,function(t,i,r,u){return 1<arguments.length?n.effects.animateClass.call(this,{remove:t},i,r,u):dt.apply(this,arguments)}),toggleClass:(kt=n.fn.toggleClass,function(t,i,r,u,f){return"boolean"==typeof i||void 0===i?r?n.effects.animateClass.call(this,i?{add:t}:{remove:t},r,u,f):kt.apply(this,arguments):n.effects.animateClass.call(this,{toggle:t},i,r,u)}),switchClass:function(t,i,r,u,f){return n.effects.animateClass.call(this,{add:i,remove:t},r,u,f)}}),n.expr&&n.expr.pseudos&&n.expr.pseudos.animated&&(n.expr.pseudos.animated=(yt=n.expr.pseudos.animated,function(t){return!!n(t).data(ht)||yt(t)})),!1!==n.uiBackCompat&&n.extend(n.effects,{save:function(n,t){for(var i=0,r=t.length;i<r;i++)null!==t[i]&&n.data(v+t[i],n[0].style[t[i]])},restore:function(n,t){for(var r,i=0,u=t.length;i<u;i++)null!==t[i]&&(r=n.data(v+t[i]),n.css(t[i],r))},setMode:function(n,t){return t="toggle"===t?n.is(":hidden")?"show":"hide":t},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var r={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},u=n("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),f={width:t.width(),height:t.height()},i=document.activeElement;try{i.id}catch(u){i=document.body}return t.wrap(u),t[0]!==i&&!n.contains(t[0],i)||n(i).trigger("focus"),u=t.parent(),"static"===t.css("position")?(u.css({position:"relative"}),t.css({position:"relative"})):(n.extend(r,{position:t.css("position"),zIndex:t.css("z-index")}),n.each(["top","left","bottom","right"],function(n,i){r[i]=t.css(i),isNaN(parseInt(r[i],10))&&(r[i]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(f),u.css(r).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),t[0]!==i&&!n.contains(t[0],i)||n(i).trigger("focus")),t}}),n.extend(n.effects,{version:"1.13.2",define:function(t,i,r){return r||(r=i,i="effect"),n.effects.effect[t]=r,n.effects.effect[t].mode=i,r},scaledDimensions:function(n,t,i){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var r="horizontal"!==i?(t||100)/100:1,t="vertical"!==i?(t||100)/100:1;return{height:n.height()*t,width:n.width()*r,outerHeight:n.outerHeight()*t,outerWidth:n.outerWidth()*r}},clipToBox:function(n){return{width:n.clip.right-n.clip.left,height:n.clip.bottom-n.clip.top,left:n.clip.left,top:n.clip.top}},unshift:function(n,t,i){var r=n.queue();1<t&&r.splice.apply(r,[1,0].concat(r.splice(t,i))),n.dequeue()},saveStyle:function(n){n.data(ot,n[0].style.cssText)},restoreStyle:function(n){n[0].style.cssText=n.data(ot)||"",n.removeData(ot)},mode:function(n,t){return n=n.is(":hidden"),"toggle"===t&&(t=n?"show":"hide"),t=(n?"hide"===t:"show"===t)?"none":t},getBaseline:function(n,t){var r,i;switch(n[0]){case"top":r=0;break;case"middle":r=.5;break;case"bottom":r=1;break;default:r=n[0]/t.height}switch(n[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=n[1]/t.width}return{x:i,y:r}},createPlaceholder:function(t){var r,i=t.css("position"),u=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",r=n("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(v+"placeholder",r)),t.css({position:i,left:u.left,top:u.top}),r},removePlaceholder:function(n){var i=v+"placeholder",t=n.data(i);t&&(t.remove(),n.removeData(i))},cleanUp:function(t){n.effects.restoreStyle(t),n.effects.removePlaceholder(t)},setTransition:function(t,i,r,u){return u=u||{},n.each(i,function(n,i){var f=t.cssUnit(i);0<f[0]&&(u[i]=f[0]*r+f[1])}),u}}),n.fn.extend({effect:function(){function s(t){var f=n(this),r=n.effects.mode(f,i)||u;f.data(ht,!0),o.push(r),u&&("show"===r||r===u&&"hide"===r)&&f.show(),u&&"none"===r||n.effects.saveStyle(f),"function"==typeof t&&t()}function e(e){function h(){"function"==typeof r&&r.call(s[0]),"function"==typeof e&&e()}var s=n(this);t.mode=o.shift(),!1===n.uiBackCompat||u?"none"===t.mode?(s[i](),h()):f.call(s[0],t,function(){s.removeData(ht),n.effects.cleanUp(s),"hide"===t.mode&&s.hide(),h()}):(s.is(":hidden")?"hide"===i:"show"===i)?(s[i](),h()):f.call(s[0],t,h)}var t=w.apply(this,arguments),f=n.effects.effect[t.effect],u=f.mode,h=t.queue,c=h||"fx",r=t.complete,i=t.mode,o=[];return n.fx.off||!f?i?this[i](t.duration,r):this.each(function(){r&&r.call(this)}):!1===h?this.each(s).each(e):this.queue(c,s).queue(c,e)},show:(at=n.fn.show,function(n){return rt(n)?at.apply(this,arguments):(n=w.apply(this,arguments),n.mode="show",this.effect.call(this,n))}),hide:(vt=n.fn.hide,function(n){return rt(n)?vt.apply(this,arguments):(n=w.apply(this,arguments),n.mode="hide",this.effect.call(this,n))}),toggle:(lt=n.fn.toggle,function(n){return rt(n)||"boolean"==typeof n?lt.apply(this,arguments):(n=w.apply(this,arguments),n.mode="toggle",this.effect.call(this,n))}),cssUnit:function(t){var r=this.css(t),i=[];return n.each(["em","px","%","pt"],function(n,t){0<r.indexOf(t)&&(i=[parseFloat(r),t])}),i},cssClip:function(n){return n?this.css("clip","rect("+n.top+"px "+n.right+"px "+n.bottom+"px "+n.left+"px)"):li(this.css("clip"),this)},transfer:function(t,i){var e=n(this),r=n(t.to),f="fixed"===r.css("position"),u=n("body"),h=f?u.scrollTop():0,s=f?u.scrollLeft():0,u=r.offset(),u={top:u.top-h,left:u.left-s,height:r.innerHeight(),width:r.innerWidth()},r=e.offset(),o=n("<div class='ui-effects-transfer'></div>");o.appendTo("body").addClass(t.className).css({top:r.top-h,left:r.left-s,height:e.innerHeight(),width:e.innerWidth(),position:f?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){o.remove(),"function"==typeof i&&i()})}}),n.fx.step.clip=function(t){t.clipInit||(t.start=n(t.elem).cssClip(),"string"==typeof t.end&&(t.end=li(t.end,t.elem)),t.clipInit=!0),n(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})},l={},n.each(["Quad","Cubic","Quart","Quint","Expo"],function(n,t){l[t]=function(t){return Math.pow(t,n+2)}}),n.extend(l,{Sine:function(n){return 1-Math.cos(n*Math.PI/2)},Circ:function(n){return 1-Math.sqrt(1-n*n)},Elastic:function(n){return 0===n||1===n?n:-Math.pow(2,8*(n-1))*Math.sin((80*(n-1)-7.5)*Math.PI/15)},Back:function(n){return n*n*(3*n-2)},Bounce:function(n){for(var i,t=4;n<((i=Math.pow(2,--t))-1)/11;);return 1/Math.pow(4,3-t)-7.5625*Math.pow((3*i-2)/22-n,2)}}),n.each(l,function(t,i){n.easing["easeIn"+t]=i,n.easing["easeOut"+t]=function(n){return 1-i(1-n)},n.easing["easeInOut"+t]=function(n){return n<.5?i(2*n)/2:1-i(-2*n+2)/2}}),b=n.effects,n.effects.define("blind","hide",function(t,i){var e={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},f=n(this),o=t.direction||"up",s=f.cssClip(),r={clip:n.extend({},s)},u=n.effects.createPlaceholder(f);r.clip[e[o][0]]=r.clip[e[o][1]],"show"===t.mode&&(f.cssClip(r.clip),u&&u.css(n.effects.clipToBox(r)),r.clip=s),u&&u.animate(n.effects.clipToBox(r),t.duration,t.easing),f.animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:i})}),n.effects.define("bounce",function(t,i){var c,h,u=n(this),a=t.mode,l="hide"===a,w="show"===a,f=t.direction||"up",r=t.distance,y=t.times||5,a=2*y+(w||l?1:0),s=t.duration/a,o=t.easing,e="up"===f||"down"===f?"top":"left",v="up"===f||"left"===f,p=0,t=u.queue().length;for(n.effects.createPlaceholder(u),f=u.css(e),r=r||u["top"==e?"outerHeight":"outerWidth"]()/3,w&&((h={opacity:1})[e]=f,u.css("opacity",0).css(e,v?2*-r:2*r).animate(h,s,o)),l&&(r/=Math.pow(2,y-1)),(h={})[e]=f;p<y;p++)(c={})[e]=(v?"-=":"+=")+r,u.animate(c,s,o).animate(h,s,o),r=l?2*r:r/2;l&&((c={opacity:0})[e]=(v?"-=":"+=")+r,u.animate(c,s,o)),u.queue(i),n.effects.unshift(u,t,1+a)}),n.effects.define("clip","hide",function(t,i){var f={},e=n(this),r=t.direction||"vertical",u="both"===r,o=u||"horizontal"===r,u=u||"vertical"===r,r=e.cssClip();f.clip={top:u?(r.bottom-r.top)/2:r.top,right:o?(r.right-r.left)/2:r.right,bottom:u?(r.bottom-r.top)/2:r.bottom,left:o?(r.right-r.left)/2:r.left},n.effects.createPlaceholder(e),"show"===t.mode&&(e.cssClip(f.clip),f.clip=r),e.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:i})}),n.effects.define("drop","hide",function(t,i){var f=n(this),s="show"===t.mode,r=t.direction||"left",e="up"===r||"down"===r?"top":"left",o="up"===r||"left"===r?"-=":"+=",h="+="==o?"-=":"+=",u={opacity:0};n.effects.createPlaceholder(f),r=t.distance||f["top"==e?"outerHeight":"outerWidth"](!0)/2,u[e]=o+r,s&&(f.css(u),u[e]=h+r,u.opacity=1),f.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:i})}),n.effects.define("explode","hide",function(t,i){function b(){v.push(this),v.length===h*c&&(e.css({visibility:"visible"}),n(v).remove(),i())}for(var u,a,l,p,y,h=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=h,e=n(this),r="show"===t.mode,w=e.show().css("visibility","hidden").offset(),s=Math.ceil(e.outerWidth()/c),o=Math.ceil(e.outerHeight()/h),v=[],f=0;f<h;f++)for(l=w.top+f*o,y=f-(h-1)/2,u=0;u<c;u++)a=w.left+u*s,p=u-(c-1)/2,e.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-u*s,top:-f*o}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:s,height:o,left:a+(r?p*s:0),top:l+(r?y*o:0),opacity:r?0:1}).animate({left:a+(r?0:p*s),top:l+(r?0:y*o),opacity:r?1:0},t.duration||500,t.easing,b)}),n.effects.define("fade","toggle",function(t,i){var r="show"===t.mode;n(this).css("opacity",r?0:1).animate({opacity:r?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}),n.effects.define("fold","hide",function(t,i){var u=n(this),l=t.mode,y="show"===l,p="hide"===l,h=t.size||15,a=/([0-9]+)%/.exec(h),f=!t.horizFirst?["bottom","right"]:["right","bottom"],o=t.duration/2,s=n.effects.createPlaceholder(u),e=u.cssClip(),c={clip:n.extend({},e)},r={clip:n.extend({},e)},v=[e[f[0]],e[f[1]]],l=u.queue().length;a&&(h=parseInt(a[1],10)/100*v[p?0:1]),c.clip[f[0]]=h,r.clip[f[0]]=h,r.clip[f[1]]=0,y&&(u.cssClip(r.clip),s&&s.css(n.effects.clipToBox(r)),r.clip=e),u.queue(function(i){s&&s.animate(n.effects.clipToBox(c),o,t.easing).animate(n.effects.clipToBox(r),o,t.easing),i()}).animate(c,o,t.easing).animate(r,o,t.easing).queue(i),n.effects.unshift(u,l,4)}),n.effects.define("highlight","show",function(t,i){var r=n(this),u={backgroundColor:r.css("backgroundColor")};"hide"===t.mode&&(u.opacity=0),n.effects.saveStyle(r),r.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:i})}),n.effects.define("size",function(t,i){var r,f=n(this),y=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],a=t.mode,p="effect"!==a,c=t.scale||"both",s=t.origin||["middle","center"],w=f.css("position"),v=f.position(),o=n.effects.scaledDimensions(f),u=t.from||o,e=t.to||n.effects.scaledDimensions(f,0);n.effects.createPlaceholder(f),"show"===a&&(a=u,u=e,e=a),r={from:{y:u.height/o.height,x:u.width/o.width},to:{y:e.height/o.height,x:e.width/o.width}},"box"!==c&&"both"!==c||(r.from.y!==r.to.y&&(u=n.effects.setTransition(f,l,r.from.y,u),e=n.effects.setTransition(f,l,r.to.y,e)),r.from.x!==r.to.x&&(u=n.effects.setTransition(f,h,r.from.x,u),e=n.effects.setTransition(f,h,r.to.x,e))),"content"!==c&&"both"!==c||r.from.y!==r.to.y&&(u=n.effects.setTransition(f,y,r.from.y,u),e=n.effects.setTransition(f,y,r.to.y,e)),s&&(s=n.effects.getBaseline(s,o),u.top=(o.outerHeight-u.outerHeight)*s.y+v.top,u.left=(o.outerWidth-u.outerWidth)*s.x+v.left,e.top=(o.outerHeight-e.outerHeight)*s.y+v.top,e.left=(o.outerWidth-e.outerWidth)*s.x+v.left),delete u.outerHeight,delete u.outerWidth,f.css(u),"content"!==c&&"both"!==c||(l=l.concat(["marginTop","marginBottom"]).concat(y),h=h.concat(["marginLeft","marginRight"]),f.find("*[width]").each(function(){var u=n(this),i=n.effects.scaledDimensions(u),f={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},i={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};r.from.y!==r.to.y&&(f=n.effects.setTransition(u,l,r.from.y,f),i=n.effects.setTransition(u,l,r.to.y,i)),r.from.x!==r.to.x&&(f=n.effects.setTransition(u,h,r.from.x,f),i=n.effects.setTransition(u,h,r.to.x,i)),p&&n.effects.saveStyle(u),u.css(f),u.animate(i,t.duration,t.easing,function(){p&&n.effects.restoreStyle(u)})})),f.animate(e,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){var t=f.offset();0===e.opacity&&f.css("opacity",u.opacity),p||(f.css("position","static"===w?"relative":w).offset(t),n.effects.saveStyle(f)),i()}})}),n.effects.define("scale",function(t,i){var u=n(this),r=t.mode,r=parseInt(t.percent,10)||(0===parseInt(t.percent,10)||"effect"!==r?0:100),r=n.extend(!0,{from:n.effects.scaledDimensions(u),to:n.effects.scaledDimensions(u,r,t.direction||"both"),origin:t.origin||["middle","center"]},t);t.fade&&(r.from.opacity=1,r.to.opacity=0),n.effects.effect.size.call(this,r,i)}),n.effects.define("puff","hide",function(t,i){t=n.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150}),n.effects.effect.scale.call(this,t,i)}),n.effects.define("pulsate","show",function(t,i){var r=n(this),f=t.mode,s="show"===f,e=2*(t.times||5)+(s||"hide"===f?1:0),h=t.duration/e,u=0,o=1,f=r.queue().length;for(!s&&r.is(":visible")||(r.css("opacity",0).show(),u=1);o<e;o++)r.animate({opacity:u},h,t.easing),u=1-u;r.animate({opacity:u},h,t.easing),r.queue(i),n.effects.unshift(r,f,1+e)}),n.effects.define("shake",function(t,i){var a=1,r=n(this),f=t.direction||"left",h=t.distance||20,v=t.times||3,y=2*v+1,u=Math.round(t.duration/y),o="up"===f||"down"===f?"top":"left",e="up"===f||"left"===f,s={},c={},l={},f=r.queue().length;for(n.effects.createPlaceholder(r),s[o]=(e?"-=":"+=")+h,c[o]=(e?"+=":"-=")+2*h,l[o]=(e?"-=":"+=")+2*h,r.animate(s,u,t.easing);a<v;a++)r.animate(c,u,t.easing).animate(l,u,t.easing);r.animate(c,u,t.easing).animate(s,u/2,t.easing).queue(i),n.effects.unshift(r,f,1+y)}),n.effects.define("slide","show",function(t,i){var s,o,u=n(this),h={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},c=t.mode,e=t.direction||"left",f="up"===e||"down"===e?"top":"left",a="up"===e||"left"===e,l=t.distance||u["top"==f?"outerHeight":"outerWidth"](!0),r={};n.effects.createPlaceholder(u),s=u.cssClip(),o=u.position()[f],r[f]=(a?-1:1)*l+o,r.clip=u.cssClip(),r.clip[h[e][1]]=r.clip[h[e][0]],"show"===c&&(u.cssClip(r.clip),u.css(f,r[f]),r.clip=s,r[f]=o),u.animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:i})}),!1!==n.uiBackCompat&&n.effects.define("transfer",function(t,i){n(this).transfer(t,i)})});!function(n,t){t("kendo.core.min",["jquery"],n)}(function(){return function(n,t,i){function ut(){}function br(n,t){if(t)return"'"+n.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var r=n.charAt(0),i=n.substring(1);return"="===r?"+("+i+")+":":"===r?"+$kendoHtmlEncode("+i+")+":";"+n+";$kendoOutput+="}function f(n,t,i){return n+="",t=t||2,i=t-n.length,i?sr[t].substring(0,i)+n:n}function kr(n){var u=n.css(r.support.transitions.css+"box-shadow")||n.css("box-shadow"),t=u?u.match(pr)||[0,0,0,0,0]:[0,0,0,0,0],i=c.max(+t[3],+(t[4]||0));return{left:-t[1]+i,right:+t[1]+i,bottom:+t[2]+i}}function dr(i,f){var v,s,o,a,l,y,p=u.browser,h=r._outerWidth,b=r._outerHeight,e=i.parent(),w=h(t);return e.removeClass("k-animation-container-sm"),e.hasClass("k-animation-container")?vi(i,f):(s=i[0].style.width,o=i[0].style.height,a=tt.test(s),l=tt.test(o),y=i.hasClass("k-tooltip")||i.is(".k-menu-horizontal.k-context-menu"),v=a||l,!a&&(!f||f&&s||y)&&(s=f?h(i)+1:h(i)),(!l&&(!f||f&&o)||i.is(".k-menu-horizontal.k-context-menu"))&&(o=b(i)),i.wrap(n("<div/>").addClass("k-animation-container").css({width:s,height:o})),e=i.parent(),v&&i.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})),w<h(e)&&(e.addClass("k-animation-container-sm"),vi(i,f)),p.msie&&c.floor(p.version)<=7&&(i.css({zoom:1}),i.children(".k-menu").width(i.width())),e}function vi(n,t){var f,e=r._outerWidth,o=r._outerHeight,i=n.parent(".k-animation-container"),u=i[0].style;i.is(":hidden")&&i.css({display:"",position:""}),f=tt.test(u.width)||tt.test(u.height),f||i.css({width:t?e(n)+1:e(n),height:o(n),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}function st(n){for(var t=1,i=arguments.length,t=1;t<i;t++)nr(n,arguments[t]);return n}function nr(n,i){var e,u,s,f,o,l=r.data.ObservableArray,a=r.data.LazyObservableArray,h=r.data.DataSource,c=r.data.HierarchicalDataSource;for(e in i)u=i[e],s=typeof u,f=s===w&&null!==u?u.constructor:null,!f||f===Array||f===l||f===a||f===h||f===c||f===RegExp||r.isFunction(t.ArrayBuffer)&&f===ArrayBuffer?s!==nt&&(n[e]=u):u instanceof Date?n[e]=new Date(u.getTime()):d(u.clone)?n[e]=u.clone():(o=n[e],n[e]=typeof o===w?o||{}:{},nr(n[e],u));return n}function wt(n,t,r){for(var u in t)if(t.hasOwnProperty(u)&&t[u].test(n))return u;return r!==i?r:n}function gr(n){return n.replace(/([a-z][A-Z])/g,function(n){return n.charAt(0)+"-"+n.charAt(1).toLowerCase()})}function di(n){return n.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()})}function bi(t,i){var f,u={};return document.defaultView&&document.defaultView.getComputedStyle?(f=document.defaultView.getComputedStyle(t,""),i&&n.each(i,function(n,t){u[t]=f.getPropertyValue(t)})):(f=t.currentStyle,i&&n.each(i,function(n,t){u[t]=f[di(t)]})),r.size(u)||(u=f),u}function wr(n){if(n&&n.className&&"string"==typeof n.className&&n.className.indexOf("k-auto-scrollable")>-1)return!0;var t=bi(n,["overflow"]).overflow;return"auto"==t||"scroll"==t}function ar(t,r){var e,o=u.browser.webkit,s=u.browser.mozilla,f=t instanceof n?t[0]:t;if(t)return e=u.isRtl(t),r===i?e&&o?f.scrollWidth-f.clientWidth-f.scrollLeft:Math.abs(f.scrollLeft):(f.scrollLeft=e&&o?f.scrollWidth-f.clientWidth-r:e&&s?-r:r,i)}function yr(n){var t,i=0;for(t in n)n.hasOwnProperty(t)&&"toJSON"!=t&&i++;return i}function su(n,i,r){var f,e,o;return i||(i="offset"),f=n[i](),e={top:f.top,right:f.right,bottom:f.bottom,left:f.left},u.browser.msie&&(u.pointers||u.msPointers)&&!r&&(o=u.isRtl(n)?1:-1,e.top-=t.pageYOffset-document.documentElement.scrollTop,e.left-=t.pageXOffset+o*document.documentElement.scrollLeft),e}function ou(n){var t={};return ot("string"==typeof n?n.split(" "):n,function(n){t[n]=this}),t}function au(n){return new r.effects.Element(n)}function lu(n,t,i,r){return typeof n===e&&(d(t)&&(r=t,t=400,i=!1),d(i)&&(r=i,i=!1),typeof t===ci&&(i=t,t=400),n={effects:n,duration:t,reverse:i,complete:r}),h({effects:{},duration:400,reverse:!1,init:et,teardown:et,hide:!1},n,{completeCallback:n.complete,complete:et})}function ki(t,i,r,u,f){for(var o,e=0,s=t.length;e<s;e++)o=n(t[e]),o.queue(function(){v.promise(o,lu(i,r,u,f))});return t}function cu(n,t,i,r){return t&&(t=t.split(" "),ot(t,function(t,i){n.toggleClass(i,r)})),n}function iu(n){return(""+n).replace(rr,"&amp;").replace(ir,"&lt;").replace(fr,"&gt;").replace(or,"&quot;").replace(er,"&#39;")}function tu(n){var i;try{i=t.decodeURIComponent(n)}catch(r){i=n.replace(/%u([\dA-F]{4})|%([\dA-F]{2})/gi,function(n,t,i){return String.fromCharCode(parseInt("0x"+(t||i),16))})}return i}function pt(n,t){var u;return 0===t.indexOf("data")&&(t=t.substring(4),t=t.charAt(0).toLowerCase()+t.substring(1)),t=t.replace(hi,"-$1"),u=n.getAttribute("data-"+r.ns+t),null===u?u=i:"null"===u?u=null:"true"===u?u=!0:"false"===u?u=!1:vr.test(u)&&"mask"!=t?u=parseFloat(u):gt.test(u)&&!si.test(u)&&(u=Function("return ("+u+")")()),u}function gi(t,u,f){var o,e,s={},h=t.getAttribute("data-"+r.ns+"role");for(o in u)e=pt(t,o),e!==i&&(ni.test(o)&&"drawer"!=h&&("string"==typeof e?n("#"+e).length?e=r.template(n("#"+e).html()):f&&(e=r.template(f[e])):e=t.getAttribute(o)),s[o]=e);return s}function nu(t,i){return n.contains(t,i)?-1:1}function fu(){var t=n(this);return n.inArray(t.attr("data-"+r.ns+"role"),["slider","rangeslider","breadcrumb"])>-1||t.is(":visible")}function uu(n,t){var i=n.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(i)?!n.disabled:"a"===i?n.href||t:t)&&ru(n)}function ru(t){return n.expr.pseudos.visible(t)&&!n(t).parents().addBack().filter(function(){return"hidden"===n.css(this,"visibility")}).length}function s(n,t){return new s.fn.init(n,t)}var p,d,ai,yi,it,wi,pi,tr,cr,lr,hr,sr,ur,v,rr,ir,or,er,fr,at,li,ii,y,vt,ni,gt,si,hi,lt,ht,ct,oi,o,b,ei,yt,g,fi,ui,a,r=t.kendo=t.kendo||{cultures:{}},h=n.extend,ot=n.each,eu=n.isArray,bt=n.proxy,et=n.noop,c=Math,ft=t.JSON||{},u={},tt=/%/,hu=/\{(\d+)(:[^\}]+)?\}/g,pr=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,vr=/^(\+|-?)\d+(\.?)\d*$/,l="function",e="string",k="number",w="object",rt="null",ci="boolean",nt="undefined",dt={},ri={},kt=[].slice,ti=function(){var u,o,r,t,s,h,n=arguments[0]||{},f=1,c=arguments.length,e=!1;for("boolean"==typeof n&&(e=n,n=arguments[f]||{},f++),"object"==typeof n||jQuery.isFunction(n)||(n={}),f===c&&(n=this,f--);f<c;f++)if(null!=(s=arguments[f]))for(t in s)"filters"!=t&&"concat"!=t&&":"!=t&&(u=n[t],r=s[t],n!==r&&(e&&r&&(jQuery.isPlainObject(r)||(o=jQuery.isArray(r)))?(o?(o=!1,h=u&&jQuery.isArray(u)?u:[]):h=u&&jQuery.isPlainObject(u)?u:{},n[t]=ti(e,h,r)):r!==i&&(n[t]=r)));return n};r.version="2020.2.617".replace(/^\s+|\s+$/g,""),ut.extend=function(n){var t,r,f=function(){},u=this,i=n&&n.init?n.init:function(){u.apply(this,arguments)};f.prototype=u.prototype,r=i.fn=i.prototype=new f;for(t in n)r[t]=null!=n[t]&&n[t].constructor===Object?h(!0,{},f.prototype[t],n[t]):n[t];return r.constructor=i,i.extend=u.extend,i},ut.prototype._initOptions=function(n){this.options=st({},this.options,n)},d=r.isFunction=function(n){return"function"==typeof n},ai=function(){this._defaultPrevented=!0},yi=function(){return this._defaultPrevented===!0},it=ut.extend({init:function(){this._events={}},bind:function(n,t,r){var o,c,s,u,a,f=this,h=typeof n===e?[n]:n,v=typeof t===l;if(t===i){for(o in n)f.bind(o,n[o]);return f}for(o=0,c=h.length;o<c;o++)n=h[o],u=v?t:t[n],u&&(r&&(s=u,u=function(){f.unbind(n,u),s.apply(f,arguments)},u.original=s),a=f._events[n]=f._events[n]||[],a.push(u));return f},one:function(n,t){return this.bind(n,t,!0)},first:function(n,t){for(var u,s,r=this,f=typeof n===e?[n]:n,h=typeof t===l,i=0,o=f.length;i<o;i++)n=f[i],u=h?t:t[n],u&&(s=r._events[n]=r._events[n]||[],s.unshift(u));return r},trigger:function(n,t){var r,f,u=this,i=u._events[n];if(i){for(t=t||{},t.sender=u,t._defaultPrevented=!1,t.preventDefault=ai,t.isDefaultPrevented=yi,i=i.slice(),r=0,f=i.length;r<f;r++)i[r].call(u,t);return t._defaultPrevented===!0}return!1},unbind:function(n,t){var r,f=this,u=f._events[n];if(n===i)f._events={};else if(u)if(t)for(r=u.length-1;r>=0;r--)u[r]!==t&&u[r].original!==t||u.splice(r,1);else f._events[n]=[];return f}}),wi=/^\w+/,pi=/\$\{([^}]*)\}/g,tr=/\\\}/g,cr=/__CURLY__/g,lr=/\\#/g,hr=/__SHARP__/g,sr=["","0","00","000","0000"],p={paramName:"data",useWithBlock:!0,render:function(n,t){for(var r="",i=0,u=t.length;i<u;i++)r+=n(t[i]);return r},compile:function(n,t){var e,f,u,s=h({},this,t),c=s.paramName,l=c.match(wi)[0],o=s.useWithBlock,i="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;";if(d(n))return n;for(i+=o?"with("+c+"){":"",i+="$kendoOutput=",f=n.replace(tr,"__CURLY__").replace(pi,"#=$kendoHtmlEncode($1)#").replace(cr,"}").replace(lr,"__SHARP__").split("#"),u=0;u<f.length;u++)i+=br(f[u],u%2==0);i+=o?";}":";",i+="return $kendoOutput;",i=i.replace(hr,"#");try{return e=Function(l,i),e._slotCount=Math.floor(f.length/2),e}catch(a){throw Error(r.format("Invalid template:'{0}' Generated code:'{1}'",n,i));}}},function(){function o(n){return u.lastIndex=0,u.test(n)?'"'+n.replace(u,function(n){var t=h[n];return typeof t===e?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(u,f){var a,y,c,b,v,p,d=n,h=f[u];if(h&&typeof h===w&&typeof h.toJSON===l&&(h=h.toJSON(u)),typeof t===l&&(h=t.call(f,u,h)),p=typeof h,p===e)return o(h);if(p===k)return isFinite(h)?h+"":rt;if(p===ci||p===rt)return h+"";if(p===w){if(!h)return rt;if(n+=i,v=[],"[object Array]"===s.apply(h)){for(b=h.length,a=0;a<b;a++)v[a]=r(a,h)||rt;return c=0===v.length?"[]":n?"[\n"+n+v.join(",\n"+n)+"\n"+d+"]":"["+v.join(",")+"]",n=d,c}if(t&&typeof t===w)for(b=t.length,a=0;a<b;a++)typeof t[a]===e&&(y=t[a],c=r(y,h),c&&v.push(o(y)+(n?": ":":")+c));else for(y in h)Object.hasOwnProperty.call(h,y)&&(c=r(y,h),c&&v.push(o(y)+(n?": ":":")+c));return c=0===v.length?"{}":n?"{\n"+n+v.join(",\n"+n)+"\n"+d+"}":"{"+v.join(",")+"}",n=d,c}}var n,i,t,u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s={}.toString;typeof Date.prototype.toJSON!==l&&(Date.prototype.toJSON=function(){var n=this;return isFinite(n.valueOf())?f(n.getUTCFullYear(),4)+"-"+f(n.getUTCMonth()+1)+"-"+f(n.getUTCDate())+"T"+f(n.getUTCHours())+":"+f(n.getUTCMinutes())+":"+f(n.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof ft.stringify!==l&&(ft.stringify=function(u,f,o){var s;if(n="",i="",typeof o===k)for(s=0;s<o;s+=1)i+=" ";else typeof o===e&&(i=o);if(t=f,f&&typeof f!==l&&(typeof f!==w||typeof f.length!==k))throw Error("JSON.stringify");return r("",{"":u})})}(),function(){function l(n){if(n){if(n.numberFormat)return n;if(typeof n===e){var t=r.cultures;return t[n]||t[n.split("-")[0]]||null}return null}return null}function v(n){return n&&(n=l(n)),n||r.cultures.current}function tt(n,t,r){r=v(r);var u=r.calendars.standard,o=u.days,e=u.months;return t=u.patterns[t]||t,t.replace(g,function(t){var s,r,h;return"d"===t?r=n.getDate():"dd"===t?r=f(n.getDate()):"ddd"===t?r=o.namesAbbr[n.getDay()]:"dddd"===t?r=o.names[n.getDay()]:"M"===t?r=n.getMonth()+1:"MM"===t?r=f(n.getMonth()+1):"MMM"===t?r=e.namesAbbr[n.getMonth()]:"MMMM"===t?r=e.names[n.getMonth()]:"yy"===t?r=f(n.getFullYear()%100):"yyyy"===t?r=f(n.getFullYear(),4):"h"===t?r=n.getHours()%12||12:"hh"===t?r=f(n.getHours()%12||12):"H"===t?r=n.getHours():"HH"===t?r=f(n.getHours()):"m"===t?r=n.getMinutes():"mm"===t?r=f(n.getMinutes()):"s"===t?r=n.getSeconds():"ss"===t?r=f(n.getSeconds()):"f"===t?r=c.floor(n.getMilliseconds()/100):"ff"===t?(r=n.getMilliseconds(),r>99&&(r=c.floor(r/10)),r=f(r)):"fff"===t?r=f(n.getMilliseconds(),3):"tt"===t?r=n.getHours()<12?u.AM[0]:u.PM[0]:"zzz"===t?(s=n.getTimezoneOffset(),h=s<0,r=(""+c.abs(s/60)).split(".")[0],s=c.abs(s)-60*r,r=(h?"+":"-")+f(r),r+=":"+f(s)):"zz"!==t&&"z"!==t||(r=n.getTimezoneOffset()/60,h=r<0,r=(""+c.abs(r)).split(".")[0],r=(h?"+":"-")+("zz"===t?f(r):r)),r!==i?r:t.slice(1,t.length-1)})}function nt(n,r,f){var a,lt,ct,yt,wt,bt,et,ht,pt,ii,d,ot,p,kt,oi,dt,nt,e,tt,k,ni,ri,g,c,l,at,ti,fi,gt,ei,ft,st,ui,vt;if(f=v(f),a=f.numberFormat,lt=a[u],ct=a.decimals,yt=a.pattern[0],wt=[],d=n<0,dt=t,nt=t,ft=-1,n===i)return t;if(!isFinite(n))return n;if(!r)return f.name.length?n.toLocaleString():""+n;if(ii=ut.exec(r)){if(r=ii[1].toLowerCase(),et="c"===r,ht="p"===r,(et||ht)&&(a=et?a.currency:a.percent,lt=a[u],ct=a.decimals,bt=a.symbol,yt=a.pattern[d?0:1]),pt=ii[2],pt&&(ct=+pt),"e"===r)return ui=pt?n.toExponential(ct):n.toExponential(),ui.replace(u,a[u]);if(ht&&(n*=100),n=o(n,ct),d=n<0,n=n.split(u),ot=n[0],p=n[1],d&&(ot=ot.substring(1)),nt=y(ot,0,ot.length,a),p&&(nt+=lt+p),"n"===r&&!d)return nt;for(n=t,e=0,tt=yt.length;e<tt;e++)k=yt.charAt(e),n+="n"===k?nt:"$"===k||"%"===k?bt:k;return n}if((r.indexOf("'")>-1||r.indexOf('"')>-1||r.indexOf("\\")>-1)&&(r=r.replace(rt,function(n){var i=n.charAt(0).replace("\\",""),t=n.slice(1).replace(i,"");return wt.push(t),w})),r=r.split(";"),d&&r[1])r=r[1],ri=!0;else if(0===n&&r[2]){if(r=r[2],r.indexOf(h)==-1&&r.indexOf(s)==-1)return r}else r=r[0];if(fi=r.indexOf("%"),gt=r.indexOf("$"),ht=fi!=-1,et=gt!=-1,ht&&(n*=100),et&&"\\"===r[gt-1]&&(r=r.split("\\").join(""),et=!1),(et||ht)&&(a=et?a.currency:a.percent,lt=a[u],ct=a.decimals,bt=a.symbol),ni=r.indexOf(b)>-1,ni&&(r=r.replace(it,t)),g=r.indexOf(u),tt=r.length,g!=-1)if(p=(""+n).split("e"),p=p[1]?o(n,Math.abs(p[1])):p[0],p=p.split(u)[1]||t,l=r.lastIndexOf(s)-g,c=r.lastIndexOf(h)-g,at=l>-1,ti=c>-1,e=p.length,at||ti||(r=r.substring(0,g)+r.substring(g+1),tt=r.length,g=-1,e=0),at&&l>c)e=l;else if(c>l)if(ti&&e>c){for(vt=o(n,c,d);vt.charAt(vt.length-1)===s&&c>0&&c>l;)c--,vt=o(n,c,d);e=c}else at&&e<l&&(e=l);if(n=o(n,e,d),c=r.indexOf(h),ei=l=r.indexOf(s),ft=c==-1&&l!=-1?l:c!=-1&&l==-1?c:c>l?l:c,c=r.lastIndexOf(h),l=r.lastIndexOf(s),st=c==-1&&l!=-1?l:c!=-1&&l==-1?c:c>l?c:l,ft==tt&&(st=ft),ft!=-1){for(nt=(""+n).split(u),ot=nt[0],p=nt[1]||t,kt=ot.length,oi=p.length,d&&n*-1>=0&&(d=!1),n=r.substring(0,ft),d&&!ri&&(n+="-"),e=ft;e<tt;e++){if(k=r.charAt(e),g==-1){if(st-e<kt){n+=ot;break}}else if(l!=-1&&l<e&&(dt=t),g-e<=kt&&g-e>-1&&(n+=ot,e=g),g===e){n+=(p?lt:t)+p,e+=st-g+1;continue}k===s?(n+=k,dt=k):k===h&&(n+=dt)}if(ni&&(n=y(n,ft+(d&&!ri?1:0),Math.max(st,kt+ft),a)),st>=ft&&(n+=r.substring(st+1)),et||ht){for(nt=t,e=0,tt=n.length;e<tt;e++)k=n.charAt(e),nt+="$"===k||"%"===k?bt:k;n=nt}if(tt=wt.length)for(e=0;e<tt;e++)n=n.replace(w,wt[e])}return n}var y,o,a,g=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,ut=/^(n|c|p|e)(\d*)$/i,rt=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,it=/\,/g,t="",u=".",b=",",h="#",s="0",w="??",p="en-US",d={}.toString;r.cultures["en-US"]={name:p,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{name:"US Dollar",abbr:"USD",pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},r.culture=function(n){var t,u=r.cultures;return n===i?u.current:(t=l(n)||u[p],t.calendar=t.calendars.standard,u.current=t,i)},r.findCulture=l,r.getCulture=v,r.culture(p),y=function(n,t,r,f){var o,c,e,h,a,l,v=n.indexOf(f[u]),y=f.groupSize.slice(),s=y.shift();if(r=v!==-1?v:r+1,o=n.substring(t,r),c=o.length,c>=s){for(e=c,h=[];e>-1;)if(a=o.substring(e-s,e),a&&h.push(a),e-=s,l=y.shift(),s=l!==i?l:s,0===s){e>0&&h.push(o.substring(0,e));break}o=h.reverse().join(f[b]),n=n.substring(0,t)+o+n.substring(r)}return n},o=function(n,t,i){return t=t||0,n=(""+n).split("e"),n=Math.round(+(n[0]+"e"+(n[1]?+n[1]+t:t))),i&&(n=-n),n=(""+n).split("e"),n=+(n[0]+"e"+(n[1]?+n[1]-t:-t)),n.toFixed(Math.min(t,20))},a=function(n,t,r){if(t){if("[object Date]"===d.call(n))return tt(n,t,r);if(typeof n===k)return nt(n,t,r)}return n!==i?n:""},r.format=function(n){var t=arguments;return n.replace(hu,function(n,i,r){var u=t[parseInt(i,10)+1];return a(u,r?r.substring(1):"")})},r._extractFormat=function(n){return"{0:"===n.slice(0,3)&&(n=n.slice(3,n.length-1)),n},r._activeElement=function(){try{return document.activeElement}catch(n){return document.documentElement.activeElement}},r._round=o,r._outerWidth=function(t,i){return n(t).outerWidth(i||!1)||0},r._outerHeight=function(t,i){return n(t).outerHeight(i||!1)||0},r.toString=a}(),function(){function t(n,t,i){return!(n>=t&&n<=i)}function p(n){return n.charAt(0)}function h(t){return n.map(t,p)}function y(n,t){t||23!==n.getHours()||n.setHours(n.getHours()+2)}function rt(n){for(var t=0,r=n.length,i=[];t<r;t++)i[t]=(n[t]+"").toLowerCase();return i}function l(n){var t,i={};for(t in n)i[t]=rt(n[t]);return i}function nt(n,u,f,e){if(!n)return null;var v,s,ti,dt,bt,kt,ft,ct,lt,k,d,gt,ni,it=function(n){for(var t=0;u[et]===n;)t++,et++;return t>0&&(et-=1),t},rt=function(t){var r=o[t]||RegExp("^\\d{1,"+t+"}"),i=n.substr(p,t).match(r);return i?(i=i[0],p+=i.length,parseInt(i,10)):null},yt=function(t,i){for(var o,e,f,r=0,h=t.length,u=0,s=0;r<h;r++)o=t[r],e=o.length,f=n.substr(p,e),i&&(f=f.toLowerCase()),f==o&&e>u&&(u=e,s=r);return u?(p+=u,s+1):null},vt=function(){var t=!1;return n.charAt(p)===u[et]&&(p++,t=!0),t},w=f.calendars.standard,a=null,ut=null,g=null,c=null,ot=null,st=null,nt=null,et=0,p=0,pt=!1,wt=new Date,at=w.twoDigitYearMax||2029,ht=wt.getFullYear();for(u||(u="d"),dt=w.patterns[u],dt&&(u=dt),u=u.split(""),ti=u.length;et<ti;et++)if(v=u[et],pt)"'"===v?pt=!1:vt();else if("d"===v){if(s=it("d"),w._lowerDays||(w._lowerDays=l(w.days)),null!==g&&s>2)continue;if(g=s<3?rt(2):yt(w._lowerDays[3==s?"namesAbbr":"names"],!0),null===g||t(g,1,31))return null}else if("M"===v){if(s=it("M"),w._lowerMonths||(w._lowerMonths=l(w.months)),ut=s<3?rt(2):yt(w._lowerMonths[3==s?"namesAbbr":"names"],!0),null===ut||t(ut,1,12))return null;ut-=1}else if("y"===v){if(s=it("y"),a=rt(s),null===a)return null;2==s&&("string"==typeof at&&(at=ht+parseInt(at,10)),a=ht-ht%100+a,a>at&&(a-=100))}else if("h"===v){if(it("h"),c=rt(2),12==c&&(c=0),null===c||t(c,0,11))return null}else if("H"===v){if(it("H"),c=rt(2),null===c||t(c,0,23))return null}else if("m"===v){if(it("m"),ot=rt(2),null===ot||t(ot,0,59))return null}else if("s"===v){if(it("s"),st=rt(2),null===st||t(st,0,59))return null}else if("f"===v){if(s=it("f"),ni=n.substr(p,s).match(o[3]),nt=rt(s),null!==nt&&(nt=parseFloat("0."+ni[0],10),nt=r._round(nt,3),nt*=1e3),null===nt||t(nt,0,999))return null}else if("t"===v){if(s=it("t"),ct=w.AM,lt=w.PM,1===s&&(ct=h(ct),lt=h(lt)),bt=yt(lt),!bt&&!yt(ct))return null}else if("z"===v){if(kt=!0,s=it("z"),"Z"===n.substr(p,1)){vt();continue}if((ft=n.substr(p,6).match(s>2?b:tt),!ft)||(ft=ft[0].split(":"),k=ft[0],d=ft[1],!d&&k.length>3&&(p=k.length-2,d=k.substring(p),k=k.substring(0,p)),k=parseInt(k,10),t(k,-12,13))||s>2&&(d=ft[0][0]+d,d=parseInt(d,10),isNaN(d)||t(d,-59,59)))return null}else if("'"===v)pt=!0,vt();else if(!vt())return null;return e&&!/^\s*$/.test(n.substr(p))?null:(gt=null!==c||null!==ot||st||null,null===a&&null===ut&&null===g&&gt?(a=ht,ut=wt.getMonth(),g=wt.getDate()):(null===a&&(a=ht),null===g&&(g=1)),bt&&c<12&&(c+=12),kt?(k&&(c+=-k),d&&(ot+=-d),n=new Date(Date.UTC(a,ut,g,c,ot,st,nt))):(n=new Date(a,ut,g,c,ot,st,nt),y(n,c)),a<100&&n.setFullYear(a),n.getDate()!==g&&kt===i?null:n)}function g(n){var t="-"===n.substr(0,1)?-1:1;return n=n.substring(1),n=60*parseInt(n.substr(0,2),10)+parseInt(n.substring(2),10),t*n}function d(n){for(var u,r,f=c.max(e.length,s.length),h=n.calendar||n.calendars.standard,o=h.patterns,i=[],t=0;t<f;t++){for(u=e[t],r=0;r<u.length;r++)i.push(o[u[r]]);i=i.concat(s[t])}return i}function f(n,t,i,u){var o,f,s,e;if("[object Date]"===w.call(n))return n;if(o=0,f=null,n&&0===n.indexOf("/D")&&(f=v.exec(n)))return f=f[1],e=a.exec(f.substring(1)),f=new Date(parseInt(f,10)),e&&(e=g(e[0]),f=r.timezone.apply(f,0),f=r.timezone.convert(f,0,-1*e)),f;for(i=r.getCulture(i),t||(t=d(i)),t=eu(t)?t:[t],s=t.length;o<s;o++)if(f=nt(n,t[o],i,u))return f;return f}var u=/\u00A0/g,it=/[eE][\-+]?[0-9]+/,tt=/[+|\-]\d{1,2}/,b=/[+|\-]\d{1,2}:?\d{2}/,v=/^\/Date\((.*?)\)\/$/,a=/[+-]\d*/,e=[[],["G","g","F"],["D","d","y","m","T","t"]],s=[["yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:ss.fff","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-dd HH:mm:ss","yyyy/MM/dd HH:mm:ss"],["yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm","yyyy/MM/dd HH:mm"],["yyyy/MM/dd","yyyy-MM-dd","HH:mm:ss","HH:mm"]],o={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},w={}.toString;r.parseDate=function(n,t,i){return f(n,t,i,!1)},r.parseExactDate=function(n,t,i){return f(n,t,i,!0)},r.parseInt=function(n,t){var i=r.parseFloat(n,t);return i&&(i=0|i),i},r.parseFloat=function(n,t,i){if(!n&&0!==n)return null;if(typeof n===k)return n;n=""+n,t=r.getCulture(t);var e,h,f=t.numberFormat,l=f.percent,a=f.currency,s=a.symbol,c=l.symbol,o=n.indexOf("-");return it.test(n)?(n=parseFloat(n.replace(f["."],".")),isNaN(n)&&(n=null),n):o>0?null:(o=o>-1,n.indexOf(s)>-1||i&&i.toLowerCase().indexOf("c")>-1?(f=a,e=f.pattern[0].replace("$",s).split("n"),n.indexOf(e[0])>-1&&n.indexOf(e[1])>-1&&(n=n.replace(e[0],"").replace(e[1],""),o=!0)):n.indexOf(c)>-1&&(h=!0,f=l,s=c),n=n.replace("-","").replace(s,"").replace(u," ").split(f[","].replace(u," ")).join("").replace(f["."],"."),n=parseFloat(n),isNaN(n)?n=null:o&&(n*=-1),n&&h&&(n/=100),n)}}(),function(){var c,s,h,l,o,r,f,v,a,w,p,y;u._scrollbar=i,u.scrollbar=function(n){if(isNaN(u._scrollbar)||n){var i,t=document.createElement("div");return t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",t.innerHTML="&nbsp;",document.body.appendChild(t),u._scrollbar=i=t.offsetWidth-t.scrollWidth,document.body.removeChild(t),i}return u._scrollbar},u.isRtl=function(t){return n(t).closest(".k-rtl").length>0},c=document.createElement("table");try{c.innerHTML="<tr><td></td></tr>",u.tbodyInnerHtml=!0}catch(b){u.tbodyInnerHtml=!1}u.touch="ontouchstart"in t,s=document.documentElement.style,h=u.transitions=!1,l=u.transforms=!1,o="HTMLElement"in t?HTMLElement.prototype:[],u.hasHW3D="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix||"MozPerspective"in s||"msPerspective"in s,u.cssFlexbox="flexWrap"in s||"WebkitFlexWrap"in s||"msFlexWrap"in s,ot(["Moz","webkit","O","ms"],function(){var n,t=""+this,i=typeof c.style[t+"Transition"]===e;if(i||typeof c.style[t+"Transform"]===e)return n=t.toLowerCase(),l={css:"ms"!=n?"-"+n+"-":"",prefix:t,event:"o"===n||"webkit"===n?n:""},i&&(h=l,h.event=h.event?h.event+"TransitionEnd":"transitionend"),!1}),c=null,u.transforms=l,u.transitions=h,u.devicePixelRatio=t.devicePixelRatio===i?1:t.devicePixelRatio;try{u.screenWidth=t.outerWidth||t.screen?t.screen.availWidth:t.innerWidth,u.screenHeight=t.outerHeight||t.screen?t.screen.availHeight:t.innerHeight}catch(b){u.screenWidth=t.screen.availWidth,u.screenHeight=t.screen.availHeight}u.detectOS=function(n){var f,r,i=!1,o=[],c=!/mobile safari/i.test(n),e={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},l={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},s={tablet:/playbook|ipad|fire/i},h={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(r in e)if(e.hasOwnProperty(r)&&(o=n.match(e[r]))){if("windows"==r&&"plugins"in navigator)return!1;i={},i.device=r,i.tablet=wt(r,s,!1),i.browser=wt(n,h,"default"),i.name=wt(r,l),i[i.name]=!0,i.majorVersion=o[2],i.minorVersion=(o[3]||"0").replace("_","."),f=i.minorVersion.replace(".","").substr(0,2),i.flatVersion=i.majorVersion+f+Array(3-(f.length<3?f.length:2)).join("0"),i.cordova=typeof t.PhoneGap!==nt||typeof t.cordova!==nt,i.appMode=t.navigator.standalone||/file|local|wmapp/.test(t.location.protocol)||i.cordova,i.android&&(u.devicePixelRatio<1.5&&i.flatVersion<400||c)&&(u.screenWidth>800||u.screenHeight>800)&&(i.tablet=r);break}return i},r=u.mobileOS=u.detectOS(navigator.userAgent),u.wpDevicePixelRatio=r.wp?screen.width/320:0,u.hasNativeScrolling=!1,(r.ios||r.android&&r.majorVersion>2||r.wp)&&(u.hasNativeScrolling=r),u.delayedClick=function(){if(u.touch){if(r.ios)return!0;if(r.android)return!u.browser.chrome||!(u.browser.version<32)&&!(n("meta[name=viewport]").attr("content")||"").match(/user-scalable=no/i)}return!1},u.mouseAndTouchPresent=u.touch&&!(u.mobileOS.ios||u.mobileOS.android),u.detectBrowser=function(n){var i,t=!1,u=[],r={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(i in r)if(r.hasOwnProperty(i)&&(u=n.match(r[i]))){t={},t[i]=!0,t[u[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||u[2],10);break}return t},u.browser=u.detectBrowser(navigator.userAgent),u.detectClipboardAccess=function(){var n={copy:!!document.queryCommandSupported&&document.queryCommandSupported("copy"),cut:!!document.queryCommandSupported&&document.queryCommandSupported("cut"),paste:!!document.queryCommandSupported&&document.queryCommandSupported("paste")};return u.browser.chrome&&(n.paste=!1,u.browser.version>=43&&(n.copy=!0,n.cut=!0)),n},u.clipboard=u.detectClipboardAccess(),u.zoomLevel=function(){var n,r,i;try{return n=u.browser,r=0,i=document.documentElement,n.msie&&11==n.version&&i.scrollHeight>i.clientHeight&&!u.touch&&(r=u.scrollbar()),u.touch?i.clientWidth/t.innerWidth:n.msie&&n.version>=10?((top||t).document.documentElement.offsetWidth+r)/(top||t).innerWidth:1}catch(f){return 1}},u.cssBorderSpacing=i!==s.borderSpacing&&!(u.browser.msie&&u.browser.version<8),function(t){var i="",f=n(document.documentElement),r=parseInt(t.version,10);t.msie?i="ie":t.mozilla?i="ff":t.safari?i="safari":t.webkit?i="webkit":t.opera?i="opera":t.edge&&(i="edge"),i&&(i="k-"+i+" k-"+i+r),u.mobileOS&&(i+=" k-mobile"),u.cssFlexbox||(i+=" k-no-flexbox"),f.addClass(i)}(u.browser),u.eventCapture=document.documentElement.addEventListener,f=document.createElement("input"),u.placeholder="placeholder"in f,u.propertyChangeEvent="onpropertychange"in f,u.input=function(){for(var t,u=["number","date","time","month","week","datetime","datetime-local"],e=u.length,r="test",i={},n=0;n<e;n++)t=u[n],f.setAttribute("type",t),f.value=r,i[t.replace("-","")]="text"!==f.type&&f.value!==r;return i}(),f.style.cssText="float:left;",u.cssFloat=!!f.style.cssFloat,f=null,u.stableSort=function(){for(var i=513,t=[{index:0,field:"b"}],n=1;n<i;n++)t.push({index:n,field:"a"});return t.sort(function(n,t){return n.field>t.field?1:n.field<t.field?-1:0}),1===t[0].index}(),u.matchesSelector=o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.matchesSelector||o.matches||function(t){for(var r=document.querySelectorAll?(this.parentNode||document).querySelectorAll(t)||[]:n(t),i=r.length;i--;)if(r[i]==this)return!0;return!1},u.matchMedia="matchMedia"in t,u.pushState=t.history&&t.history.pushState,v=document.documentMode,u.hashChange="onhashchange"in t&&!(u.browser.msie&&(!v||v<=8)),u.customElements="registerElement"in t.document,a=u.browser.chrome,w=u.browser.crios,p=u.browser.mozilla,y=u.browser.safari,u.msPointers=!a&&t.MSPointerEvent,u.pointers=!a&&!w&&!p&&!y&&t.PointerEvent,u.kineticScrollNeeded=r&&(u.touch||u.msPointers||u.pointers)}(),ur={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},v={},n.extend(v,{enabled:!0,Element:function(t){this.element=n(t)},promise:function(n,t){n.is(":visible")||n.css({display:n.data("olddisplay")||"block"}).css("display"),t.hide&&n.data("olddisplay",n.css("display")).hide(),t.init&&t.init(),t.completeCallback&&t.completeCallback(n),n.dequeue()},disable:function(){this.enabled=!1,this.promise=this.promiseShim},enable:function(){this.enabled=!0,this.promise=this.animatedPromise}}),v.promiseShim=v.promise,"kendoAnimate"in n.fn||h(n.fn,{kendoStop:function(n,t){return this.stop(n,t)},kendoAnimate:function(n,t,i,r){return ki(this,n,t,i,r)},kendoAddClass:function(n,t){return r.toggleClass(this,n,t,!0)},kendoRemoveClass:function(n,t){return r.toggleClass(this,n,t,!1)},kendoToggleClass:function(n,t,i){return r.toggleClass(this,n,t,i)}}),rr=/&/g,ir=/</g,or=/"/g,er=/'/g,fr=/>/g,at=function(n){return n.target},u.touch&&(at=function(n){var t="originalEvent"in n?n.originalEvent.changedTouches:"changedTouches"in n?n.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):n.target},ot(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(t,i){n.fn[i]=function(n){return this.bind(i,n)}})),u.touch?u.mobileOS?(u.mousedown="touchstart",u.mouseup="touchend",u.mousemove="touchmove",u.mousecancel="touchcancel",u.click="touchend",u.resize="orientationchange"):(u.mousedown="mousedown touchstart",u.mouseup="mouseup touchend",u.mousemove="mousemove touchmove",u.mousecancel="mouseleave touchcancel",u.click="click",u.resize="resize"):u.pointers?(u.mousemove="pointermove",u.mousedown="pointerdown",u.mouseup="pointerup",u.mousecancel="pointercancel",u.click="pointerup",u.resize="orientationchange resize"):u.msPointers?(u.mousemove="MSPointerMove",u.mousedown="MSPointerDown",u.mouseup="MSPointerUp",u.mousecancel="MSPointerCancel",u.click="MSPointerUp",u.resize="orientationchange resize"):(u.mousemove="mousemove",u.mousedown="mousedown",u.mouseup="mouseup",u.mousecancel="mouseleave",u.click="click",u.resize="resize"),li=function(n,t){for(var u,i,o=t||"d",f=1,r=0,e=n.length;r<e;r++)i=n[r],""!==i&&(u=i.indexOf("["),0!==u&&(u==-1?i="."+i:(f++,i="."+i.substring(0,u)+" || {})"+i.substring(u))),f++,o+=i+(r<e-1?" || {})":")"));return Array(f).join("(")+o},ii=/^([a-z]+:)?\/\//i,h(r,{widgets:[],_widgetRegisteredCallbacks:[],ui:r.ui||{},fx:r.fx||au,effects:r.effects||v,mobile:r.mobile||{},data:r.data||{},dataviz:r.dataviz||{},drawing:r.drawing||{},spreadsheet:{messages:{}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:r.support||u,animate:r.animate||ki,ns:"",attr:function(n){return"data-"+r.ns+n},getShadows:kr,wrap:dr,deepExtend:st,getComputedStyles:bi,isScrollable:wr,scrollLeft:ar,size:yr,toCamelCase:di,toHyphens:gr,getOffset:r.getOffset||su,parseEffects:r.parseEffects||ou,toggleClass:r.toggleClass||cu,directions:r.directions||ur,Observable:it,Class:ut,Template:p,template:bt(p.compile,p),render:bt(p.render,p),stringify:bt(ft.stringify,ft),eventTarget:at,htmlEncode:iu,unescape:tu,isLocalUrl:function(n){return n&&!ii.test(n)},expr:function(n,t,i){return n=n||"",typeof t==e&&(i=t,t=!1),i=i||"d",n&&"["!==n.charAt(0)&&(n="."+n),t?(n=n.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"'),n=n.replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'"),n=li(n.split("."),i),n=n.replace(/_\$DOT\$_/g,".")):n=i+n,n},getter:function(n,t){var i=n+t;return dt[i]=dt[i]||Function("d","return "+r.expr(n,t))},setter:function(n){return ri[n]=ri[n]||Function("d,value",r.expr(n)+"=value")},accessor:function(n){return{get:r.getter(n),set:r.setter(n)}},guid:function(){for(var i,t="",n=0;n<32;n++)i=16*c.random()|0,8!=n&&12!=n&&16!=n&&20!=n||(t+="-"),t+=(12==n?4:16==n?3&i|8:i).toString(16);return t},roleSelector:function(n){return n.replace(/(\S+)/g,"["+r.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(n){var i,t=n.split(" ");if(t)for(i=0;i<t.length;i++)"view"!=t[i]&&(t[i]=t[i].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2"));return t.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(n){return/^(label|input|textarea|select)$/i.test(n.target.tagName)},onWidgetRegistered:function(n){for(var t=0,i=r.widgets.length;t<i;t++)n(r.widgets[t]);r._widgetRegisteredCallbacks.push(n)},logToConsole:function(n,u){var f=t.console;!r.suppressLog&&i!==f&&f.log&&f[u||"log"](n)}}),y=it.extend({init:function(n,t){var u,f,i=this;i.element=r.jQuery(n).handler(i),i.angular("init",t),it.fn.init.call(i),u=t?t.dataSource:null,t&&(f=(i.componentTypes||{})[(t||{}).componentType]),u&&(t=h({},t,{dataSource:{}})),t=i.options=h(!0,{},i.options,i.defaults,f||{},t),u&&(t.dataSource=u),i.element.attr(r.attr("role"))||i.element.attr(r.attr("role"),(t.name||"").toLowerCase()),i.element.data("kendo"+t.prefix+t.name,i),i.bind(i.events,t)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(n){n=n||this.wrapper;var r=this.element,t="tabindex",i=n.attr(t)||r.attr(t);r.removeAttr(t),n.attr(t,isNaN(i)?0:i)},setOptions:function(t){this._setEvents(t),n.extend(this.options,t)},_setEvents:function(n){for(var i,t=this,r=0,u=t.events.length;r<u;r++)i=t.events[r],t.options[i]&&n[i]&&(t.unbind(i,t.options[i]),t._events&&t._events[i]&&delete t._events[i]);t.bind(t.events,n)},resize:function(n){var t=this.getSize(),i=this._size;(n||(t.width>0||t.height>0)&&(!i||t.width!==i.width||t.height!==i.height))&&(this._size=t,this._resize(t,n),this.trigger("resize",t))},getSize:function(){return r.dimensions(this.element)},size:function(n){return n?(this.setSize(n),i):this.getSize()},setSize:n.noop,_resize:n.noop,destroy:function(){var n=this;n.element.removeData("kendo"+n.options.prefix+n.options.name),n.element.removeData("handler"),n.unbind()},_destroy:function(){this.destroy()},angular:function(){},_muteAngularRebind:function(n){this._muteRebind=!0,n.call(this),this._muteRebind=!1}}),vt=y.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(t){var i=this;i.angular(t,function(){return{elements:i.items(),data:n.map(i.dataItems(),function(n){return{dataItem:n}})}})}}),r.dimensions=function(n,t){var i=n[0];return t&&n.css(t),{width:i.offsetWidth,height:i.offsetHeight}},r.notify=et,ni=/template$/i,gt=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,si=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]+\]$/,hi=/([A-Z])/g,r.initWidget=function(u,f,o){var a,b,s,y,d,l,k,c,w,g,v,p,h;if(o?o.roles&&(o=o.roles):o=r.ui.roles,u=u.nodeType?u:u[0],l=u.getAttribute("data-"+r.ns+"role")){w=l.indexOf(".")===-1,s=w?o[l]:r.getter(l)(t),v=n(u).data(),p=s?"kendo"+s.fn.options.prefix+s.fn.options.name:"",g=w?RegExp("^kendo.*"+l+"$","i"):RegExp("^"+p+"$","i");for(h in v)if(h.match(g)){if(h!==p)return v[h];a=v[h]}if(s){for(c=pt(u,"dataSource"),f=n.extend({},gi(u,n.extend({},s.fn.options,s.fn.defaults)),f),c&&(f.dataSource=typeof c===e?r.getter(c)(t):c),y=0,d=s.fn.events.length;y<d;y++)b=s.fn.events[y],k=pt(u,b),k!==i&&(f[b]=r.getter(k)(t));return a?n.isEmptyObject(f)||a.setOptions(f):a=new s(u,f),a}}},r.rolesFromNamespaces=function(n){var t,u,i=[];for(n[0]||(n=[r.ui,r.dataviz.ui]),t=0,u=n.length;t<u;t++)i[t]=n[t].roles;return h.apply(null,[{}].concat(i.reverse()))},r.init=function(t){var i=r.rolesFromNamespaces(kt.call(arguments,1));n(t).find("[data-"+r.ns+"role]").addBack().each(function(){r.initWidget(this,{},i)})},r.destroy=function(t){n(t).find("[data-"+r.ns+"role]").addBack().each(function(){var t,i=n(this).data();for(t in i)0===t.indexOf("kendo")&&typeof i[t].destroy===l&&i[t].destroy()})},r.resize=function(t,i){var u,f=n(t).find("[data-"+r.ns+"role]").addBack().filter(fu);f.length&&(u=n.makeArray(f),u.sort(nu),n.each(u,function(){var t=r.widgetInstance(n(this));t&&t.resize(i)}))},r.parseOptions=gi,h(r.ui,{Widget:y,DataBoundWidget:vt,roles:{},progress:function(t,i,u){var o,c,l,e,h,f=t.find(".k-loading-mask"),s=r.support,a=s.browser;u=n.extend({},{width:"100%",height:"100%",top:t.scrollTop(),opacity:!1},u),h=u.opacity?"k-loading-mask k-opaque":"k-loading-mask",i?f.length||(o=s.isRtl(t),c=o?"right":"left",e=t.scrollLeft(),l=a.webkit&&o?t[0].scrollWidth-t.width()-2*e:0,f=n(r.format("<div class='{0}'><span class='k-loading-text'>{1}</span><div class='k-loading-image'></div><div class='k-loading-color'></div></div>",h,r.ui.progress.messages.loading)).width(u.width).height(u.height).css("top",u.top).css(c,Math.abs(e)+l).prependTo(t)):f&&f.remove()},plugin:function(t,u,f){var c,h,s,a,o=t.fn.options.name;for(u=u||r.ui,f=f||"",u[o]=t,u.roles[o.toLowerCase()]=t,c="getKendo"+f+o,o="kendo"+f+o,h={name:o,widget:t,prefix:f||""},r.widgets.push(h),s=0,a=r._widgetRegisteredCallbacks.length;s<a;s++)r._widgetRegisteredCallbacks[s](h);n.fn[o]=function(u){var s,f=this;return typeof u===e?(s=kt.call(arguments,1),this.each(function(){var h,e,t=n.data(this,o);if(!t)throw Error(r.format("Cannot call method '{0}' of {1} before it is initialized",u,o));if(h=t[u],typeof h!==l)throw Error(r.format("Cannot find method '{0}' of {1}",u,o));if(e=h.apply(t,s),e!==i)return f=e,!1})):this.each(function(){return new t(this,u)}),f},n.fn[o].widget=t,n.fn[c]=function(){return this.data(o)}}}),r.ui.progress.messages={loading:"Loading..."},lt={bind:function(){return this},nullObject:!0,options:{}},ht=y.extend({init:function(n,t){y.fn.init.call(this,n,t),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){y.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var n=this.element.closest(r.roleSelector("view splitview modalview drawer"));return r.widgetInstance(n,r.mobile.ui)||lt},viewHasNativeScrolling:function(){var n=this.view();return n&&n.options.useNativeScrolling},container:function(){var n=this.element.closest(r.roleSelector("view layout modalview drawer splitview"));return r.widgetInstance(n.eq(0),r.mobile.ui)||lt}}),h(r.mobile,{init:function(n){r.init(n,r.mobile.ui,r.ui,r.dataviz.ui)},appLevelNativeScrolling:function(){return r.mobile.application&&r.mobile.application.options&&r.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:ht,DataBoundWidget:vt.extend(ht.prototype),roles:{},plugin:function(n){r.ui.plugin(n,r.mobile.ui,"Mobile")}}}),st(r.dataviz,{init:function(n){r.init(n,r.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(n){r.ui.plugin(n,r.dataviz.ui)}},roles:{}}),r.touchScroller=function(t,i){return i||(i={}),i.useNative=!0,n(t).map(function(t,f){return f=n(f),!(!u.kineticScrollNeeded||!r.mobile.ui.Scroller||f.data("kendoMobileScroller"))&&(f.kendoMobileScroller(i),f.data("kendoMobileScroller"))})[0]},r.preventDefault=function(n){n.preventDefault()},r.widgetInstance=function(n,i){var f,o,c,s,l,u=n.data(r.ns+"role"),e=[],h=n.data("kendoView");if(u){if("content"===u&&(u="scroller"),"editortoolbar"===u&&(c=n.data("kendoEditorToolbar")))return c;if("view"===u&&h)return h;if(i)if(i[0])for(f=0,o=i.length;f<o;f++)e.push(i[f].roles[u]);else e.push(i.roles[u]);else e=[r.ui.roles[u],r.dataviz.ui.roles[u],r.mobile.ui.roles[u]];for(u.indexOf(".")>=0&&(e=[r.getter(u)(t)]),f=0,o=e.length;f<o;f++)if(s=e[f],s&&(l=n.data("kendo"+s.fn.options.prefix+s.fn.options.name)))return l}},r.onResize=function(i){var r=i;return u.mobileOS.android&&(r=function(){setTimeout(i,600)}),n(t).on(u.resize,r),r},r.unbindResize=function(i){n(t).off(u.resize,i)},r.attrValue=function(n,t){return n.data(r.ns+t)},r.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},n.extend(n.expr.pseudos,{kendoFocusable:function(t){var i=n.attr(t,"tabindex");return uu(t,!isNaN(i)&&i>-1)}}),ct=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],oi="label, input, [data-rel=external]",o={setupMouseMute:function(){var i,t=0,f=ct.length,r=document.documentElement;if(!o.mouseTrap&&u.eventCapture)for(o.mouseTrap=!0,o.bustClick=!1,o.captureMouse=!1,i=function(t){o.captureMouse&&("click"===t.type?o.bustClick&&!n(t.target).is(oi)&&(t.preventDefault(),t.stopPropagation()):t.stopPropagation())};t<f;t++)r.addEventListener(ct[t],i,!0)},muteMouse:function(n){o.captureMouse=!0,n.data.bustClick&&(o.bustClick=!0),clearTimeout(o.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(o.mouseTrapTimeoutID),o.mouseTrapTimeoutID=setTimeout(function(){o.captureMouse=!1,o.bustClick=!1},400)}},b={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"},u.touch&&(u.mobileOS.ios||u.mobileOS.android)?b={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:u.pointers?b={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:u.msPointers&&(b={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!u.msPointers||"onmspointerenter"in t||n.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(t,i){n.event.special[t]={delegateType:i,bindType:i,handle:function(t){var f,e=this,r=t.relatedTarget,u=t.handleObj;return r&&(r===e||n.contains(e,r))||(t.type=u.origType,f=u.handler.apply(this,arguments),t.type=i),f}}}),ei=function(n){return b[n]||n},yt=/([^ ]+)/g,r.applyEventMap=function(n,t){return n=n.replace(yt,ei),t&&(n=n.replace(yt,"$1."+t)),n},r.keyDownHandler=function(n,t){var r,u,i=t._events.kendoKeydown;if(!i)return!0;for(i=i.slice(),n.sender=t,n.preventKendoKeydown=!1,r=0,u=i.length;r<u;r++)i[r].call(t,n);return!n.preventKendoKeydown},g=n.fn.on,ti(!0,s,n),s.fn=s.prototype=new n,s.fn.constructor=s,s.fn.init=function(t,i){return i&&i instanceof n&&!(i instanceof s)&&(i=s(i)),n.fn.init.call(this,t,i,fi)},s.fn.init.prototype=s.fn,fi=s(document),h(s.fn,{handler:function(n){return this.data("handler",n),this},autoApplyNS:function(n){return this.data("kendoNS",n||r.guid()),this},on:function(){var s,n,f,i,l,a,c,h,t=this,v=t.data("kendoNS");return 1===arguments.length?g.call(t,arguments[0]):(s=t,n=kt.call(arguments),typeof n[n.length-1]===nt&&n.pop(),f=n[n.length-1],i=r.applyEventMap(n[0],v),u.mouseAndTouchPresent&&i.search(/mouse|click/)>-1&&this[0]!==document.documentElement&&(o.setupMouseMute(),l=2===n.length?null:n[1],a=i.indexOf("click")>-1&&i.indexOf("touchend")>-1,g.call(this,{touchstart:o.muteMouse,touchend:o.unMuteMouse},l,{bustClick:a})),arguments[0].indexOf("keydown")!==-1&&n[1]&&n[1].options?(n[0]=i,c=n[1],h=n[n.length-1],n[n.length-1]=function(n){if(r.keyDownHandler(n,c))return h.apply(this,[n])},g.apply(t,n),t):(typeof f===e&&(s=t.data("handler"),f=s[f],n[n.length-1]=function(n){f.call(s,n)}),n[0]=i,g.apply(t,n),t))},kendoDestroy:function(n){return n=n||this.data("kendoNS"),n&&this.off("."+n),this}}),r.jQuery=s,r.eventMap=b,r.timezone=function(){function i(i,r){var u,o,s,c=r[3],e=r[4],f=r[5],h=r[8];return h||(r[8]=h={}),h[i]?h[i]:(isNaN(e)?0===e.indexOf("last")?(u=new Date(Date.UTC(i,n[c]+1,1,f[0]-24,f[1],f[2],0)),o=t[e.substr(4,3)],s=u.getUTCDay(),u.setUTCDate(u.getUTCDate()+o-s-(o>s?7:0))):e.indexOf(">=")>=0?(u=new Date(Date.UTC(i,n[c],e.substr(5),f[0],f[1],f[2],0)),o=t[e.substr(0,3)],s=u.getUTCDay(),u.setUTCDate(u.getUTCDate()+o-s+(o<s?7:0))):e.indexOf("<=")>=0&&(u=new Date(Date.UTC(i,n[c],e.substr(5),f[0],f[1],f[2],0)),o=t[e.substr(0,3)],s=u.getUTCDay(),u.setUTCDate(u.getUTCDate()+o-s-(o>s?7:0))):u=new Date(Date.UTC(i,n[c],e,f[0],f[1],f[2],0)),h[i]=u)}function h(n,t,r){var f,o,u,e;return(t=t[r])?(u=new Date(n).getUTCFullYear(),t=jQuery.grep(t,function(n){var i=n[0],t=n[1];return i<=u&&(t>=u||i==u&&"only"==t||"max"==t)}),t.push(n),t.sort(function(n,t){return"number"!=typeof n&&(n=+i(u,n)),"number"!=typeof t&&(t=+i(u,t)),n-t}),e=t[jQuery.inArray(n,t)-1]||t[t.length-1],isNaN(e)?e:null):(f=r.split(":"),o=0,f.length>1&&(o=60*f[0]+ +f[1]),[-1e6,"max","-","Jan",1,[0,0,0],o,"-"])}function c(n,t,i){var u,f,e,r=t[i];if("string"==typeof r&&(r=t[r]),!r)throw Error('Timezone "'+i+'" is either incorrect, or kendo.timezones.min.js is not included.');for(u=r.length-1;u>=0&&(f=r[u][3],!(f&&n>f));u--);if(e=r[u+1],!e)throw Error('Timezone "'+i+'" not found on '+n+".");return e}function u(n,t,i,r){typeof n!=k&&(n=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));var u=c(n,t,r);return{zone:u,rule:h(n,i,u[1])}}function l(n,t){var e,f,i;return"Etc/UTC"==t||"Etc/GMT"==t?0:(e=u(n,this.zones,this.rules,t),f=e.zone,i=e.rule,r.parseFloat(i?f[0]-i[6]:f[0]))}function s(n,t){var f=u(n,this.zones,this.rules,t),e=f.zone,i=f.rule,r=e[2];return r.indexOf("/")>=0?r.split("/")[i&&+i[6]?1:0]:r.indexOf("%s")>=0?r.replace("%s",i&&"-"!=i[7]?i[7]:""):r}function v(n,t,i){var u,o,f,r=i;return typeof t==e&&(t=this.offset(n,t)),typeof i==e&&(i=this.offset(n,i)),o=n.getTimezoneOffset(),n=new Date(n.getTime()+6e4*(t-i)),f=n.getTimezoneOffset(),typeof r==e&&(r=this.offset(n,r)),u=f-o+(i-r),new Date(n.getTime()+6e4*u)}function a(n,t){return this.convert(n,n.getTimezoneOffset(),t)}function o(n,t){return this.convert(n,t,n.getTimezoneOffset())}function f(n){return this.apply(new Date(n),"Etc/UTC")}var n={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},t={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:l,convert:v,apply:a,remove:o,abbr:s,toLocalDate:f}}(),r.date=function(){function u(n,t){return 0===t&&23===n.getHours()&&(n.setHours(n.getHours()+2),!0)}function c(n,t,i){var r=n.getHours();i=i||1,t=(t-n.getDay()+7*i)%7,n.setDate(n.getDate()+t),u(n,r)}function y(n,t,i){return n=new Date(n),c(n,t,i),n}function v(n){return new Date(n.getFullYear(),n.getMonth(),1)}function k(n){var t=new Date(n.getFullYear(),n.getMonth()+1,0),r=v(n),i=Math.abs(t.getTimezoneOffset()-r.getTimezoneOffset());return i&&t.setHours(r.getHours()+i/60),t}function p(t,i){return 1!==i?n(y(t,i,-1),4):n(t,4-(t.getDay()||7))}function o(n,i){var f=new Date(n.getFullYear(),0,1,-6),e=p(n,i),r=e.getTime()-f.getTime(),u=Math.floor(r/t);return 1+Math.floor(u/7)}function nt(t,u){var e,s,f;return u===i&&(u=r.culture().calendar.firstDay),e=n(t,-7),s=n(t,7),f=o(t,u),0===f?o(e,u)+1:53===f&&o(s,u)>1?1:f}function f(n){return n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0),u(n,0),n}function d(n){return Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}function e(n){return h(n).getTime()-f(h(n))}function b(n,i,r){var u,o=e(i),f=e(r);return!n||o==f||(i>=r&&(r+=t),u=e(n),o>u&&(u+=t),f<o&&(f+=t),u>=o&&u<=f)}function g(n,i,r){var f,e=i.getTime(),u=r.getTime();return e>=u&&(u+=t),f=n.getTime(),f>=e&&f<=u}function n(n,i){var r=n.getHours();return n=new Date(n),l(n,i*t),u(n,r),n}function l(n,t,i){var r,u=n.getTimezoneOffset();n.setTime(n.getTime()+t),i||(r=n.getTimezoneOffset()-u,n.setTime(n.getTime()+r*s))}function tt(n,t){return n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),u(n,t.getHours()),n}function a(){return f(new Date)}function w(n){return f(n).getTime()==a().getTime()}function h(n){var t=new Date(1980,1,1,0,0,0);return n&&t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}var s=6e4,t=864e5;return{adjustDST:u,dayOfWeek:y,setDayOfWeek:c,getDate:f,isInDateRange:g,isInTimeRange:b,isToday:w,nextDay:function(t){return n(t,1)},previousDay:function(t){return n(t,-1)},toUtcTime:d,MS_PER_DAY:t,MS_PER_HOUR:60*s,MS_PER_MINUTE:s,setTime:l,setHours:tt,addDays:n,today:a,toInvariantTime:h,firstDayOfMonth:v,lastDayOfMonth:k,weekInYear:nt,getMilliseconds:e}}(),r.stripWhitespace=function(n){var i,u,t;if(document.createNodeIterator)for(i=document.createNodeIterator(n,NodeFilter.SHOW_TEXT,function(t){return t.parentNode==n?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);i.nextNode();)i.referenceNode&&!i.referenceNode.textContent.trim()&&i.referenceNode.parentNode.removeChild(i.referenceNode);else for(u=0;u<n.childNodes.length;u++)t=n.childNodes[u],3!=t.nodeType||/\S/.test(t.nodeValue)||(n.removeChild(t),u--),1==t.nodeType&&r.stripWhitespace(t)},ui=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(n){setTimeout(n,1e3/60)},r.animationFrame=function(n){ui.call(t,n)},a=[],r.queueAnimation=function(n){a[a.length]=n,1===a.length&&r.runNextAnimation()},r.runNextAnimation=function(){r.animationFrame(function(){a[0]&&(a.shift()(),a[0]&&r.runNextAnimation())})},r.parseQueryStringParams=function(n){for(var u=n.split("?")[1]||"",r={},i=u.split(/&|=/),f=i.length,t=0;t<f;t+=2)""!==i[t]&&(r[decodeURIComponent(i[t])]=decodeURIComponent(i[t+1]));return r},r.elementUnderCursor=function(n){if(i!==n.x.client)return document.elementFromPoint(n.x.client,n.y.client)},r.wheelDeltaY=function(n){var r,t=n.originalEvent,u=t.wheelDeltaY;return t.wheelDelta?(u===i||u)&&(r=t.wheelDelta):t.detail&&t.axis===t.VERTICAL_AXIS&&(r=10*-t.detail),r},r.throttle=function(n,t){var r,f,u=0;return!t||t<=0?n:(f=function(){function f(){n.apply(s,o),u=+new Date}var s=this,e=+new Date-u,o=arguments;return u?(r&&clearTimeout(r),e>t?f():r=setTimeout(f,t-e),i):f()},f.cancel=function(){clearTimeout(r)},f)},r.caret=function(t,r,f){var e,h,c,o,l,s=r!==i;if(f===i&&(f=r),t[0]&&(t=t[0]),!s||!t.disabled){try{t.selectionStart!==i?s?(t.focus(),h=u.mobileOS,h.wp||h.android?setTimeout(function(){t.setSelectionRange(r,f)},0):t.setSelectionRange(r,f)):r=[t.selectionStart,t.selectionEnd]:document.selection&&(n(t).is(":visible")&&t.focus(),e=t.createTextRange(),s?(e.collapse(!0),e.moveStart("character",r),e.moveEnd("character",f-r),e.select()):(c=e.duplicate(),e.moveToBookmark(document.selection.createRange().getBookmark()),c.setEndPoint("EndToStart",e),o=c.text.length,l=o+e.text.length,r=[o,l]))}catch(a){r=[]}return r}},r.compileMobileDirective=function(n,i){var u=t.angular;return n.attr("data-"+r.ns+"role",n[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-","")),u.element(n).injector().invoke(["$compile",function(t){t(n)(i),/^\$(digest|apply)$/.test(i.$$phase)||i.$digest()}]),r.widgetInstance(n,r.mobile.ui)},r.antiForgeryTokens=function(){var t={},u=n("meta[name=csrf-token],meta[name=_csrf]").attr("content"),r=n("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");return n("input[name^='__RequestVerificationToken']").each(function(){t[this.name]=this.value}),r!==i&&u!==i&&(t[r]=u),t},r.cycleForm=function(n){function u(n){var t=r.widgetInstance(n);t&&t.focus?t.focus():n.focus()}var i=n.find("input, .k-widget").first(),t=n.find("button, .k-button").last();t.on("keydown",function(n){n.keyCode!=r.keys.TAB||n.shiftKey||(n.preventDefault(),u(i))}),i.on("keydown",function(n){n.keyCode==r.keys.TAB&&n.shiftKey&&(n.preventDefault(),u(t))})},r.focusElement=function(i){var f=[],u=i.parentsUntil("body").filter(function(n,t){var i=r.getComputedStyles(t,["overflow"]);return"visible"!==i.overflow}).add(t);u.each(function(t,i){f[t]=n(i).scrollTop()});try{i[0].setActive()}catch(e){i[0].focus()}u.each(function(t,i){n(i).scrollTop(f[t])})},r.focusNextElement=function(){var t,i,r;document.activeElement&&(t=n(":kendoFocusable"),i=t.index(document.activeElement),i>-1&&(r=t[i+1]||t[0],r.focus()))},r.trim=function(n){return n?(""+n).trim():""},r.getWidgetFocusableElement=function(t){var f,u=t.closest(":kendoFocusable"),i=r.widgetInstance(t);return f=u.length?u:i?"Editor"===i.options.name?n(i.body):i.wrapper.find(":kendoFocusable").first():t},r.addAttribute=function(n,t,i){var r=n.attr(t)||"";r.indexOf(i)<0&&n.attr(t,(r+" "+i).trim())},r.removeAttribute=function(n,t,i){var r=n.attr(t)||"";n.attr(t,r.replace(i,"").trim())},r.toggleAttribute=function(n,t,i){var u=n.attr(t)||"";u.indexOf(i)<0?r.addAttribute(n,t,i):r.removeAttribute(n,t,i)},r.matchesMedia=function(n){var i=r._bootstrapToMedia(n)||n;return u.matchMedia&&t.matchMedia(i).matches},r._bootstrapToMedia=function(n){return{xs:"(max-width: 576px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"}[n]},r.fileGroupMap={audio:[".aif",".iff",".m3u",".m4a",".mid",".mp3",".mpa",".wav",".wma",".ogg",".wav",".wma",".wpl"],video:[".3g2",".3gp",".avi",".asf",".flv",".m4u",".rm",".h264",".m4v",".mkv",".mov",".mp4",".mpg",".rm",".swf",".vob",".wmv"],image:[".ai",".dds",".heic",".jpe","jfif",".jif",".jp2",".jps",".eps",".bmp",".gif",".jpeg",".jpg",".png",".ps",".psd",".svg",".svgz",".tif",".tiff"],txt:[".doc",".docx",".log",".pages",".tex",".wpd",".wps",".odt",".rtf",".text",".txt",".wks"],presentation:[".key",".odp",".pps",".ppt",".pptx"],data:[".xlr",".xls",".xlsx"],programming:[".tmp",".bak",".msi",".cab",".cpl",".cur",".dll",".dmp",".drv",".icns",".ico",".link",".sys",".cfg",".ini",".asp",".aspx",".cer",".csr",".css",".dcr",".htm",".html",".js",".php",".rss",".xhtml"],pdf:[".pdf"],config:[".apk",".app",".bat",".cgi",".com",".exe",".gadget",".jar",".wsf"],zip:[".7z",".cbr",".gz",".sitx",".arj",".deb",".pkg",".rar",".rpm",".tar.gz",".z",".zip",".zipx"],"disc-image":[".dmg",".iso",".toast",".vcd",".bin",".cue",".mdf"]},r.getFileGroup=function(n,t){var u,o,s=r.fileGroupMap,f=Object.keys(s),e="file";if(n===i||!n.length)return e;for(u=0;u<f.length;u+=1)if(o=s[f[u]],o.indexOf(n.toLowerCase())>-1)return t?"file-"+f[u]:f[u];return e},r.getFileSizeMessage=function(n){var t,i=["Bytes","KB","MB","GB","TB"];return 0===n?"0 Byte":(t=parseInt(Math.floor(Math.log(n)/Math.log(1024)),10),Math.round(n/Math.pow(1024,t),2)+" "+i[t])},r.selectorFromClasses=function(n){return"."+n.split(" ").join(".")},function(){function e(t,i,u,f){var s,o,h=n("<form>").attr({action:u,method:"POST",target:f}),e=r.antiForgeryTokens();e.fileName=i,s=t.split(";base64,"),e.contentType=s[0].replace("data:",""),e.base64=s[1];for(o in e)e.hasOwnProperty(o)&&n("<input>").attr({value:e[o],name:o,type:"hidden"}).appendTo(h);h.appendTo("body").submit().remove()}function o(n,t){var f,o,r,u,i,e=n;if("string"==typeof n){for(f=n.split(";base64,"),o=f[0],r=atob(f[1]),u=new Uint8Array(r.length),i=0;i<r.length;i++)u[i]=r.charCodeAt(i);e=new Blob([u.buffer],{type:o})}navigator.msSaveBlob(e,t)}function f(n,r){t.Blob&&n instanceof Blob&&(n=URL.createObjectURL(n)),i.download=r,i.href=n;var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(u),setTimeout(function(){URL.revokeObjectURL(n)})}var i=document.createElement("a"),u="download"in i&&!r.support.browser.edge;r.saveAs=function(n){var t=e;n.forceProxy||(u?t=f:navigator.msSaveBlob&&(t=o)),t(n.dataURI,n.fileName,n.proxyURL,n.proxyTarget)}}(),r.proxyModelSetters=function(n){var t={};return Object.keys(n||{}).forEach(function(i){Object.defineProperty(t,i,{get:function(){return n[i]},set:function(t){n[i]=t,n.dirty=!0}})}),t},function(){r.defaults=r.defaults||{},r.setDefaults=function(n,t){var f=n.split("."),u=r.defaults;n=f.pop(),f.forEach(function(n){u[n]===i&&(u[n]={}),u=u[n]}),u[n]=t.constructor===Object?st({},u[n],t):t}}()}(jQuery,window),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.data.min",["kendo.core.min","kendo.data.odata.min","kendo.data.xml.min"],n)}(function(){return function(n,t){function hi(n,t,i,r){return function(f){var o,e={};for(o in f)e[o]=f[o];e.field=r?i+"."+f.field:i,t==u&&n._notifyChange&&n._notifyChange(e),n.trigger(t,e)}}function hr(t,i){if(t===i)return!0;var u,r=n.type(t),f=n.type(i);if(r!==f)return!1;if("date"===r)return t.getTime()===i.getTime();if("object"!==r&&"array"!==r)return!1;for(u in t)if(!hr(t[u],i[u]))return!1;return!0}function su(n,t){var i,r;for(r in n)if((i=n[r],tt(i)&&i.field&&i.field===t)||i===t)return i;return null}function r(n){this.data=n||[]}function ft(n,i){if(n){var r=typeof n===o?{field:n,dir:i}:n,u=l(r)?r:r!==t?[r]:[];return gu(u,function(n){return!!n.dir})}}function du(n,i){var u,f,r,e={};if(n)for(u=typeof n===o?{field:n,dir:i}:n,f=l(u)?u:u!==t?[u]:[],r=0;r<f.length;r++)e[f[r].field]={dir:f[r].dir,index:r+1};return e}function rr(n){var r,f,i,t,u=n.filters;if(u)for(r=0,f=u.length;r<f;r++)i=u[r],t=i.operator,t&&typeof t===o&&(i.operator=kr[t.toLowerCase()]||t),rr(i)}function k(n){if(n&&!b(n))return!l(n)&&n.filters||(n={logic:"and",filters:l(n)?n:[n]}),rr(n),n}function bu(n,t){return!n.logic&&!t.logic&&n.field===t.field&&n.value===t.value&&n.operator===t.operator}function ir(n){return n=n||{},b(n)?{logic:"and",filters:[]}:k(n)}function gr(n,t){return t.logic||n.field>t.field?1:n.field<t.field?-1:0}function fu(n,t){var e,f,i,r,u;if((n=ir(n),t=ir(t),n.logic!==t.logic)||(i=(n.filters||[]).slice(),r=(t.filters||[]).slice(),i.length!==r.length))return!1;for(i=i.sort(gr),r=r.sort(gr),u=0;u<i.length;u++)if(e=i[u],f=r[u],e.logic&&f.logic){if(!fu(e,f))return!1}else if(!bu(e,f))return!1;return!0}function of(n){return l(n)?n:[n]}function et(n,i,r,u){var f=typeof n===o?{field:n,dir:i,compare:r,skipItemSorting:u}:n,e=l(f)?f:f!==t?[f]:[];return wt(e,function(n){return{field:n.field,dir:n.dir||"asc",aggregates:n.aggregates,compare:n.compare,skipItemSorting:n.skipItemSorting}})}function er(n,t,i){for(var u=et(n,t,i),r=0;r<u.length;r++)delete u[r].compare;return u}function lu(n){for(var i=l(n)?n:[n],t=0;t<i.length;t++)if(i[t]&&h(i[t].compare))return!0;return!1}function ur(n,t){return n&&n.getTime&&t&&t.getTime?n.getTime()===t.getTime():n===t}function uf(n,t,r,u,f,e){var h,c,s,l,o;for(t=t||[],l=t.length,h=0;h<l;h++)c=t[h],s=c.aggregate,o=c.field,n[o]=n[o]||{},e[o]=e[o]||{},e[o][s]=e[o][s]||{},n[o][s]=nu[s.toLowerCase()](n[o][s],r,i.accessor(o),u,f,e[o][s])}function p(n){return"number"==typeof n&&!isNaN(n)}function kt(n){return n&&n.getTime}function gt(n){for(var r=n.length,i=Array(r),t=0;t<r;t++)i[t]=n[t].toJSON();return i}function rf(n,t,r,u,f){for(var h,o,e,c={},s=0,l=n.length;s<l;s++){h=n[s];for(o in t)e=f[o],e&&e!==o&&(c[e]||(c[e]=i.setter(e)),c[e](h,t[o](h)),delete h[o])}}function pi(n,t,i,r,u){for(var s,f,o,e=0,h=n.length;e<h;e++){s=n[e];for(f in t)s[f]=i._parse(f,t[f](s)),o=u[f],o&&o!==f&&delete s[o]}}function fr(n,t,i,r,u){for(var f,e,o=0,s=n.length;o<s;o++)f=n[o],e=r[f.field],e&&e!=f.field&&(f.field=e),f.value=i._parse(f.field,f.value),f.items&&(f.hasSubgroups?fr(f.items,t,i,r,u):pi(f.items,t,i,r,u))}function wi(n,t,i,r,u,f){return function(e){return e=n(e),sr(t,i,r,u,f)(e)}}function sr(n,t,i,r,u){return function(f){return f&&!b(i)&&("[object Array]"===pt.call(f)||f instanceof v||(f=[f]),t(f,i,new n,r,u)),f||[]}}function lr(n,t){var r,i,u;if(t.items&&t.items.length)for(u=0;u<t.items.length;u++)r=n.items[u],i=t.items[u],r&&i?r.hasSubgroups?lr(r,i):r.field&&r.value==i.value?r.items.push.apply(r.items,i.items):n.items.push.apply(n.items,[i]):i&&n.items.push.apply(n.items,[i])}function yi(n,t,i,r){for(var f,u,o,e=0;t.length&&r&&(f=t[e],u=f.items,o=u.length,n&&n.field===f.field&&n.value===f.value?(n.hasSubgroups&&n.items.length?yi(n.items[n.items.length-1],f.items,i,r):(u=u.slice(i,i+r),n.items=n.items.concat(u)),t.splice(e--,1)):f.hasSubgroups&&u.length?(yi(f,u,i,r),f.items.length||t.splice(e--,1)):(u=u.slice(i,i+r),f.items=u,f.items.length||t.splice(e--,1)),0===u.length?i-=o:(i=0,r-=u.length),!(++e>=t.length)););e<t.length&&t.splice(e,t.length-e)}function gi(n,t){for(var f,e,i,r=[],s=(n||[]).length,o=h(t)?t:function(n,t){return n[t]},u=0;u<s;u++)if(f=o(n,u),f.hasSubgroups)r=r.concat(gi(f.items));else for(e=f.items,i=0;i<e.length;i++)r.push(o(e,i));return r}function ai(n){for(var f,i,t,r=[],u=0,e=n.length;u<e;u++)if(t=n.at(u),t.items)if(t.hasSubgroups)r=r.concat(ai(t.items));else for(f=t.items,i=0;i<f.length;i++)r.push(f.at(i));return r}function nr(n,t){var r,u,i;if(t)for(r=0,u=n.length;r<u;r++)i=n.at(r),i.items&&(i.hasSubgroups?nr(i.items,t):i.items=new ht(i.items,t,i.items._events))}function tr(n,t){for(var i=0;i<n.length;i++)if(n[i].hasSubgroups){if(tr(n[i].items,t))return!0}else if(t(n[i].items,n[i]))return!0}function ef(n,t,i,r){for(var u=0;u<n.length&&n[u].data!==t&&!ru(n[u].data,i,r);u++);}function ru(n,t,i){for(var r=0,u=n.length;r<u;r++){if(n[r]&&n[r].hasSubgroups)return ru(n[r].items,t,i);if(n[r]===t||n[r]===i)return n[r]=i,!0}}function uu(n,i,r,u,f){for(var e,s,o=0,h=n.length;o<h;o++)if(e=n[o],e&&!(e instanceof u))if(e.hasSubgroups===t||f){for(s=0;s<i.length;s++)if(i[s]===e){n[o]=i.at(s),ef(r,i,e,n[o]);break}}else uu(e.items,i,r,u,f)}function nf(n,t){var u,r,i;if(n)for(u=n.length,i=0;i<u;i++)if(r=n[i],r.uid&&r.uid==t.uid)return n.splice(i,1),r}function tu(n,t){return t?wr(n,function(n){return n.uid&&n.uid==t.uid||n[t.idField]===t.id&&t.id!==t._defaultId}):-1}function eu(n,t){return t?wr(n,function(n){return n.uid==t.uid}):-1}function wr(n,t){var i,r;if(n){for(i=0,r=n.length;i<r;i++)if(t(n[i]))return i;return-1}}function vr(n,t){var i,r;return n&&!b(n)?(i=n[t],r=tt(i)?i.from||i.field||t:n[t]||t,h(r)?t:r):t}function yr(n,t){var r,f,u,i={};for(u in n)"filters"!==u&&(i[u]=n[u]);if(n.filters)for(i.filters=[],r=0,f=n.filters.length;r<f;r++)i.filters[r]=yr(n.filters[r],t);else i.field=vr(t.fields,i.field);return i}function bt(n,t){for(var i,u,f,e=[],r=0,o=n.length;r<o;r++){i={},u=n[r];for(f in u)i[f]=u[f];i.field=vr(t.fields,i.field),i.aggregates&&l(i.aggregates)&&(i.aggregates=bt(i.aggregates,t)),e.push(i)}return e}function ku(t,i){var s,a,c,h,o,l,u,r,f,e;for(t=n(t)[0],s=t.options,a=i[0],c=i[1],h=[],o=0,l=s.length;o<l;o++)f={},r=s[o],u=r.parentNode,u===t&&(u=null),r.disabled||u&&u.disabled||(u&&(f.optgroup=u.label),f[a.field]=r.text,e=r.attributes.value,e=e&&e.specified?r.value:r.text,f[c.field]=e,h.push(f));return h}function ff(t,i){for(var r,l,o,f,e,c=n(t)[0].tBodies[0],s=c?c.rows:[],v=i.length,h=[],u=0,a=s.length;u<a;u++){for(o={},e=!0,l=s[u].cells,r=0;r<v;r++)f=l[r],"th"!==f.nodeName.toLowerCase()&&(e=!1,o[i[r].field]=f.innerHTML);e||h.push(o)}return h}function br(n){return function(){var i=this._data,t=a.fn[n].apply(this,rt.call(arguments));return this._data!=i&&this._attachBubbleHandlers(),t}}function iu(t,r){function h(n,t){return n.filter(t).add(n.find(t))}for(var u,e,l,o,c,f,p=n(t).children(),b=[],k=r[0].field,a=r[1]&&r[1].field,v=r[2]&&r[2].field,y=r[3]&&r[3].field,s=0,w=p.length;s<w;s++)u={_loaded:!0},e=p.eq(s),o=e[0].firstChild,f=e.children(),t=f.filter("ul"),f=f.filter(":not(ul)"),l=e.attr("data-id"),l&&(u.id=l),o&&(u[k]=3==o.nodeType?o.nodeValue:f.text()),a&&(u[a]=h(f,"a").attr("href")),y&&(u[y]=h(f,"img").attr("src")),v&&(c=h(f,".k-sprite").prop("className"),u[v]=c&&i.trim(c.replace("k-sprite",""))),t.length&&(u.items=iu(t.eq(0),r)),"true"==e.attr("data-hasChildren")&&(u.hasChildren=!0),b.push(u);return b}var wt,ht,s,vi,dr,y,ct,li,ri,kr,nu,fi,ti,ot,ci,a,ei,ui,it,si,pr,e=n.extend,w=n.proxy,tt=n.isPlainObject,b=n.isEmptyObject,l=n.isArray,gu=n.grep,oi=n.ajax,yt=n.each,c=n.noop,i=window.kendo,h=i.isFunction,nt=i.Observable,dt=i.Class,o="string",ii="function",wu="asc",ki="create",bi="read",di="update",cr="destroy",u="change",ar="sync",ni="get",ut="error",d="requestStart",st="progress",g="requestEnd",tf=[ki,bi,di,cr],lt=function(n){return n},at=i.getter,vt=i.stringify,f=Math,cu=[].push,ou=[].join,yu=[].pop,or=[].splice,vu=[].shift,rt=[].slice,hu=[].unshift,pt={}.toString,au=i.support.stableSort,pu=/^\/Date\((.*?)\)\/$/,v=nt.extend({init:function(n,t){var i=this;i.type=t||s,nt.fn.init.call(i),i.length=n.length,i.wrapAll(n,i)},at:function(n){return this[n]},toJSON:function(n){for(var t,u=this.length,r=Array(u),i=0;i<u;i++)t=this[i],t instanceof s&&(t=t.toJSON(n)),r[i]=t;return r},parent:c,wrapAll:function(n,t){var i,u,r=this,f=function(){return r};for(t=t||[],i=0,u=n.length;i<u;i++)t[i]=r.wrap(n[i],f);return t},wrap:function(n,t){var r,i=this;return null!==n&&"[object Object]"===pt.call(n)&&(r=n instanceof i.type||n instanceof y,r||(n=n instanceof s?n.toJSON():n,n=new i.type(n)),n.parent=t,n.bind(u,function(n){i.trigger(u,{field:n.field,node:n.node,index:n.index,items:n.items||[this],action:n.node?n.action||"itemloaded":"itemchange"})})),n},push:function(){var t,i=this.length,n=this.wrapAll(arguments);return t=cu.apply(this,n),this.omitChangeEvent||this.trigger(u,{action:"add",index:i,items:n}),t},slice:rt,sort:[].sort,join:ou,pop:function(){var t=this.length,n=yu.apply(this);return t&&this.trigger(u,{action:"remove",index:t-1,items:[n]}),n},splice:function(n,t,i){var r,f,o,e=this.wrapAll(rt.call(arguments,2));if(r=or.apply(this,[n,t].concat(e)),r.length)for(this.trigger(u,{action:"remove",index:n,items:r}),f=0,o=r.length;f<o;f++)r[f]&&r[f].children&&r[f].unbind(u);return i&&this.trigger(u,{action:"add",index:n,items:e}),r},shift:function(){var t=this.length,n=vu.apply(this);return t&&this.trigger(u,{action:"remove",index:0,items:[n]}),n},unshift:function(){var t,n=this.wrapAll(arguments);return t=hu.apply(this,n),this.trigger(u,{action:"add",index:0,items:n}),t},indexOf:function(n){for(var i=this,t=0,r=i.length;t<r;t++)if(i[t]===n)return t;return-1},forEach:function(n,t){for(var i=0,u=this.length,r=t||window;i<u;i++)n.call(r,this[i],i,this)},map:function(n,t){for(var i=0,r=[],f=this.length,u=t||window;i<f;i++)r[i]=n.call(u,this[i],i,this);return r},reduce:function(n){var i,t=0,r=this.length;for(2==arguments.length?i=arguments[1]:t<r&&(i=this[t++]);t<r;t++)i=n(i,this[t],t,this);return i},reduceRight:function(n){var i,t=this.length-1;for(2==arguments.length?i=arguments[1]:t>0&&(i=this[t--]);t>=0;t--)i=n(i,this[t],t,this);return i},filter:function(n,t){for(var u,i=0,r=[],e=this.length,f=t||window;i<e;i++)u=this[i],n.call(f,u,i,this)&&(r[r.length]=u);return r},find:function(n,t){for(var r,i=0,f=this.length,u=t||window;i<f;i++)if(r=this[i],n.call(u,r,i,this))return r},every:function(n,t){for(var r,i=0,f=this.length,u=t||window;i<f;i++)if(r=this[i],!n.call(u,r,i,this))return!1;return!0},some:function(n,t){for(var r,i=0,f=this.length,u=t||window;i<f;i++)if(r=this[i],n.call(u,r,i,this))return!0;return!1},remove:function(n){var t=this.indexOf(n);t!==-1&&this.splice(t,1)},empty:function(){this.splice(0,this.length)}});"undefined"!=typeof Symbol&&Symbol.iterator&&!v.prototype[Symbol.iterator]&&(v.prototype[Symbol.iterator]=[][Symbol.iterator]),ht=v.extend({init:function(n,t,i){nt.fn.init.call(this),this.type=t||s,i&&(this._events=i);for(var r=0;r<n.length;r++)this[r]=n[r];this.length=r,this._parent=w(function(){return this},this)},at:function(n){var t=this[n];return t instanceof this.type?t.parent=this._parent:t=this[n]=this.wrap(t,this._parent),t}}),s=nt.extend({init:function(n){var t,r,u=this,f=function(){return u};nt.fn.init.call(this),this._handlers={};for(r in n)t=n[r],"object"==typeof t&&t&&!t.getTime&&"_"!=r.charAt(0)&&(t=u.wrap(t,r,f)),u[r]=t;u.uid=i.guid()},shouldSerialize:function(n,t){return this.hasOwnProperty(n)&&"_handlers"!==n&&"_events"!==n&&(t&&t[n]||typeof this[n]!==ii)&&"uid"!==n},forEach:function(n){for(var t in this)this.shouldSerialize(t)&&n(this[t],t)},toJSON:function(n){var t,i,r={};for(i in this)this.shouldSerialize(i,n)&&(t=this[i],(t instanceof s||t instanceof v)&&(t=t.toJSON(n)),r[i]=t);return r},get:function(n){var r,t=this;return t.trigger(ni,{field:n}),r="this"===n?t:i.getter(n,!0)(t)},_set:function(n,t){var u,r,e,o=this,f=n.indexOf(".")>=0;if(f)for(u=n.split("."),r="";u.length>1;){if(r+=u.shift(),e=i.getter(r,!0)(o),e instanceof s)return e.set(u.join("."),t),f;r+="."}return i.setter(n)(o,t),f},set:function(n,t){var r=this,e=!1,o=n.indexOf(".")>=0,f=i.getter(n,!0)(r);return f!==t&&(f instanceof nt&&this._handlers[n]&&(this._handlers[n].get&&f.unbind(ni,this._handlers[n].get),f.unbind(u,this._handlers[n].change)),e=r.trigger("set",{field:n,value:t}),e||(o||(t=r.wrap(t,n,function(){return r})),(!r._set(n,t)||n.indexOf("(")>=0||n.indexOf("[")>=0)&&r.trigger(u,{field:n}))),e},parent:c,wrap:function(n,t,i){var c,r,h,o,f=this,e=pt.call(n);return null==n||"[object Object]"!==e&&"[object Array]"!==e||(h=n instanceof v,o=n instanceof a,"[object Object]"!==e||o||h?("[object Array]"===e||h||o)&&(h||o||(n=new v(n)),r=hi(f,u,t,!1),n.bind(u,r),f._handlers[t]={change:r}):(n instanceof s||(n=new s(n)),c=hi(f,ni,t,!0),n.bind(ni,c),r=hi(f,u,t,!0),n.bind(u,r),f._handlers[t]={get:c,change:r}),n.parent=i),n}}),vi={number:function(n){return typeof n===o&&"null"===n.toLowerCase()?null:i.parseFloat(n)},date:function(n){return typeof n===o&&"null"===n.toLowerCase()?null:i.parseDate(n)},boolean:function(n){return typeof n===o?"null"===n.toLowerCase()?null:"true"===n.toLowerCase():null!=n?!!n:n},string:function(n){return typeof n===o&&"null"===n.toLowerCase()?null:null!=n?n+"":n},"default":function(n){return n}},dr={string:"",number:0,date:new Date,boolean:!1,"default":""},y=s.extend({init:function(i){var u,f,r=this;if((!i||n.isEmptyObject(i))&&(i=n.extend({},r.defaults,i),r._initializers))for(u=0;u<r._initializers.length;u++)f=r._initializers[u],i[f]=r.defaults[f]();s.fn.init.call(r,i),r.dirty=!1,r.dirtyFields={},r.idField&&(r.id=r.get(r.idField),r.id===t&&(r.id=r._defaultId))},shouldSerialize:function(n){return s.fn.shouldSerialize.call(this,n)&&"uid"!==n&&!("id"!==this.idField&&"id"===n)&&"dirty"!==n&&"dirtyFields"!==n&&"_accessors"!==n},_parse:function(n,t){var i,u=this,f=n,r=u.fields||{};return n=r[n],n||(n=su(r,f)),n&&(i=n.parse,!i&&n.type&&(i=vi[n.type.toLowerCase()])),i?i(t):t},_notifyChange:function(n){var t=n.action;"add"!=t&&"remove"!=t||(this.dirty=!0,this.dirtyFields[n.field]=!0)},editable:function(n){return n=(this.fields||{})[n],!n||n.editable!==!1},set:function(n,t){var i=this,r=i.dirty;i.editable(n)&&(t=i._parse(n,t),hr(t,i.get(n))?i.trigger("equalSet",{field:n,value:t}):(i.dirty=!0,i.dirtyFields[n]=!0,s.fn.set.call(i,n,t)&&!r&&(i.dirty=r,i.dirty||(i.dirtyFields[n]=!1))))},accept:function(n){var i,r,t=this,u=function(){return t};for(i in n)r=n[i],"_"!=i.charAt(0)&&(r=t.wrap(n[i],i,u)),t._set(i,r);t.idField&&(t.id=t.get(t.idField)),t.dirty=!1,t.dirtyFields={}},isNew:function(){return this.id===this._defaultId}}),y.define=function(n,i){i===t&&(i=n,n=y);var s,f,u,w,c,a,b,h,r=e({defaults:{}},i),p={},l=r.id,v=[];if(l&&(r.idField=l),r.id&&delete r.id,l&&(r.defaults[l]=r._defaultId=""),"[object Array]"===pt.call(r.fields)){for(a=0,b=r.fields.length;a<b;a++)u=r.fields[a],typeof u===o?p[u]={}:u.field&&(p[u.field]=u);r.fields=p}for(f in r.fields)u=r.fields[f],w=u.type||"default",c=null,h=f,f=typeof u.field===o?u.field:f,u.nullable||(c=r.defaults[h!==f?h:f]=u.defaultValue!==t?u.defaultValue:dr[w.toLowerCase()],"function"==typeof c&&v.push(f)),i.id===f&&(r._defaultId=c),r.defaults[h!==f?h:f]=c,u.parse=u.parse||vi[w];return v.length>0&&(r._initializers=v),s=n.extend(r),s.define=function(n){return y.define(s,n)},r.fields&&(s.fields=r.fields,s.idField=r.idField),s},ct={selector:function(n){return h(n)?n:at(n)},compare:function(n){var t=this.selector(n);return function(n,i){return n=t(n),i=t(i),null==n&&null==i?0:null==n?-1:null==i?1:n.localeCompare?n.localeCompare(i):n>i?1:n<i?-1:0}},create:function(n){var t=n.compare||this.compare(n.field);return"desc"==n.dir?function(n,i){return t(i,n,!0)}:t},combine:function(n){return function(t,i){for(var u=n[0](t,i),r=1,f=n.length;r<f;r++)u=u||n[r](t,i);return u}}},li=e({},ct,{asc:function(n){var t=this.selector(n);return function(n,i){var r=t(n),u=t(i);return r&&r.getTime&&u&&u.getTime&&(r=r.getTime(),u=u.getTime()),r===u?n.__position-i.__position:null==r?-1:null==u?1:r.localeCompare?r.localeCompare(u):r>u?1:-1}},desc:function(n){var t=this.selector(n);return function(n,i){var u=t(n),r=t(i);return u&&u.getTime&&r&&r.getTime&&(u=u.getTime(),r=r.getTime()),u===r?n.__position-i.__position:null==u?1:null==r?-1:r.localeCompare?r.localeCompare(u):u<r?1:-1}},create:function(n){return this[n.dir](n.field)}}),wt=function(n,t){for(var u=n.length,r=Array(u),i=0;i<u;i++)r[i]=t(n[i],i,n);return r},ri=function(){function i(n){return"string"==typeof n&&(n=n.replace(/[\r\n]+/g,"")),JSON.stringify(n)}function n(n){return function(t,r,u,f){return r+="",u&&(t="("+t+" + '').toString()"+(f?".toLocaleLowerCase('"+f+"')":".toLowerCase()"),r=f?r.toLocaleLowerCase(f):r.toLowerCase()),n(t,i(r),u)}}function t(n,t,r,u,f){if(null!=r){if(typeof r===o){var e=pu.exec(r);e?r=new Date(+e[1]):u?(r=i(f?r.toLocaleLowerCase(f):r.toLowerCase()),t="(("+t+" || '')+'')"+(f?".toLocaleLowerCase('"+f+"')":".toLowerCase()")):r=i(r)}r.getTime&&(t="("+t+"&&"+t+".getTime?"+t+".getTime():"+t+")",r=r.getTime())}return t+" "+n+" "+r}function r(n){var u,i,r,t;for(u="/^",i=!1,r=0;r<n.length;++r){if(t=n.charAt(r),i)u+="\\"+t;else{if("~"==t){i=!0;continue}u+="*"==t?".*":"?"==t?".":".+^$()[]{}|\\/\n\r\u2028\u2029 ".indexOf(t)>=0?"\\"+t:t}i=!1}return u+"$/"}return{quote:function(n){return n&&n.getTime?"new Date("+n.getTime()+")":i(n)},eq:function(n,i,r,u){return t("==",n,i,r,u)},neq:function(n,i,r,u){return t("!=",n,i,r,u)},gt:function(n,i,r){return t(">",n,i,r)},gte:function(n,i,r){return t(">=",n,i,r)},lt:function(n,i,r){return t("<",n,i,r)},lte:function(n,i,r){return t("<=",n,i,r)},startswith:n(function(n,t){return n+".lastIndexOf("+t+", 0) == 0"}),doesnotstartwith:n(function(n,t){return n+".lastIndexOf("+t+", 0) == -1"}),endswith:n(function(n,t){var i=t?t.length-2:0;return n+".indexOf("+t+", "+n+".length - "+i+") >= 0"}),doesnotendwith:n(function(n,t){var i=t?t.length-2:0;return n+".indexOf("+t+", "+n+".length - "+i+") < 0"}),contains:n(function(n,t){return n+".indexOf("+t+") >= 0"}),doesnotcontain:n(function(n,t){return n+".indexOf("+t+") == -1"}),matches:n(function(n,t){return t=t.substring(1,t.length-1),r(t)+".test("+n+")"}),doesnotmatch:n(function(n,t){return t=t.substring(1,t.length-1),"!"+r(t)+".test("+n+")"}),isempty:function(n){return n+" === ''"},isnotempty:function(n){return n+" !== ''"},isnull:function(n){return"("+n+" == null)"},isnotnull:function(n){return"("+n+" != null)"},isnullorempty:function(n){return"("+n+" === null) || ("+n+" === '')"},isnotnullorempty:function(n){return"("+n+" !== null) && ("+n+" !== '')"}}}(),r.filterExpr=function(n){for(var u,f,c,s,a=[],y={and:" && ",or:" || "},o=[],e=[],v=n.filters,h=0,l=v.length;h<l;h++)u=v[h],c=u.field,s=u.operator,u.filters?(f=r.filterExpr(u),u=f.expression.replace(/__o\[(\d+)\]/g,function(n,t){return t=+t,"__o["+(e.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(n,t){return t=+t,"__f["+(o.length+t)+"]"}),e.push.apply(e,f.operators),o.push.apply(o,f.fields)):(typeof c===ii?(f="__f["+o.length+"](d)",o.push(c)):f=i.expr(c),typeof s===ii?(u="__o["+e.length+"]("+f+", "+ri.quote(u.value)+")",e.push(s)):u=ri[(s||"eq").toLowerCase()](f,u.value,u.ignoreCase===t||u.ignoreCase,n.accentFoldingFiltering)),a.push(u);return{expression:"("+a.join(y[n.logic])+")",fields:o,operators:e}},kr={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain",isnull:"isnull",isempty:"isempty",isnotempty:"isnotempty"},r.normalizeFilter=k,r.compareFilters=fu,r.prototype={toArray:function(){return this.data},range:function(n,t){return new r(this.data.slice(n,n+t))},skip:function(n){return new r(this.data.slice(n))},take:function(n){return new r(this.data.slice(0,n))},select:function(n){return new r(wt(this.data,n))},order:function(n,t,i){var u={dir:t};return n&&(n.compare?u.compare=n.compare:u.field=n),new r(i?this.data.sort(ct.create(u)):this.data.slice(0).sort(ct.create(u)))},orderBy:function(n,t){return this.order(n,"asc",t)},orderByDescending:function(n,t){return this.order(n,"desc",t)},sort:function(n,t,i,r){var u,o,f=ft(n,t),e=[];if(i=i||ct,f.length){for(u=0,o=f.length;u<o;u++)e.push(i.create(f[u]));return this.orderBy({compare:i.combine(e)},r)}return this},filter:function(n){var i,o,c,t,l,f,u,e,s=this.data,h=[];if(n=k(n),!n||0===n.filters.length)return this;for(t=r.filterExpr(n),f=t.fields,u=t.operators,l=e=Function("d, __f, __o","return "+t.expression),(f.length||u.length)&&(e=function(n){return l(n,f,u)}),i=0,c=s.length;i<c;i++)o=s[i],e(o)&&h.push(o);return new r(h)},group:function(n,t,u){n=et(n||[]),t=t||this.data;var f,o=this,e=new r(o.data);return n.length>0&&(f=n[0],e=u&&u.groupPaging?new r(t).groupAllData(f,t).select(function(e){var s=new r(t).filter([{field:e.field,operator:"eq",value:e.value,ignoreCase:!1}]),o=n.length>1?new r(e.items).group(n.slice(1),s.toArray(),u).toArray():e.items;return{field:e.field,value:e.value,hasSubgroups:n.length>1,items:o,aggregates:s.aggregate(f.aggregates),uid:i.guid(),itemCount:o.length,subgroupCount:o.length}}):e.groupBy(f).select(function(i){var u=new r(t).filter([{field:i.field,operator:"eq",value:i.value,ignoreCase:!1}]);return{field:i.field,value:i.value,items:n.length>1?new r(i.items).group(n.slice(1),u.toArray()).toArray():i.items,hasSubgroups:n.length>1,aggregates:u.aggregate(f.aggregates)}})),e},groupBy:function(n){var t,o,c,h,u,f,l,s,a,e,v=this;if(b(n)||!this.data.length)return new r([]);for(t=n.field,o=n.skipItemSorting?this.data:this._sortForGrouping(t,n.dir||"asc"),c=i.accessor(t),u=c.get(o[0],t),f={field:t,value:u,items:[]},e=[f],s=0,a=o.length;s<a;s++)h=o[s],l=c.get(h,t),ur(u,l)||(u=l,f={field:t,value:u,items:[]},e.push(f)),f.items.push(h);return e=v._sortGroups(e,n),new r(e)},groupAllData:function(n,t){if(b(n)||this.data&&!this.data.length)return new r([]);for(var c,h,u=n.field,l=n.skipItemSorting?t:new r(t).sort(u,n.dir||"asc",li).toArray(),v=i.accessor(u),e=v.get(l[0],u),f={field:u,value:e,items:[]},o=[f],s=0,a=l.length;s<a;s++)c=l[s],h=v.get(c,u),ur(e,h)||(e=h,f={field:u,value:e,items:[]},o.push(f)),f.items.push(c);return o=this._sortGroups(o,n),new r(o)},_sortForGrouping:function(n,t){var i,f,u=this.data;if(!au){for(i=0,f=u.length;i<f;i++)u[i].__position=i;for(u=new r(u).sort(n,t,li).toArray(),i=0,f=u.length;i<f;i++)delete u[i].__position;return u}return this.sort(n,t).toArray()},_sortGroups:function(n,t){var i=n;return t&&h(t.compare)&&(i=new r(i).order({compare:t.compare},t.dir||wu).toArray()),i},aggregate:function(n){var t,i,r={},u={};if(n&&n.length)for(t=0,i=this.data.length;t<i;t++)uf(r,n,this.data[t],t,i,u);return r}},nu={sum:function(n,t,i){var r=i.get(t);return p(n)?p(r)&&(n+=r):n=r,n},count:function(n){return(n||0)+1},average:function(n,i,r,u,f,e){var o=r.get(i);return e.count===t&&(e.count=0),p(n)?p(o)&&(n+=o):n=o,p(o)&&e.count++,u==f-1&&p(n)&&(n/=e.count),n},max:function(n,t,i){var r=i.get(t);return p(n)||kt(n)||(n=r),n<r&&(p(r)||kt(r))&&(n=r),n},min:function(n,t,i){var r=i.get(t);return p(n)||kt(n)||(n=r),n>r&&(p(r)||kt(r))&&(n=r),n}},r.normalizeGroup=et,r.normalizeSort=ft,r.process=function(n,i,u){var o,a,f,p,v,s,b,w,y,l,h,c;return i=i||{},o=i.group,a=lu(et(o||[])),f=new r(n),p=er(o||[]),v=ft(i.sort||[]),s=a?v:p.concat(v),y=i.filterCallback,l=i.filter,h=i.skip,c=i.take,s&&u&&(f=f.sort(s,t,t,u)),l&&(f=f.filter(l),y&&(f=y(f)),w=f.toArray().length),s&&(u||(f=f.sort(s)),o&&(n=f.toArray())),a?(f=f.group(o,n),h!==t&&c!==t&&(f=new r(gi(f.toArray())).range(h,c),b=wt(p,function(n){return e({},n,{skipItemSorting:!0})}),f=f.group(b,n))):(h!==t&&c!==t&&(f=f.range(h,c)),o&&(f=f.group(o,n,i))),{total:w,data:f.toArray()}},fi=dt.extend({init:function(n){this.data=n.data},read:function(n){n.success(this.data)},update:function(n){n.success(n.data)},create:function(n){n.success(n.data)},destroy:function(n){n.success(n.data)}}),ti=dt.extend({init:function(n){var i,t=this;n=t.options=e({},t.options,n),yt(tf,function(t,i){typeof n[i]===o&&(n[i]={url:n[i]})}),t.cache=n.cache?ot.create(n.cache):{find:c,add:c},i=n.parameterMap,n.submit&&(t.submit=n.submit),h(n.push)&&(t.push=n.push),t.push||(t.push=lt),t.parameterMap=h(i)?i:function(n){var t={};return yt(n,function(n,r){n in i&&(n=i[n],tt(n)&&(r=n.value(r),n=n.key)),t[n]=r}),t}},options:{parameterMap:lt},create:function(n){return oi(this.setup(n,ki))},read:function(i){var u,o,r,f=this,e=f.cache;i=f.setup(i,bi),u=i.success||c,o=i.error||c,r=e.find(i.data),r!==t?u(r):(i.success=function(n){e.add(i.data,n),u(n)},n.ajax(i))},update:function(n){return oi(this.setup(n,di))},destroy:function(n){return oi(this.setup(n,cr))},setup:function(n,t){n=n||{};var r,u=this,i=u.options[t],f=h(i.data)?i.data(n.data):i.data;return n=e(!0,{},i,n),r=e(!0,{},f,n.data),n.data=u.parameterMap(r,t),h(n.url)&&(n.url=n.url(r)),n}}),ot=dt.extend({init:function(){this._store={}},add:function(n,i){n!==t&&(this._store[vt(n)]=i)},find:function(n){return this._store[vt(n)]},clear:function(){this._store={}},remove:function(n){delete this._store[vt(n)]}}),ot.create=function(n){var t={inmemory:function(){return new ot}};return tt(n)&&h(n.find)?n:n===!0?new ot:t[n]()},ci=dt.extend({init:function(n){var a,l,i,b,c,k,p,f,e,v,u,s,r,h,t=this;n=n||{};for(a in n)l=n[a],t[a]=typeof l===o?at(l):l;b=n.modelBase||y,tt(t.model)&&(t.model=i=b.define(t.model)),c=w(t.data,t),t._dataAccessFunction=c,t.model&&(k=w(t.groups,t),p=w(t.serialize,t),f={},e={},v={},u={},s=!1,i=t.model,i.fields&&(yt(i.fields,function(n,t){var i;r=n,tt(t)&&t.field?r=t.field:typeof t===o&&(r=t),tt(t)&&t.from&&(i=t.from),s=s||i&&i!==n||r!==n,h=i||r,e[n]=h.indexOf(".")!==-1?at(h,!0):at(h),v[n]=at(n),f[i||r]=n,u[n]=i||r}),!n.serialize&&s&&(t.serialize=wi(p,i,rf,v,f,u))),t._dataAccessFunction=c,t._wrapDataAccessBase=sr(i,pi,e,f,u),t.data=wi(c,i,pi,e,f,u),t.groups=wi(k,i,fr,e,f,u))},errors:function(n){return n?n.errors:null},parse:lt,data:lt,total:function(n){return n.length},groups:lt,aggregates:function(){return{}},serialize:function(n){return n}}),a=nt.extend({init:function(n){var s,o,f,r=this;n&&(o=n.data),n=r.options=e({},r.options,n),r._map={},r._prefetch={},r._data=[],r._pristineData=[],r._ranges=[],r._view=[],r._pristineTotal=0,r._destroyed=[],r._pageSize=n.pageSize,r._page=n.page||(n.pageSize?1:t),r._sort=ft(n.sort),r._filter=k(n.filter),r._group=et(n.group),r._aggregate=n.aggregate,r._total=n.total,r._groupPaging=n.groupPaging,r._groupPaging&&(r._groupsState={}),r._shouldDetachObservableParents=!0,nt.fn.init.call(r),r.transport=ei.create(n,o,r),h(r.transport.push)&&r.transport.push({pushCreate:w(r._pushCreate,r),pushUpdate:w(r._pushUpdate,r),pushDestroy:w(r._pushDestroy,r)}),null!=n.offlineStorage&&("string"==typeof n.offlineStorage?(f=n.offlineStorage,r._storage={getItem:function(){return JSON.parse(localStorage.getItem(f))},setItem:function(n){localStorage.setItem(f,vt(r.reader.serialize(n)))}}):r._storage=n.offlineStorage),r.reader=new i.data.readers[n.schema.type||"json"](n.schema),s=r.reader.model||{},r._detachObservableParents(),r._data=r._observe(r._data),r._online=!0,r.bind(["push",ut,u,d,ar,g,st],n)},options:{data:null,schema:{modelBase:y},offlineStorage:null,serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1,inPlaceSort:!1},clone:function(){return this},online:function(i){return i!==t?this._online!=i&&(this._online=i,i)?this.sync():n.Deferred().resolve().promise():this._online},offlineData:function(n){return null==this.options.offlineStorage?null:n!==t?this._storage.setItem(n):this._storage.getItem()||[]},_isServerGrouped:function(){var n=this.group()||[];return this.options.serverGrouping&&n.length},_isServerGroupPaged:function(){return this._isServerGrouped()&&this._groupPaging},_isGroupPaged:function(){var n=this.group()||[];return this._groupPaging&&n.length},_pushCreate:function(n){this._push(n,"pushCreate")},_pushUpdate:function(n){this._push(n,"pushUpdate")},_pushDestroy:function(n){this._push(n,"pushDestroy")},_push:function(n,t){var i=this._readData(n);i||(i=n),this[t](i)},_flatData:function(n,t){if(n){if(this._isServerGrouped())return ai(n);if(!t)for(var i=0;i<n.length;i++)n.at(i)}return n},parent:c,get:function(n){for(var i=this._flatData(this._data,this.options.useRanges),t=0,r=i.length;t<r;t++)if(i[t].id==n)return i[t]},getByUid:function(n){return this._getByUid(n,this._data)},_getByUid:function(n,t){var i,u,r=this._flatData(t,this.options.useRanges);if(r)for(i=0,u=r.length;i<u;i++)if(r[i].uid==n)return r[i]},indexOf:function(n){return eu(this._data,n)},at:function(n){return this._data.at(n)},data:function(n){var r,i=this;if(n===t){if(i._data)for(r=0;r<i._data.length;r++)i._data.at(r);return i._data}i._detachObservableParents(),i._data=this._observe(n),i._pristineData=n.slice(0),i._storeData(),i._ranges=[],i.trigger("reset"),i._addRange(i._data),i._total=i._data.length,i._pristineTotal=i._total,i._process(i._data)},view:function(n){return n===t?this._view:(this._view=this._observeView(n),t)},_observeView:function(n){var i,t=this;return uu(n,t._data,t._ranges,t.reader.model||s,t._isServerGrouped()),i=new ht(n,t.reader.model),i.parent=function(){return t.parent()},i},flatView:function(){var n=this.group()||[];return n.length?ai(this._view):this._view},add:function(n){return this.insert(this._data.length,n)},_createNewModel:function(n){return this.reader.model?new this.reader.model(n):n instanceof s?n:new s(n)},insert:function(n,t){return t||(t=n,n=0),t instanceof y||(t=this._createNewModel(t)),this._isServerGrouped()?this._data.splice(n,0,this._wrapInEmptyGroup(t)):this._data.splice(n,0,t),this._insertModelInRange(n,t),t},pushInsert:function(t,i){var f,s,u,h,o,r,c=this,e=c._getCurrentRangeSpan();i||(i=t,t=0),l(i)||(i=[i]),f=[],s=this.options.autoSync,this.options.autoSync=!1;try{for(u=0;u<i.length;u++)h=i[u],o=this.insert(t,h),f.push(o),r=o.toJSON(),this._isServerGrouped()&&(r=this._wrapInEmptyGroup(r)),this._pristineData.push(r),e&&e.length&&n(e).last()[0].pristineData.push(r),t++}finally{this.options.autoSync=s}f.length&&this.trigger("push",{type:"create",items:f})},pushCreate:function(n){this.pushInsert(this._data.length,n)},pushUpdate:function(n){var f,r,i,e,t;for(l(n)||(n=[n]),f=[],r=0;r<n.length;r++)i=n[r],e=this._createNewModel(i),t=this.get(e.id),t?(f.push(t),t.accept(i),t.trigger(u),this._updatePristineForModel(t,i)):this.pushCreate(i);f.length&&this.trigger("push",{type:"update",items:f})},pushDestroy:function(n){var t=this._removeItems(n);t.length&&this.trigger("push",{type:"destroy",items:t})},_removeItems:function(n,i){var s,e,o,r,h,u,f;l(n)||(n=[n]),s=t===i||i,e=[],o=this.options.autoSync,this.options.autoSync=!1;try{for(r=0;r<n.length;r++)h=n[r],u=this._createNewModel(h),f=!1,this._eachItem(this._data,function(n){for(var i,t=0;t<n.length;t++)if(i=n.at(t),i.id===u.id){e.push(i),n.splice(t,1),f=!0;break}}),f&&s&&(this._removePristineForModel(u),this._destroyed.pop())}finally{this.options.autoSync=o}return e},remove:function(n){var t,i=this,r=i._isServerGrouped();return this._eachItem(i._data,function(u){if(t=nf(u,n),t&&r)return t.isNew&&t.isNew()||i._destroyed.push(t),!0}),this._removeModelFromRanges(n),n},destroyed:function(){return this._destroyed},created:function(){for(var r=[],t=this._flatData(this._data,this.options.useRanges),n=0,i=t.length;n<i;n++)t[n].isNew&&t[n].isNew()&&r.push(t[n]);return r},updated:function(){for(var r=[],t=this._flatData(this._data,this.options.useRanges),n=0,i=t.length;n<i;n++)t[n].isNew&&!t[n].isNew()&&t[n].dirty&&r.push(t[n]);return r},sync:function(){var i,t=this,f=[],u=[],e=t._destroyed,r=n.Deferred().resolve().promise();if(t.online()){if(!t.reader.model)return r;f=t.created(),u=t.updated(),i=[],t.options.batch&&t.transport.submit?i=t._sendSubmit(f,u,e):(i.push.apply(i,t._send("create",f)),i.push.apply(i,t._send("update",u)),i.push.apply(i,t._send("destroy",e))),r=n.when.apply(null,i).then(function(){for(var n=0,i=arguments.length;n<i;n++)arguments[n]&&t._accept(arguments[n]);t._storeData(!0),t._syncEnd(),t._change({action:"sync"}),t.trigger(ar),t._isServerGroupPaged()&&t.read()})}else t._storeData(!0),t._syncEnd(),t._change({action:"sync"});return r},_syncEnd:c,cancelChanges:function(n){var t=this;n instanceof i.data.Model?t._cancelModel(n):(t._destroyed=[],t._detachObservableParents(),t._data=t._observe(t._pristineData),t.options.serverPaging&&(t._total=t._pristineTotal),t._ranges=[],t._addRange(t._data,0),t._changesCanceled(),t._change(),t._markOfflineUpdatesAsDirty(),t._isServerGrouped()&&t.read())},_changesCanceled:c,_markOfflineUpdatesAsDirty:function(){var n=this;null!=n.options.offlineStorage&&n._eachItem(n._data,function(n){for(var t,i=0;i<n.length;i++)t=n.at(i),"update"!=t.__state__&&"create"!=t.__state__||(t.dirty=!0)})},hasChanges:function(){var n,i,t=this._flatData(this._data,this.options.useRanges);if(this._destroyed.length)return!0;for(n=0,i=t.length;n<i;n++)if(t[n].isNew&&t[n].isNew()||t[n].dirty)return!0;return!1},_accept:function(t){var o,u=this,f=t.models,i=t.response,r=0,s=u._isServerGrouped(),h=u._pristineData,e=t.type;if(u.trigger(g,{response:i,type:e}),i&&!b(i)){if(i=u.reader.parse(i),u._handleCustomErrors(i))return;i=u.reader.data(i),l(i)||(i=[i])}else i=n.map(f,function(n){return n.toJSON()});for("destroy"===e&&(u._destroyed=[]),r=0,o=f.length;r<o;r++)"destroy"!==e?(f[r].accept(i[r]),"create"===e?h.push(s?u._wrapInEmptyGroup(f[r].toJSON()):i[r]):"update"===e&&u._updatePristineForModel(f[r],i[r])):u._removePristineForModel(f[r])},_updatePristineForModel:function(n,t){this._executeOnPristineForModel(n,function(n,r){i.deepExtend(r[n],t)})},_executeOnPristineForModel:function(n,t){this._eachPristineItem(function(i){var r=tu(i,n);if(r>-1)return t(r,i),!0})},_removePristineForModel:function(n){this._executeOnPristineForModel(n,function(n,t){t.splice(n,1)})},_readData:function(n){var t=this._isServerGrouped()?this.reader.groups:this.reader.data;return t.call(this.reader,n)},_eachPristineItem:function(n){var t=this,i=t.options,r=t._getCurrentRangeSpan();t._eachItem(t._pristineData,n),i.serverPaging&&i.useRanges&&yt(r,function(i,r){t._eachItem(r.pristineData,n)})},_eachItem:function(n,t){n&&n.length&&(this._isServerGrouped()?tr(n,t):t(n))},_pristineForModel:function(n){var i,t,r=function(r){if(t=tu(r,n),t>-1)return i=r[t],!0};return this._eachPristineItem(r),i},_cancelModel:function(n){var i=this,t=this._pristineForModel(n);this._eachItem(this._data,function(r){var u=eu(r,n);u>=0&&(!t||n.isNew()&&!t.__state__?(i._modelCanceled(n),r.splice(u,1),i._removeModelFromRanges(n)):(r[u].accept(t),"update"==t.__state__&&(r[u].dirty=!0)))})},_modelCanceled:c,_submit:function(t,i){var r=this;r.trigger(d,{type:"submit"}),r.trigger(st),r.transport.submit(e({success:function(i,r){var u=n.grep(t,function(n){return n.type==r})[0];u&&u.resolve({response:i,models:u.models,type:r})},error:function(n,i,u){for(var f=0;f<t.length;f++)t[f].reject(n);r.error(n,i,u)}},i))},_sendSubmit:function(t,i,r){var f=this,u=[];return f.options.batch&&(t.length&&u.push(n.Deferred(function(n){n.type="create",n.models=t})),i.length&&u.push(n.Deferred(function(n){n.type="update",n.models=i})),r.length&&u.push(n.Deferred(function(n){n.type="destroy",n.models=r})),f._submit(u,{data:{created:f.reader.serialize(gt(t)),updated:f.reader.serialize(gt(i)),destroyed:f.reader.serialize(gt(r))}})),u},_promise:function(t,i,r){var u=this;return n.Deferred(function(n){u.trigger(d,{type:r}),u.trigger(st),u.transport[r].call(u.transport,e({success:function(t){n.resolve({response:t,models:i,type:r})},error:function(t,i,r){n.reject(t),u.error(t,i,r)}},t))}).promise()},_send:function(n,t){var i,e,r=this,u=[],f=r.reader.serialize(gt(t));if(r.options.batch)t.length&&u.push(r._promise({data:{models:f}},t,n));else for(i=0,e=t.length;i<e;i++)u.push(r._promise({data:f[i]},[t[i]],n));return u},read:function(t){var i=this,u=i._params(t),r=n.Deferred();return i._queueRequest(u,function(){var n=i.trigger(d,{type:"read"});n?(i._dequeueRequest(),r.resolve(n)):(i.trigger(st),i._ranges=[],i.trigger("reset"),i.online()?i.transport.read({data:u,success:function(n){i._ranges=[],i.success(n,u),r.resolve()},error:function(){var n=rt.call(arguments);i.error.apply(i,n),r.reject.apply(r,n)}}):null!=i.options.offlineStorage&&(i.success(i.offlineData(),u),r.resolve()))}),r.promise()},_readAggregates:function(n){return this.reader.aggregates(n)},success:function(n){var f,a,h,l,c,r,v,e,y,o,s,i=this,p=i.options;if(i.trigger(g,{response:n,type:"read"}),i.online()){if(n=i.reader.parse(n),i._handleCustomErrors(n))return i._dequeueRequest(),t;i._total=i.reader.total(n),i._isServerGroupPaged()&&(i._serverGroupsTotal=i._total),i._pageSize>i._total&&(i._pageSize=i._total,i.options.pageSize&&i.options.pageSize>i._pageSize&&(i._pageSize=i.options.pageSize)),i._aggregate&&p.serverAggregates&&(i._aggregateResult=i._readAggregates(n)),n=i._readData(n),i._destroyed=[]}else{for(n=i._readData(n),f=[],h={},l=i.reader.model,c=l?l.idField:"id",r=0;r<this._destroyed.length;r++)v=this._destroyed[r][c],h[v]=v;for(r=0;r<n.length;r++)e=n[r],y=e.__state__,"destroy"==y?h[e[c]]||this._destroyed.push(this._createNewModel(e)):f.push(e);n=f,i._total=n.length}if(i._pristineTotal=i._total,a=i._skip&&i._data.length&&i._skip<i._data.length,i.options.endless)for(a&&i._pristineData.splice(i._skip,i._pristineData.length),f=n.slice(0),o=0;o<f.length;o++)i._pristineData.push(f[o]);else i._pristineData=n.slice(0);if(i._detachObservableParents(),i.options.endless){for(i._data.unbind(u,i._changeHandler),i._isServerGrouped()&&i._data[i._data.length-1].value===n[0].value&&(lr(i._data[i._data.length-1],n[0]),n.shift()),n=i._observe(n),a&&i._data.splice(i._skip,i._data.length),s=0;s<n.length;s++)i._data.push(n[s]);i._data.bind(u,i._changeHandler)}else i._data=i._observe(n);i._markOfflineUpdatesAsDirty(),i._storeData(),i._addRange(i._data),i._process(i._data),i._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var n=0;n<this._data.length;n++)this._data[n].parent&&(this._data[n].parent=c)},_storeData:function(n){function f(n){for(var t,i,u=[],r=0;r<n.length;r++)t=n.at(r),i=t.toJSON(),o&&t.items?i.items=f(t.items):(i.uid=t.uid,e&&(t.isNew()?i.__state__="create":t.dirty&&(i.__state__="update"))),u.push(i);return u}var t,u,i,r,o=this._isServerGrouped(),e=this.reader.model;if(null!=this.options.offlineStorage){for(t=f(this._data),u=[],i=0;i<this._destroyed.length;i++)r=this._destroyed[i].toJSON(),r.__state__="destroy",u.push(r);this.offlineData(t.concat(u)),n&&(this._pristineData=this.reader.reader?this.reader.reader._wrapDataAccessBase(t):this.reader._wrapDataAccessBase(t))}},_addRange:function(n,i){var f,r=this,e=t!==i?i:r._skip||0,u={data:n,pristineData:n.toJSON(),timestamp:r._timeStamp()};this._isGroupPaged()?(f=e+n.length,u.outerStart=e,u.outerEnd=f):f=e+r._flatData(n,!0).length,u.start=e,u.end=f,r._ranges.push(u),r._sortRanges(),r._isGroupPaged()&&(r._groupsFlat||(r._groupsFlat=[]),r._appendToGroupsFlat(u.data),r._updateOuterRangesLength())},_appendToGroupsFlat:function(n){for(var i=n.length,t=0;t<i;t++)this._groupsFlat.push(n[t])},_getGroupByUid:function(n){for(var i,r=this._groupsFlat.length,t=0;t<r;t++)if(i=this._groupsFlat[t],i.uid===n)return i},_sortRanges:function(){this._ranges.sort(function(n,t){return n.start-t.start})},error:function(n,t,i){this._dequeueRequest(),this.trigger(g,{}),this.trigger(ut,{xhr:n,status:t,errorThrown:i})},_params:function(n){var t=this,i=e({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate,groupPaging:!!t._groupPaging},n);return t.options.serverPaging||(delete i.take,delete i.skip,delete i.page,delete i.pageSize),t.options.serverGrouping?t.reader.model&&i.group&&(i.group=bt(i.group,t.reader.model)):delete i.group,t.options.serverFiltering?t.reader.model&&i.filter&&(i.filter=yr(i.filter,t.reader.model)):delete i.filter,t.options.serverSorting?t.reader.model&&i.sort&&(i.sort=bt(i.sort,t.reader.model)):delete i.sort,t.options.serverAggregates?t.reader.model&&i.aggregate&&(i.aggregate=bt(i.aggregate,t.reader.model)):delete i.aggregate,t.options.groupPaging||delete i.groupPaging,i},_queueRequest:function(n,i){var r=this;r._requestInProgress?r._pending={callback:w(i,r),options:n}:(r._requestInProgress=!0,r._pending=t,i())},_dequeueRequest:function(){var n=this;n._requestInProgress=!1,n._pending&&n._queueRequest(n._pending.options,n._pending.callback)},_handleCustomErrors:function(n){if(this.reader.errors){var t=this.reader.errors(n);if(t)return this.trigger(ut,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0}return!1},_shouldWrap:function(n){var t=this.reader.model;return!(!t||!n.length)&&!(n[0]instanceof t)},_observe:function(n){var i,t=this,r=t.reader.model;return t._shouldDetachObservableParents=!0,n instanceof v?(t._shouldDetachObservableParents=!1,t._shouldWrap(n)&&(n.type=t.reader.model,n.wrapAll(n,n))):(i=t.pageSize()&&!t.options.serverPaging?ht:v,n=new i(n,t.reader.model),n.parent=function(){return t.parent()}),t._isServerGrouped()&&nr(n,r),!(t._changeHandler&&t._data&&t._data instanceof v)||t.options.useRanges&&t.options.serverPaging?t._changeHandler=w(t._change,t):t._data.unbind(u,t._changeHandler),n.bind(u,t._changeHandler)},_updateTotalForAction:function(n,t){var i=this,r=parseInt(i._total,10);p(i._total)||(r=parseInt(i._pristineTotal,10)),"add"===n?r+=t.length:"remove"===n?r-=t.length:"itemchange"===n||"sync"===n||i.options.serverPaging?"sync"===n&&(r=i._pristineTotal=parseInt(i._total,10)):r=i._pristineTotal,i._total=r},_change:function(n){var r,f,u,t=this,i=n?n.action:"";if("remove"===i)for(r=0,f=n.items.length;r<f;r++)n.items[r].isNew&&n.items[r].isNew()||t._destroyed.push(n.items[r]);!t.options.autoSync||"add"!==i&&"remove"!==i&&"itemchange"!==i?(t._updateTotalForAction(i,n?n.items:[]),t._process(t._data,n)):(u=function(r){"sync"===r.action&&(t.unbind("change",u),t._updateTotalForAction(i,n.items))},t.first("change",u),t.sync())},_calculateAggregates:function(n,t){t=t||{};var i=new r(n),f=t.aggregate,u=t.filter;return u&&(i=i.filter(u)),i.aggregate(f)},_process:function(n,i){var e,r=this,f={};r.options.serverPaging!==!0&&(f.skip=r._skip,f.take=r._take||r._pageSize,f.skip===t&&r._page!==t&&r._pageSize!==t&&(f.skip=(r._page-1)*r._pageSize),r.options.useRanges&&(f.skip=r.currentRangeStart())),r.options.serverSorting!==!0&&(f.sort=r._sort),r.options.serverFiltering!==!0&&(f.filter=r._filter),r.options.serverGrouping!==!0&&(f.group=r._group),r.options.serverAggregates!==!0&&(f.aggregate=r._aggregate),r.options.serverGrouping&&r._clearEmptyGroups(n),f.groupPaging=r._groupPaging,e=r._isGroupPaged()&&i&&("page"===i.action||"expandGroup"===i.action||"collapseGroup"===i.action)?r._queryProcess(n,{aggregate:r._aggregate}):r._queryProcess(n,f),r.options.serverAggregates!==!0&&(r._aggregateResult=r._calculateAggregates(e.dataToAggregate||n,f)),r._setView(e,f,i),r._setFilterTotal(e.total,!1),i=i||{},i.items=i.items||r._view,r.trigger(u,i)},_setView:function(n,t,i){var f,u=this;u._isGroupPaged()&&!u._isServerGrouped()?!i||"page"!==i.action&&"expandGroup"!==i.action&&"collapseGroup"!==i.action?(u._ranges=[],f=new r(n.data),u._addRange(u._observe(n.data)),t.skip>n.data.length/t.take+1&&(t.skip=0),u.view(f.range(t.skip,t.take).toArray())):(u.view(n.data),u._updateOuterRangesLength()):u.view(n.data)},_clearEmptyGroups:function(n){for(var t,i=n.length-1;i>=0;i--)t=n[i],t.hasSubgroups?this._clearEmptyGroups(t.items):t.items&&!t.items.length&&or.apply(t.parent(),[i,1])},_queryProcess:function(n,t){return this.options.inPlaceSort?r.process(n,t,this.options.inPlaceSort):r.process(n,t)},_mergeState:function(i){var r=this;return i!==t&&(r._pageSize=i.pageSize,r._page=i.page,r._sort=i.sort,r._filter=i.filter,r._group=i.group,r._aggregate=i.aggregate,r._skip=r._currentRangeStart=i.skip,r._take=i.take,r._skip===t&&(r._skip=r._currentRangeStart=r.skip(),i.skip=r.skip()),r._take===t&&r._pageSize!==t&&(r._take=r._pageSize,i.take=r._take),i.sort&&(r._sort=i.sort=ft(i.sort),r._sortFields=du(i.sort)),i.filter&&(r._filter=i.filter=r.options.accentFoldingFiltering&&!n.isEmptyObject(i.filter)?n.extend({},k(i.filter),{accentFoldingFiltering:r.options.accentFoldingFiltering}):k(i.filter)),i.group&&(r._group=i.group=et(i.group)),i.aggregate&&(r._aggregate=i.aggregate=of(i.aggregate))),i},query:function(i){var f,r,e,o=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;return o||(this._data===t||0===this._data.length)&&!this._destroyed.length?(this.options.endless&&(r=i.pageSize-this.pageSize(),r>0?(r=this.pageSize(),i.page=i.pageSize/r,i.pageSize=r):(i.page=1,this.options.endless=!1)),this.read(this._mergeState(i))):(e=this.trigger(d,{type:"read"}),e||(this.trigger(st),i&&(i.groupPaging=this._groupPaging),f=this._queryProcess(this._data,this._mergeState(i)),this._setFilterTotal(f.total,!0),this._aggregateResult=this._calculateAggregates(f.dataToAggregate||this._data,i),this._setView(f,i),this.trigger(g,{type:"read"}),this.trigger(u,{items:f.data,action:i?i.action:""})),n.Deferred().resolve(e).promise())},_hasExpandedSubGroups:function(n){var t,i=!1,r=n.items?n.items.length:0;if(!n.hasSubgroups)return!1;for(t=0;t<r;t++)if(this._groupsState[n.items[t].uid]){i=!0;break}return i},_findGroupedRange:function(n,i,r,u,f){for(var e,c,y,a,l,v,h,o=this,p=n.length,s=0;s<p&&(e=n[s],!(r.taken>=r.take));s++)if(o._getGroupByUid(e.uid)||o._groupsFlat.push(e),o._groupsState[e.uid]){if(o._isServerGroupPaged()){if(e.hasSubgroups&&!e.subgroupCount)return o.getGroupSubGroupCount(e,r,u,f),o._fetchingGroupItems=!0,t;if(l=(e.subgroupCount||e.itemCount)+1,v=r.skip-r.skipped,a=!e.items||e.items.length-v<r.take-r.taken,!o._hasExpandedSubGroups(e)&&v>l){r.skipped+=l;continue}if(e.hasSubgroups&&(!e.items||a&&e.items.length<e.subgroupCount)||!e.hasSubgroups&&(!e.items||a&&e.items.length<e.itemCount))return o.getGroupItems(e,r,u,f),o._fetchingGroupItems=!0,t}if(r.includeParents&&r.skipped<r.skip?(r.skipped++,e.excludeHeader=!0):r.includeParents&&r.taken++,e.hasSubgroups&&e.items&&e.items.length)e.currentItems=[],u||(u=[]),u.push(e),o._findGroupedRange(e.items,e.currentItems,r,u,f),u.pop(),e.currentItems.length||r.taken>0?i.push(e):e.excludeHeader=!1;else{for(c=[],y=e.items.length,h=0;h<y;h++)if(r.skipped<r.skip)r.skipped++;else{if(r.taken>=r.take)break;c.push(e.items[h]),r.taken++}c.length||r.taken>0?(e.currentItems=c,i.push(e)):e.excludeHeader=!1}}else{if(r.skipped<r.skip){r.skipped++;continue}i.push(e),r.taken++}},getGroupItems:function(n,t,i,r){var h,s,c,e,o,u=this;n.items||(n.items=[]),h=n.items.length,s=u.take(),c=this._composeItemsFilter(n,i),e={page:f.floor((h||0)/(s||1))||1,pageSize:s,skip:h,take:s,filter:c,aggregate:u._aggregate,sort:u._sort},o=u.findSubgroups(n),o&&o.length&&(e.group=o,e.groupPaging=!0),clearTimeout(u._timeout),u._timeout=setTimeout(function(){u._queueRequest(e,function(){u.trigger(d,{type:"read"})?u._dequeueRequest():u.transport.read({data:e,success:u._groupItemsSuccessHandler(n,t.skip,u.take(),r),error:function(){var n=rt.call(arguments);u.error.apply(u,n)}})})},100)},getGroupSubGroupCount:function(n,t,i,r){var e,o,f,u=this;n.items||(n.items=[]),e=this._composeItemsFilter(n,i),o=this._group.map(function(n){return n.field}).indexOf(n.field),f={filter:e,group:[u._group[o+1]],groupPaging:!0,includeSubGroupCount:!0},clearTimeout(u._timeout),u._timeout=setTimeout(function(){u._queueRequest(f,function(){u.trigger(d,{type:"read"})?u._dequeueRequest():u.transport.read({data:f,success:u._subGroupCountSuccessHandler(n,t.skip,u.take(),r),error:function(){var n=rt.call(arguments);u.error.apply(u,n)}})})},100)},_subGroupCountSuccessHandler:function(n,t,i,r){var f,u=this;return r=h(r)?r:c,f=u.options.schema&&u.options.schema.total?u.options.schema.total:"Total",function(e){u._dequeueRequest(),u.trigger(g,{response:e,type:"read"}),u._fetchingGroupItems=!1,n.subgroupCount=e[f],u.range(t,i,r,"expandGroup")}},_groupItemsSuccessHandler:function(n,t,i,r){var f=this,e=f._timeStamp();return r=h(r)?r:c,function(o){var s,h,c=y.define(f.options.schema.model);for(f._dequeueRequest(),f.trigger(g,{response:o,type:"read"}),o=f.reader.parse(o),n.hasSubgroups?s=f.reader.groups(o):(s=f.reader.data(o),s=s.map(function(n){return new c(n)})),n.items.omitChangeEvent=!0,h=0;h<s.length;h++)n.items.push(s[h]);n.items.omitChangeEvent=!1,f._updateRangePristineData(n),f._fetchingGroupItems=!1,f._serverGroupsTotal+=s.length,f.range(t,i,r,"expandGroup"),(e>=f._currentRequestTimeStamp||!f._skipRequestsInProgress)&&f.trigger(u,{})}},findSubgroups:function(n){var t=this._group.map(function(n){return n.field}).indexOf(n.field);return this._group.slice(t+1,this._group.length)},_composeItemsFilter:function(n,t){var r,i=this.filter()||{logic:"and",filters:[]};if(i=e(!0,{},i),i.filters.push({field:n.field,operator:"eq",value:n.value}),t)for(r=0;r<t.length;r++)i.filters.push({field:t[r].field,operator:"eq",value:t[r].value});return i},_updateRangePristineData:function(n){for(var f,u,s,h,t,r,e=this,o=e._ranges,c=o.length,i=0;i<c;i++){for(s=o[i],h=s.data.length,t=[],r=0;r<h&&(u=s.data[r],t.push(r),!(u.uid===n.uid||u.hasSubgroups&&u.items.length&&e._containsSubGroup(u,n,t)));r++)t.pop();if(t.length){for(f=o[i].pristineData;t.length>1;)f=f[t.splice(0,1)[0]].items;f[t[0]]=e._cloneGroup(n);break}}},_containsSubGroup:function(n,t,i){var u,r,e=this,f=n.items.length;if(n.hasSubgroups&&f)for(r=0;r<f;r++){if(u=n.items[r],i.push(r),u.uid===t.uid)return!0;if(u.hasSubgroups&&u.items.length)return e._containsSubGroup(u,t,i);i.pop()}},_cloneGroup:function(n){var t=this;return n="function"==typeof n.toJSON?n.toJSON():n,n.items&&n.items.length&&(n.items=n.items.map(function(n){return t._cloneGroup(n)})),n},_setFilterTotal:function(n,i){var r=this;r.options.serverFiltering||(n!==t?r._total=n:i&&(r._total=r._data.length))},fetch:function(n){var i=this,t=function(t){t!==!0&&h(n)&&n.call(i)};return this._query().done(t)},_query:function(n){var t=this;return t.query(e({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},n))},next:function(n){var t=this,i=t.page(),r=t.total();if(n=n||{},i&&!(r&&i+1>t.totalPages()))return t._skip=t._currentRangeStart=i*t.take(),i+=1,n.page=i,t._query(n),i},prev:function(n){var t=this,i=t.page();if(n=n||{},i&&1!==i)return t._skip=t._currentRangeStart=t._skip-t.take(),i-=1,n.page=i,t._query(n),i},page:function(n){var r,u,i=this;return n!==t?(n=f.max(f.min(f.max(n,1),i.totalPages()),1),u=i.take(),i._isGroupPaged()?(n-=1,i.range(n*u,u,null,"page"),t):(i._query(i._pageableQueryOptions({page:n})),t)):(r=i.skip(),r!==t?f.round((r||0)/(i.take()||1))+1:t)},pageSize:function(n){var i=this;return n!==t?(i._query(i._pageableQueryOptions({pageSize:n,page:1})),t):i.take()},sort:function(n){var i=this;return n!==t?(i.trigger("sort"),i._query({sort:n}),t):i._sort},filter:function(n){var i=this;return n===t?i._filter:(i.trigger("reset"),i._query({filter:n,page:1}),t)},group:function(n){var i=this;return n!==t?(i._query({group:n}),t):i._group},getGroupsFlat:function(n){for(var t,i=[],r=0,u=n.length;r<u;r++)t=n[r],t.hasSubgroups&&(i=i.concat(this.getGroupsFlat(t.items))),i.push(t);return i},total:function(){return parseInt(this._total||0,10)},groupsTotal:function(n){var t=this;return t._group.length?t._isServerGrouped()?t._serverGroupsTotal?t._serverGroupsTotal:t._serverGroupsTotal=t.total():t._calculateGroupsTotal(t._ranges.length?t._ranges[0].data:[],n):t.total()},_calculateGroupsTotal:function(n,t,i,r){var e,o,f,u=this;if(i=i||"items",u._group.length&&n){for(e=0,o=n.length,f=0;f<o;f++)e+=u.groupCount(n[f],t,i,r);return u._groupsTotal=e,e}return u._groupsTotal=u._data.length},groupCount:function(n,t,i,r){var f=this,u=0;return n.hasSubgroups&&f._groupsState[n.uid]?((t&&!n.excludeHeader||r)&&(u+=1),n[i].forEach(function(n){u+=f.groupCount(n,t,i,r)})):f._groupsState[n.uid]?((t&&!n.excludeHeader||r)&&u++,u+=n[i]?n[i].length:0):u++,u},countGroupRange:function(n){for(var i=0,r=n.length,t=0;t<r;t++)i+=this.groupCount(n[t],!0);return i},aggregate:function(n){var i=this;return n!==t?(i._query({aggregate:n}),t):i._aggregate},aggregates:function(){var n=this._aggregateResult;return b(n)&&(n=this._emptyAggregates(this.aggregate())),n},_emptyAggregates:function(n){var i,t,r={};if(!b(n))for(i={},l(n)||(n=[n]),t=0;t<n.length;t++)i[n[t].aggregate]=0,r[n[t].field]=i;return r},_pageableQueryOptions:function(n){return n},_wrapInEmptyGroup:function(n){for(var i,t,u=this.group(),r=u.length-1,f=0;r>=f;r--)t=u[r],i={value:n.get?n.get(t.field):n[t.field],field:t.field,items:i?[i]:[n],hasSubgroups:!!i,aggregates:this._emptyAggregates(t.aggregates)};return i},totalPages:function(){var n=this,i=n.pageSize()||n.total(),t=n._isGroupPaged()?n.groupsTotal(!0):n.total();return f.ceil((t||0)/i)},inRange:function(n,t){var i=this,r=f.min(n+t,i.total());return!i.options.serverPaging&&i._data.length>0||i._findRange(n,r).length>0},lastRange:function(){var n=this._ranges;return n[n.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var n=this._ranges;return n.length&&n[0].data.length&&n[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=!1},_timeStamp:function(){return+new Date},range:function(n,i,r,u){var l,e,o,s,a;return this._currentRequestTimeStamp=this._timeStamp(),this._skipRequestsInProgress=!0,l=this._isGroupPaged()?this.groupsTotal(!0):this.total(),"expandGroup"!==u&&"collapseGroup"!==u||this._updateOuterRangesLength(),n=f.min(n||0,l),r=h(r)?r:c,e=this,o=f.max(f.floor(n/i),0)*i,s=f.min(o+i,l),a=e._findRange(n,f.min(n+i,l),r),!a.length&&0!==l||e._fetchingGroupItems?(e._isGroupPaged()&&(e._originalPageSkip=o,e._originalSize=s,o=f.max(f.floor(e._adjustPageSkip(n,i)/i),0)*i,s=f.min(o+i,l)),i===t||e._fetchingGroupItems||(e._isGroupPaged()&&!e._groupRangeExists(o,i)||!e._rangeExists(o,s)?e.prefetch(o,i,function(){n>o&&s<e.total()&&!e._rangeExists(s,f.min(s+i,e.total()))?e.prefetch(s,i,function(){e.range(n,i,r)}):e.range(n,i,r)}):o<n&&e.prefetch(s,i,function(){e.range(n,i,r)})),t):(e._processRangeData(a,n,i,e._originalPageSkip||o,e._originalSize||s,{action:u}),e._originalPageSkip=null,e._originalSize=null,r(),t)},_findRange:function(n,i,r){for(var u,e,b,w,nt,p,y,k,h,s,tt,it,f=this,a=f._ranges,l=[],c=f.options,et=c.serverSorting||c.serverPaging||c.serverFiltering||c.serverGrouping||c.serverAggregates,o={take:i-n,skip:n,skipped:0,taken:0,includeParents:!0},d=f._isGroupPaged(),ut=d?"outerStart":"start",rt=d?"outerEnd":"end",v=0,g=a.length;v<g;v++){if(u=a[v],d){if(u.outerStart>=i)return[];if(n>u.outerEnd){o.skipped+=u.outerEnd-(s||0),s=u.outerEnd;continue}if(t!==s&&s!=u.outerStart&&(o.skipped+=u.outerStart-s),o.skipped>o.skip)return[];for(t===s&&n>0&&u.start>0&&(o.skipped=u.outerStart),e=v;;){if(this._findGroupedRange(u.data,l,o,null,r),tt=f._calculateGroupsTotal(l,!0,"currentItems"),tt>=o.take)return l;if(f._fetchingGroupItems)return[];if(e++,!a[e]||a[e].outerStart!==u.outerEnd)break;u=a[e]}}else if(n>=u[ut]&&n<=u[rt]){for(h=0,e=v;e<g;e++)if(u=a[e],k=f._flatData(u.data,!0),k.length&&n+h>=u.start&&(nt=u.data,p=u.end,et||(c.inPlaceSort?y=f._queryProcess(u.data,{filter:f.filter()}):(it=er(f.group()||[]).concat(ft(f.sort()||[])),y=f._queryProcess(u.data,{sort:it,filter:f.filter()})),k=nt=y.data,y.total!==t&&(p=y.total)),b=0,n+h>u.start&&(b=n+h-u.start),w=k.length,p>i&&(w-=p-i),h+=w-b,l=f._mergeGroups(l,nt,b,w),i<=u.end&&h==i-n))return l;break}s=u.outerEnd}return[]},_getRangesMismatch:function(n){for(var t,u=this,f=u._ranges,i=0,r=0;;){if(t=f[r],!t||t.outerStart>n)break;t.outerEnd!=t.end&&(i=t.outerEnd-t.end),r++}return i},_mergeGroups:function(n,t,i,r){if(this._isServerGrouped()){var f,u=t.toJSON();return n.length&&(f=n[n.length-1]),yi(f,u,i,r),n.concat(u)}return n.concat(t.slice(i,r))},_processRangeData:function(n,i,r,u,e,o){var h,a,c,l,s=this;s._pending=t,s._skip=i>s.skip()&&!s._omitPrefetch?f.min(e,(s.totalPages()-1)*s.take()):u,s._currentRangeStart=i,s._take=r,h=s.options.serverPaging,a=s.options.serverSorting,c=s.options.serverFiltering,l=s.options.serverAggregates;try{s.options.serverPaging=!0,s._isServerGrouped()||s.group()&&s.group().length||(s.options.serverSorting=!0),s.options.serverFiltering=!0,s.options.serverPaging=!0,s.options.serverAggregates=!0,h&&(s._detachObservableParents(),s._data=n=s._observe(n)),s._process(n,o)}finally{s.options.serverPaging=h,s.options.serverSorting=a,s.options.serverFiltering=c,s.options.serverAggregates=l}},skip:function(){var n=this;return n._skip===t?n._page!==t?(n._page-1)*(n.take()||1):t:n._skip},currentRangeStart:function(){return this._currentRangeStart||0},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(n,t,i,r){var f=this,e=f._timeStamp();return function(o){var c,l,s,a=!1,h={start:n,end:t,data:[],timestamp:f._timeStamp()};if(f._dequeueRequest(),f.trigger(g,{response:o,type:"read"}),o=f.reader.parse(o),s=f._readData(o),s.length){for(c=0,l=f._ranges.length;c<l;c++)if(f._ranges[c].start===n){a=!0,h=f._ranges[c],f._isGroupPaged()||(h.pristineData=s,h.data=f._observe(s),h.end=h.start+f._flatData(h.data,!0).length,f._sortRanges());break}a||f._addRange(f._observe(s),n)}f._total=f.reader.total(o),(r||e>=f._currentRequestTimeStamp||!f._skipRequestsInProgress)&&(i&&s.length?i():f.trigger(u,{}))}},prefetch:function(n,i,r){var u=this,e=f.min(n+i,u.total()),o={take:i,skip:n,page:n/i+1,pageSize:i,sort:u._sort,filter:u._filter,group:u._group,aggregate:u._aggregate};return u._isGroupPaged()&&!u._isServerGrouped()&&u._groupRangeExists(n,e)?(r&&r(),t):(u._isServerGroupPaged()&&!u._groupRangeExists(n,e)||!u._rangeExists(n,e)?(clearTimeout(u._timeout),u._timeout=setTimeout(function(){u._queueRequest(o,function(){u.trigger(d,{type:"read"})?u._dequeueRequest():(u._omitPrefetch&&u.trigger(st),u.transport.read({data:u._params(o),success:u._prefetchSuccessHandler(n,e,r),error:function(){var n=rt.call(arguments);u.error.apply(u,n)}}))})},100)):r&&r(),t)},_multiplePrefetch:function(n,t,i){var r=this,u=f.min(n+t,r.total()),e={take:t,skip:n,page:n/t+1,pageSize:t,sort:r._sort,filter:r._filter,group:r._group,aggregate:r._aggregate};r._rangeExists(n,u)?i&&i():r.trigger(d,{type:"read"})||r.transport.read({data:r._params(e),success:r._prefetchSuccessHandler(n,u,i,!0)})},_adjustPageSkip:function(n,t){var i,u,r=this,o=r._getPrevRange(n),e=r.total();if(o){if(u=r._getRangesMismatch(n),!u)return n;n-=u}if(i=f.max(f.floor(n/t),0)*t,i>e)for(;;)if(i-=t,i<e)break;return i},_getNextRange:function(n){for(var u=this,i=u._ranges,t=0,r=i.length;t<r;t++)if(i[t].start<=n&&i[t].end>=n)return i[t]},_getPrevRange:function(n){for(var r,f=this,i=f._ranges,u=i.length,t=u-1;t>=0;t--)if(i[t].outerStart<=n){r=i[t];break}return r},_rangeExists:function(n,t){for(var f=this,r=f._ranges,i=0,u=r.length;i<u;i++)if(r[i].start<=n&&r[i].end>=t)return!0;return!1},_groupRangeExists:function(n,t){var r,o,i,f=this,s=f._ranges,u=0,e=f.groupsTotal(!0);for(t>e&&!f._isServerGrouped()&&(t=e),r=0,o=s.length;r<o;r++)i=s[r],i.outerStart<=n&&i.outerEnd>=n?u+=i.outerEnd-n:i.outerStart<=t&&i.outerEnd>=t&&(u+=t-i.outerStart);return u>=t-n},_getCurrentRangeSpan:function(){for(var n,r=this,f=r._ranges,t=r.currentRangeStart(),o=t+(r.take()||0),u=[],e=f.length,i=0;i<e;i++)n=f[i],(n.start<=t&&n.end>=t||n.start>=t&&n.start<=o)&&u.push(n);return u},_removeModelFromRanges:function(n){for(var u,i=this,t=0,r=this._ranges.length;t<r;t++)u=this._ranges[t],i._removeModelFromRange(u,n);i._updateRangesLength()},_removeModelFromRange:function(n,t){this._eachItem(n.data,function(n){var i,r;if(n)for(i=0;i<n.length;i++)if(r=n[i],r.uid&&r.uid==t.uid){[].splice.call(n,i,1);break}})},_insertModelInRange:function(n,t){for(var i,r=this,f=r._ranges||[],e=f.length,u=0;u<e;u++)if(i=f[u],i.start<=n&&i.end>=n){r._getByUid(t.uid,i.data)||(r._isServerGrouped()?i.data.splice(n,0,r._wrapInEmptyGroup(t)):i.data.splice(n,0,t));break}r._updateRangesLength()},_updateRangesLength:function(){for(var o,n,e=this,s=e._ranges||[],h=s.length,r=!1,i=0,u=0,t=0;t<h;t++)n=s[t],o=e._isGroupPaged()?n.data.length:e._flatData(n.data,!0).length,u=o-f.abs(n.end-n.start),r||0===u?r&&(n.start+=i,n.end+=i):(r=!0,i=u,n.end+=i)},_updateOuterRangesLength:function(){for(var n,t,f,i=this,e=i._ranges||[],o=e.length,u=0,r=0;r<o;r++)n=e[r],f=i._isGroupPaged()?i._calculateGroupsTotal(n.data,!0,"items",!0):i._flatData(n.data,!0).length,t?(t.end!=n.start&&(u=n.start-t.end),n.outerStart=t.outerEnd+u,u=0):n.outerStart=n.start,n.outerEnd=n.outerStart+f,t=n}}),ei={},ei.create=function(t,r,u){var s,f=t.transport?n.extend({},t.transport):null;return f?(f.read=typeof f.read===o?{url:f.read}:f.read,"jsdo"===t.type&&(f.dataSource=u),t.type&&(i.data.transports=i.data.transports||{},i.data.schemas=i.data.schemas||{},i.data.transports[t.type]?tt(i.data.transports[t.type])?f=e(!0,{},i.data.transports[t.type],f):s=new i.data.transports[t.type](e(f,{data:r})):i.logToConsole("Unknown DataSource transport type '"+t.type+"'.\nVerify that registration scripts for this type are included after Kendo UI on the page.","warn"),t.schema=e(!0,{},i.data.schemas[t.type],t.schema)),s||(s=h(f.read)?f:new ti(f))):s=new fi({data:t.data||[]}),s},a.create=function(n){(l(n)||n instanceof v)&&(n={data:n});var o,p,s,r=n||{},f=r.data,u=r.fields,c=r.table,h=r.select,y={};if(f||!u||r.transport||(c?f=ff(c,u):h&&(f=ku(h,u),r.group===t&&f[0]&&f[0].optgroup!==t&&(r.group="optgroup"))),i.data.Model&&u&&(!r.schema||!r.schema.model)){for(o=0,p=u.length;o<p;o++)s=u[o],s.type&&(y[s.field]=s);b(y)||(r.schema=e(!0,r.schema,{model:{fields:y}}))}return r.data=f,h=null,r.select=null,c=null,r.table=null,r instanceof a?r:new a(r)},ui=y.define({idField:"id",init:function(n){var f,t=this,r=t.hasChildren||n&&n.hasChildren,s="items",u={};i.data.Model.fn.init.call(t,n),typeof t.children===o&&(s=t.children),u={schema:{data:s,model:{hasChildren:r,id:t.idField,fields:t.fields}}},typeof t.children!==o&&e(u,t.children),u.data=n,r||(r=u.schema.data),typeof r===o&&(r=i.getter(r)),h(r)&&(f=r.call(t,t),t.hasChildren=(!f||0!==f.length)&&!!f),t._childrenOptions=u,t.hasChildren&&t._initChildren(),t._loaded=!(!n||!n._loaded)},_initChildren:function(){var t,i,r,n=this;n.children instanceof it||(t=n.children=new it(n._childrenOptions),i=t.transport,r=i.parameterMap,i.parameterMap=function(t,i){return t[n.idField||"id"]=n.id,r&&(t=r.call(n,t,i)),t},t.parent=function(){return n},t.bind(u,function(t){t.node=t.node||n,n.trigger(u,t)}),t.bind(ut,function(t){var i=n.parent();i&&(t.node=t.node||n,i.trigger(ut,t))}),n._updateChildrenField())},append:function(n){this._initChildren(),this.loaded(!0),this.children.add(n)},hasChildren:!1,level:function(){for(var n=this.parentNode(),t=0;n&&n.parentNode;)t++,n=n.parentNode?n.parentNode():null;return t},_updateChildrenField:function(){var n=this._childrenOptions.schema.data;this[n||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0,this._updateChildrenField()},load:function(){var i,e,r={},f="_query";return this.hasChildren?(this._initChildren(),i=this.children,r[this.idField||"id"]=this.id,this._loaded||(i._data=t,f="read"),i.one(u,w(this._childrenLoaded,this)),this._matchFilter&&(r.filter={field:"_matchFilter",operator:"eq",value:!0}),e=i[f](r)):this.loaded(!0),e||n.Deferred().resolve().promise()},parentNode:function(){var n=this.parent();return n.parent()},loaded:function(n){return n===t?this._loaded:(this._loaded=n,t)},shouldSerialize:function(n){return y.fn.shouldSerialize.call(this,n)&&"children"!==n&&"_loaded"!==n&&"hasChildren"!==n&&"_childrenOptions"!==n}}),it=a.extend({init:function(n){var t=ui.define({children:n});n.filter&&!n.serverFiltering&&(this._hierarchicalFilter=n.filter,n.filter=null),a.fn.init.call(this,e(!0,{},{schema:{modelBase:t,model:t}},n)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var n=this;n._data.bind(ut,function(t){n.trigger(ut,t)})},read:function(n){var t=a.fn.read.call(this,n);return this._hierarchicalFilter&&(this._data&&this._data.length>0?this.filter(this._hierarchicalFilter):(this.options.filter=this._hierarchicalFilter,this._filter=k(this.options.filter),this._hierarchicalFilter=null)),t},remove:function(n){var r,t=n.parentNode(),i=this;return t&&t._initChildren&&(i=t.children),r=a.fn.remove.call(i,n),t&&!i.data().length&&(t.hasChildren=!1),r},success:br("success"),data:br("data"),insert:function(n,t){var i=this.parent();return i&&i._initChildren&&(i.hasChildren=!0,i._initChildren()),a.fn.insert.call(this,n,t)},filter:function(n){return n===t?this._filter:(!this.options.serverFiltering&&this._markHierarchicalQuery(n)&&(n={logic:"or",filters:[n,{field:"_matchFilter",operator:"equals",value:!0}]}),this.trigger("reset"),this._query({filter:n,page:1}),t)},_markHierarchicalQuery:function(t){var i,s,e,u,f,o=this.options.accentFoldingFiltering;return t=o?n.extend({},k(t),{accentFoldingFiltering:o}):k(t),t&&0!==t.filters.length?(i=r.filterExpr(t),e=i.fields,u=i.operators,s=f=Function("d, __f, __o","return "+i.expression),(e.length||u.length)&&(f=function(n){return s(n,e,u)}),this._updateHierarchicalFilter(f),!0):(this._updateHierarchicalFilter(function(){return!0}),!1)},_updateHierarchicalFilter:function(n){for(var t,u=this._data,r=!1,i=0;i<u.length;i++)t=u[i],t.hasChildren?(t._matchFilter=t.children._updateHierarchicalFilter(n),t._matchFilter||(t._matchFilter=n(t))):t._matchFilter=n(t),t._matchFilter&&(r=!0);return r},_find:function(n,t){var u,e,i,f,r=this._data;if(r){if(i=a.fn[n].call(this,t))return i;for(r=this._flatData(this._data),u=0,e=r.length;u<e;u++)if(f=r[u].children,f instanceof it&&(i=f[n](t)))return i}},get:function(n){return this._find("get",n)},getByUid:function(n){return this._find("getByUid",n)}}),it.create=function(n){n=n&&n.push?{data:n}:n;var t=n||{},i=t.data,u=t.fields,r=t.list;return i&&i._dataSource?i._dataSource:(i||!u||t.transport||r&&(i=iu(r,u)),t.data=i,t instanceof it?t:new it(t))},si=i.Observable.extend({init:function(n,t,r){i.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=n,this.prefetch=!r;var u=this;n.bind("change",function(){u._change()}),n.bind("reset",function(){u._reset()}),this._syncWithDataSource(),this.setViewSize(t)},setViewSize:function(n){this.viewSize=n,this._recalculate()},at:function(n){var i=this.pageSize,r=!0;return n>=this.total()?(this.trigger("endreached",{index:n}),null):this.useRanges?this.useRanges?((n<this.dataOffset||n>=this.skip+i)&&(r=this.range(Math.floor(n/i)*i)),n===this.prefetchThreshold&&this._prefetch(),n===this.midPageThreshold?this.range(this.nextMidRange,!0):n===this.nextPageThreshold?this.range(this.nextFullRange):n===this.pullBackThreshold&&this.range(this.offset===this.skip?this.previousMidRange:this.previousFullRange),r?this.dataSource.at(n-this.dataOffset):(this.trigger("endreached",{index:n}),null)):t:this.dataSource.view()[n]},indexOf:function(n){return this.dataSource.data().indexOf(n)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var t=this,n=t.pageSize,i=t.skip-t.viewSize+n,r=f.max(f.floor(i/n),0)*n;this.offset=i,this.dataSource.prefetch(r,n,function(){t._goToRange(i,!0)})},range:function(n,t){if(this.offset===n)return!0;var r=this,i=this.pageSize,e=f.max(f.floor(n/i),0)*i,u=this.dataSource;return t&&(e+=i),u.inRange(n,i)?(this.offset=n,this._recalculate(),this._goToRange(n),!0):!this.prefetch||(u.prefetch(e,i,function(){r.offset=n,r._recalculate(),r._goToRange(n,!0)}),!1)},syncDataSource:function(){var n=this.offset;this.offset=null,this.range(n)},destroy:function(){this.unbind()},_prefetch:function(){var r=this,n=this.pageSize,t=this.skip+n,i=this.dataSource;i.inRange(t,n)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:t,take:n}),i.prefetch(t,n,function(){r._prefetching=!1,r.trigger("prefetched",{skip:t,take:n})}))},_goToRange:function(n,t){this.offset===n&&(this.dataOffset=n,this._expanding=t,this.dataSource.range(n,this.pageSize),this.dataSource.enableRequestsInProgress())},_reset:function(){this._syncPending=!0},_change:function(){var n=this.dataSource;this.length=this.useRanges?n.lastRange().end:n.view().length,this._syncPending&&(this._syncWithDataSource(),this._recalculate(),this._syncPending=!1,this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var n=this.dataSource;this._firstItemUid=n.firstItemUid(),this.dataOffset=this.offset=n.skip()||0,this.pageSize=n.pageSize(),this.useRanges=n.options.serverPaging},_recalculate:function(){var t=this.pageSize,r=this.offset,i=this.viewSize,n=Math.ceil(r/t)*t;this.skip=n,this.midPageThreshold=n+t-1,this.nextPageThreshold=n+i-1,this.prefetchThreshold=n+Math.floor(t/3*2),this.pullBackThreshold=this.offset-1,this.nextMidRange=n+t-i,this.nextFullRange=n,this.previousMidRange=r-i,this.previousFullRange=n-t}}),pr=i.Observable.extend({init:function(n,t){var r=this;i.Observable.fn.init.call(r),this.dataSource=n,this.batchSize=t,this._total=0,this.buffer=new si(n,3*t),this.buffer.bind({endreached:function(n){r.trigger("endreached",{index:n.index})},prefetching:function(n){r.trigger("prefetching",{skip:n.skip,take:n.take})},prefetched:function(n){r.trigger("prefetched",{skip:n.skip,take:n.take})},reset:function(){r._total=0,r.trigger("reset")},resize:function(){r._total=Math.ceil(this.length/r.batchSize),r.trigger("resize",{total:r.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(n){var r,i,t=this.buffer,f=n*this.batchSize,e=this.batchSize,u=[];for(t.offset>f&&t.at(t.offset-1),i=0;i<e&&(r=t.at(f+i),null!==r);i++)u.push(r);return u},total:function(){return this._total},destroy:function(){this.buffer.destroy(),this.unbind()}}),e(!0,i.data,{readers:{json:ci},Query:r,DataSource:a,HierarchicalDataSource:it,Node:ui,ObservableObject:s,ObservableArray:v,LazyObservableArray:ht,LocalTransport:fi,RemoteTransport:ti,Cache:ot,DataReader:ci,Model:y,Buffer:si,BatchBuffer:pr})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.popup.min",["kendo.core.min"],n)}(function(){return function(n,t){function rt(t,i){return!(!t||!i)&&(t===i||n.contains(t,i))}var ht,b,et,vt,i=window.kendo,k=i.ui,it=k.Widget,kt=i.Class,r=i.support,o=i.getOffset,e=i._outerWidth,f=i._outerHeight,ut="open",ft="close",bt="deactivate",lt="activate",s="center",yt="left",v="right",p="top",y="bottom",a="absolute",d="hidden",tt="body",nt="location",l="position",at="visible",wt="effects",pt="k-state-active",w="k-state-border",ni=/k-state-border-(\w+)/,ot=".k-picker-wrap, .k-dropdown-wrap, .k-link",gt="down",g=n(document.documentElement),ti=n.proxy,ri=n(window),ct="scroll",ii=r.transitions.css,st=ii+"transform",u=n.extend,c=".kendoPopup",h=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],dt=it.extend({init:function(t,f){var o,e=this;f=f||{},f.isRtl&&(f.origin=f.origin||y+" "+v,f.position=f.position||p+" "+v),it.fn.init.call(e,t,f),t=e.element,f=e.options,e.collisions=f.collision?f.collision.split(" "):[],e.downEvent=i.applyEventMap(gt,i.guid()),1===e.collisions.length&&e.collisions.push(e.collisions[0]),o=n(e.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),f.appendTo=n(n(f.appendTo)[0]||o[0]||document.body),e.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!f.isRtl).css({position:a}).appendTo(f.appendTo).attr("aria-hidden",!0).on("mouseenter"+c,function(){e._hovered=!0}).on("wheel"+c,function(t){var r=n(t.target).find(".k-list"),i=r.parent();r.length&&r.is(":visible")&&(0===i.scrollTop()&&t.originalEvent.deltaY<0||i.scrollTop()===i.prop("scrollHeight")-i.prop("offsetHeight")&&t.originalEvent.deltaY>0)&&t.preventDefault()}).on("mouseleave"+c,function(){e._hovered=!1}),e.wrapper=n(),f.animation===!1&&(f.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),u(f.animation.open,{complete:function(){e.wrapper.css({overflow:at}),e._activated=!0,e._trigger(lt)}}),u(f.animation.close,{complete:function(){e._animationClose()}}),e._mousedownProxy=function(n){e._mousedown(n)},e._resizeProxy=r.mobileOS.android?function(n){setTimeout(function(){e._resize(n)},600)}:function(n){e._resize(n)},f.toggleTarget&&n(f.toggleTarget).on(f.toggleEvent+c,n.proxy(e.toggle,e))},events:[ut,lt,ft,bt],options:{name:"Popup",toggleEvent:"click",origin:y+" "+yt,position:p+" "+yt,anchor:tt,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},_animationClose:function(){var n=this,t=n.wrapper.data(nt);n.wrapper.hide(),t&&n.wrapper.css(t),n.options.anchor!=tt&&n._hideDirClass(),n._closing=!1,n._trigger(bt)},destroy:function(){var f,t=this,r=t.options,u=t.element.off(c);it.fn.destroy.call(t),r.toggleTarget&&n(r.toggleTarget).off(c),r.modal||(g.off(t.downEvent,t._mousedownProxy),t._toggleResize(!1)),i.destroy(t.element.children()),u.removeData(),r.appendTo[0]===document.body&&(f=u.parent(".k-animation-container"),f[0]?f.remove():u.remove())},open:function(u,f){var v,c,e=this,b={isFixed:!isNaN(parseInt(f,10)),x:u,y:f},o=e.element,s=e.options,w=n(s.anchor),y=o[0]&&o.hasClass("km-widget");if(!e.visible()){if(s.copyAnchorStyles&&(y&&"font-size"==h[0]&&h.shift(),o.css(i.getComputedStyles(w[0],h))),o.data("animating")||e._trigger(ut))return;e._activated=!1,s.modal||(g.off(e.downEvent,e._mousedownProxy).on(e.downEvent,e._mousedownProxy),e._toggleResize(!1),e._toggleResize(!0)),e.wrapper=c=i.wrap(o,s.autosize).css({overflow:d,display:"block",position:a}).attr("aria-hidden",!1),r.mobileOS.android&&c.css(st,"translatez(0)"),c.css(l),n(s.appendTo)[0]==document.body&&c.css(p,"-10000px"),e.flipped=e._position(b),v=e._openAnimation(),s.anchor!=tt&&e._showDirClass(v),o.is(":visible")||o.data("olddisplay")!==t||(o.show(),o.data("olddisplay",o.css("display")),o.hide()),o.data(wt,v.effects).kendoStop(!0).kendoAnimate(v).attr("aria-hidden",!1)}},_location:function(t){var u,s,o=this,f=o.element,e=o.options,v=n(e.anchor),c=f[0]&&f.hasClass("km-widget");return e.copyAnchorStyles&&(c&&"font-size"==h[0]&&h.shift(),f.css(i.getComputedStyles(v[0],h))),o.wrapper=u=i.wrap(f,e.autosize).css({overflow:d,display:"block",position:a}),r.mobileOS.android&&u.css(st,"translatez(0)"),u.css(l),n(e.appendTo)[0]==document.body&&u.css(p,"-10000px"),o._position(t||{}),s=u.offset(),{width:i._outerWidth(u),height:i._outerHeight(u),left:s.left,top:s.top}},_openAnimation:function(){var n=u(!0,{},this.options.animation.open);return n.effects=i.parseEffects(n.effects,this.flipped),n},_hideDirClass:function(){var u=n(this.options.anchor),r=((u.attr("class")||"").match(ni)||["","down"])[1],t=w+"-"+r;u.removeClass(t).children(ot).removeClass(pt).removeClass(t),this.element.removeClass(w+"-"+i.directions[r].reverse)},_showDirClass:function(t){var u=t.effects.slideIn?t.effects.slideIn.direction:"down",r=w+"-"+u;n(this.options.anchor).addClass(r).children(ot).addClass(pt).addClass(r),this.element.addClass(w+"-"+i.directions[u].reverse)},position:function(){this.visible()&&(this.flipped=this._position())},toggle:function(){var n=this;n[n.visible()?ft:ut]()},visible:function(){return this.element.is(":"+at)},close:function(r){var h,e,o,s,f=this,c=f.options;if(f.visible()){if(h=f.wrapper[0]?f.wrapper:i.wrap(f.element).hide(),f._toggleResize(!1),f._closing||f._trigger(ft))return f._toggleResize(!0),t;f.element.find(".k-popup").each(function(){var i=n(this),t=i.data("kendoPopup");t&&t.close(r)}),g.off(f.downEvent,f._mousedownProxy),r?e={hide:!0,effects:{}}:(e=u(!0,{},c.animation.close),o=f.element.data(wt),s=e.effects,!s&&!i.size(s)&&o&&i.size(o)&&(e.effects=o,e.reverse=!0),f._closing=!0),f.element.kendoStop(!0).attr("aria-hidden",!0),h.css({overflow:d}).attr("aria-hidden",!0),f.element.kendoAnimate(e),r&&f._animationClose()}},_trigger:function(n){return this.trigger(n,{type:n})},_resize:function(n){var t=this;r.resize.indexOf(n.type)!==-1?(clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout(function(){t._position(),t._resizeTimeout=null},50)):(!t._hovered||t._activated&&t.element.hasClass("k-list-container"))&&t.close()},_toggleResize:function(n){var i=n?"on":"off",t=r.resize;r.mobileOS.ios||r.mobileOS.android||r.browser.safari||(t+=" "+ct),n&&!this.scrollableParents&&(this.scrollableParents=this._scrollableParents()),this.scrollableParents&&this.scrollableParents.length&&this.scrollableParents[i](ct,this._resizeProxy),ri[i](t,this._resizeProxy)},_mousedown:function(t){var f=this,h=f.element[0],o=f.options,c=n(o.anchor)[0],e=o.toggleTarget,u=i.eventTarget(t),r=n(u).closest(".k-popup"),s=r.parent().parent(".km-shim").length;r=r[0],!s&&r&&r!==f.element[0]||"popover"!==n(t.target).closest("a").data("rel")&&(rt(h,u)||rt(c,u)||e&&rt(n(e)[0],u)||f.close())},_fit:function(n,t,i){var r=0;return n+t>i&&(r=i-(n+t)),n<0&&(r=-n),r},_flip:function(n,t,i,r,u,f,e){var o=0;return e=e||t,f!==u&&f!==s&&u!==s&&(n+e>r&&(o+=-(i+t)),n+o<0&&(o+=i+t)),o},_scrollableParents:function(){return n(this.options.anchor).parentsUntil("body").filter(function(n,t){return i.isScrollable(t)})},_position:function(t){var it,at,p,bt,ct,d,ft,gt,ut,w,dt,k,c,lt,pt,tt,yt,h=this,vt=h.element,s=h.wrapper,v=h.options,rt=n(v.viewport),b=r.zoomLevel(),kt=!!(rt[0]==window&&window.innerWidth&&b<=1.02),y=n(v.anchor),ht=v.origin.toLowerCase().split(" "),st=v.position.toLowerCase().split(" "),et=h.collisions,g=10002,ot=0,wt=document.documentElement;if(ct=v.viewport===window?{top:window.pageYOffset||document.documentElement.scrollTop||0,left:window.pageXOffset||document.documentElement.scrollLeft||0}:rt.offset(),kt?(d=window.innerWidth,ft=window.innerHeight):(d=rt.width(),ft=rt.height()),kt&&wt.scrollHeight-wt.clientHeight>0&&(gt=v.isRtl?-1:1,d-=gt*i.support.scrollbar()),it=y.parents().filter(s.siblings()),it[0])if(p=Math.max(+it.css("zIndex"),0))g=p+10;else for(at=y.parentsUntil(it),bt=at.length;ot<bt;ot++)p=+n(at[ot]).css("zIndex"),p&&g<p&&(g=p+10);return s.css("zIndex",g),s.css(t&&t.isFixed?{left:t.x,top:t.y}:h._align(ht,st)),ut=o(s,l,y[0]===s.offsetParent()[0]),w=o(s),dt=y.offsetParent().parent(".k-animation-container,.k-popup,.k-group"),dt.length&&(ut=o(s,l,!0),w=o(s)),w.top-=ct.top,w.left-=ct.left,h.wrapper.data(nt)||s.data(nt,u({},ut)),k=u({},w),c=u({},ut),lt=v.adjustSize,"fit"===et[0]&&(c.top+=h._fit(k.top,f(s)+lt.height,ft/b)),"fit"===et[1]&&(c.left+=h._fit(k.left,e(s)+lt.width,d/b)),pt=u({},c),tt=f(vt),yt=f(s),!s.height()&&tt&&(yt+=tt),"flip"===et[0]&&(c.top+=h._flip(k.top,tt,f(y),ft/b,ht[0],st[0],yt)),"flip"===et[1]&&(c.left+=h._flip(k.left,e(vt),e(y),d/b,ht[1],st[1],e(s))),vt.css(l,a),s.css(c),c.left!=pt.left||c.top!=pt.top},_align:function(t,i){var a,c=this,l=c.wrapper,p=n(c.options.anchor),tt=t[0],nt=t[1],g=i[0],k=i[1],ut=o(p),rt=n(c.options.appendTo),it=e(l),b=f(l)||f(l.children().first()),w=e(p),d=f(p),r=ut.top,u=ut.left,h=Math.round;return rt[0]!=document.body&&(a=o(rt),r-=a.top,u-=a.left),tt===y&&(r+=d),tt===s&&(r+=h(d/2)),g===y&&(r-=b),g===s&&(r-=h(b/2)),nt===v&&(u+=w),nt===s&&(u+=h(w/2)),k===v&&(u-=it),k===s&&(u-=h(it/2)),{top:r,left:u}}});k.plugin(dt),ht=i.support.stableSort,b="kendoTabKeyTrap",et="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]",vt=kt.extend({init:function(t){this.element=n(t),this.element.autoApplyNS(b)},trap:function(){this.element.on("keydown",ti(this._keepInTrap,this))},removeTrap:function(){this.element.kendoDestroy(b)},destroy:function(){this.element.kendoDestroy(b),this.element=t},shouldTrap:function(){return!0},_keepInTrap:function(n){var r,i,t;9===n.which&&this.shouldTrap()&&!n.isDefaultPrevented()&&(r=this._focusableElements(),i=this._sortFocusableElements(r),t=this._nextFocusable(n,i),this._focus(t),n.preventDefault())},_focusableElements:function(){var t=this.element.find(et).filter(function(t,i){return i.tabIndex>=0&&n(i).is(":visible")&&!n(i).is("[disabled]")});return this.element.is("[tabindex]")&&t.push(this.element[0]),t},_sortFocusableElements:function(n){var i,t;return ht?i=n.sort(function(n,t){return n.tabIndex-t.tabIndex}):(t="__k_index",n.each(function(n,i){i.setAttribute(t,n)}),i=n.sort(function(n,i){return n.tabIndex===i.tabIndex?parseInt(n.getAttribute(t),10)-parseInt(i.getAttribute(t),10):n.tabIndex-i.tabIndex}),n.removeAttr(t)),i},_nextFocusable:function(n,t){var r=t.length,i=t.index(n.target);return t.get((i+(n.shiftKey?-1:1))%r)},_focus:function(n){return"IFRAME"==n.nodeName?(n.contentWindow.document.body.focus(),t):(n.focus(),"INPUT"==n.nodeName&&n.setSelectionRange&&this._haveSelectionRange(n)&&n.setSelectionRange(0,n.value.length),t)},_haveSelectionRange:function(n){var t=n.type.toLowerCase();return"text"===t||"search"===t||"url"===t||"tel"===t||"password"===t}}),k.Popup.TabKeyTrap=vt}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.list.min",["kendo.data.min","kendo.popup.min"],n)}(function(){return function(n,t){function h(n,i){return n!==t&&""!==n&&null!==n&&("boolean"===i?("boolean"!=typeof n&&(n="true"===n.toLowerCase()),n=!!n):"number"===i?n=+n:"string"===i&&(n=""+n)),n}function o(n){return n[n.length-1]}function b(n){var t=n.selectedIndex;return t>-1?n.options[t]:{}}function ii(n,t){var u,f,i,r,h=t.length,o=n.length,e=[],s=[];if(o)for(i=0;i<o;i++){for(u=n[i],f=!1,r=0;r<h;r++)if(u===t[r]){f=!0,e.push({index:i,item:u});break}f||s.push(u)}return{changed:e,unchanged:s}}function ct(t){return!(!t||n.isEmptyObject(t))&&!(t.filters&&!t.filters.length)}function w(t,i){var u,r=!1;return t.filters&&(u=n.grep(t.filters,function(n){return r=w(n,i),n.filters?n.filters.length:n.field!=i}),r||t.filters.length===u.length||(r=!0),t.filters=u),r}var s,tt,i=window.kendo,v=i.ui,st=i._outerHeight,nt=/^\d+(\.\d+)?%$/i,c=v.Widget,f=i.keys,e=i.support,gt=i.htmlEncode,rt=i._activeElement,yt=i._outerWidth,dt=i.data.ObservableArray,y="id",u="change",pt="k-state-focused",k="k-state-hover",lt="k-i-loading",at=".k-group-header",wt=".k-item",fi="_label",kt="open",bt="close",p="cascade",g="select",ut="selected",it="requestStart",vt="requestEnd",oi="blur",ui="focus",ri="focusout",a=n.extend,r=n.proxy,ei=n.isArray,d=e.browser,ht="k-hidden",ot="width",ft=d.msie,ti=ft&&d.version<9,ni=/"/g,et={ComboBox:["DropDownList","MultiColumnComboBox"],DropDownList:["ComboBox","MultiColumnComboBox"],MultiColumnComboBox:["ComboBox","DropDownList"]},l=i.ui.DataBoundWidget.extend({init:function(t,u){var e,f=this,o=f.ns;c.fn.init.call(f,t,u),t=f.element,u=f.options,f._isSelect=t.is(g),f._isSelect&&f.element[0].length&&(u.dataSource||(u.dataTextField=u.dataTextField||"text",u.dataValueField=u.dataValueField||"value")),f.ul=n('<ul unselectable="on" class="k-list k-reset"/>').attr({tabIndex:-1,"aria-hidden":!0}),f.list=n("<div class='k-list-container'/>").append(f.ul).on("mousedown"+o,r(f._listMousedown,f)),e=t.attr(y),e||(e=i.guid()),f.list.attr(y,e+"-list"),f.ul.attr(y,e+"_listbox"),u.columns&&u.columns.length&&(f.ul.removeClass("k-list").addClass("k-grid-list"),f._columnsHeader()),f._header(),f._noData(),f._footer(),f._accessors(),f._initValue()},options:{valuePrimitive:!1,footerTemplate:"",headerTemplate:"",noDataTemplate:!0,messages:{noData:"No data found.",clear:"clear"}},setOptions:function(n){c.fn.setOptions.call(this,n),n&&n.enable!==t&&(n.enabled=n.enable),n.columns&&n.columns.length&&this._columnsHeader(),this._header(),this._noData(),this._footer(),this._renderFooter(),this._renderNoData()},focus:function(){this._focused.focus()},readonly:function(n){this._editable({readonly:n===t||n,disable:!1})},enable:function(n){this._editable({readonly:!1,disable:!(n=n===t||n)})},_header:function(){var e,u=this,r=n(u.header),f=u.options.headerTemplate;return this._angularElement(r,"cleanup"),i.destroy(r),r.remove(),f?(e="function"!=typeof f?i.template(f):f,r=n(e({})),u.header=r[0]?r:null,u.list.prepend(r),this._angularElement(u.header,"compile"),t):(u.header=null,t)},_columnsHeader:function(){var e,l,t,c,r,y,s,v,o,a,u,h=this,f=n(h.columnsHeader);for(this._angularElement(f,"cleanup"),i.destroy(f),f.remove(),e="<div class='k-grid-header'><div class='k-grid-header-wrap'><table role='presentation'>",l="<colgroup>",t="<tr>",c=0;c<this.options.columns.length;c++)r=this.options.columns[c],y=r.title||r.field||"",s=r.headerTemplate||y,v="function"!=typeof s?i.template(s):s,o=r.width,a=parseInt(o,10),u="",o&&!isNaN(a)&&(u+="style='width:",u+=a,u+=nt.test(o)?"%":"px",u+=";'"),l+="<col "+u+"/>",t+="<th class='k-header'>",t+=v(r),t+="</th>";l+="</colgroup>",t+="</tr>",e+=l,e+=t,e+="</table></div></div>",h.columnsHeader=f=n(e),h.list.prepend(f),this._angularElement(h.columnsHeader,"compile")},_noData:function(){var r=this,f=n(r.noData),u=r.options.noDataTemplate===!0?r.options.messages.noData:r.options.noDataTemplate;return r.angular("cleanup",function(){return{elements:f}}),i.destroy(f),f.remove(),u?(r.noData=n('<div class="k-nodata" style="display:none"><div></div></div>').appendTo(r.list),r.noDataTemplate="function"!=typeof u?i.template(u):u,t):(r.noData=null,t)},_footer:function(){var r=this,f=n(r.footer),u=r.options.footerTemplate;return this._angularElement(f,"cleanup"),i.destroy(f),f.remove(),u?(r.footer=n('<div class="k-footer"></div>').appendTo(r.list),r.footerTemplate="function"!=typeof u?i.template(u):u,t):(r.footer=null,t)},_listOptions:function(t){var u=this,f=u.options,e=f.virtual,s={change:r(u._listChange,u)},o=r(u._listBound,u);return e="object"==typeof e?e:{},t=n.extend({autoBind:!1,selectable:!0,dataSource:u.dataSource,click:r(u._click,u),activate:r(u._activateItem,u),columns:f.columns,deactivate:r(u._deactivateItem,u),dataBinding:function(){u.trigger("dataBinding")},dataBound:o,height:f.height,dataValueField:f.dataValueField,dataTextField:f.dataTextField,groupTemplate:f.groupTemplate,fixedGroupTemplate:f.fixedGroupTemplate,template:f.template},t,e,s),t.template||(t.template="#:"+i.expr(t.dataTextField,"data")+"#"),f.$angular&&(t.$angular=f.$angular),t},_initList:function(){var n=this,t=n._listOptions({selectedItemChange:r(n._listChange,n)});n.listView=n.options.virtual?new i.ui.VirtualList(n.ul,t):new i.ui.StaticList(n.ul,t),n.listView.bind("listBound",r(n._listBound,n)),n._setListValue()},_setListValue:function(n){n=n||this.options.value,n!==t&&this.listView.value(n).done(r(this._updateSelectionState,this))},_updateSelectionState:n.noop,_listMousedown:function(n){this.filterInput&&this.filterInput[0]===n.target||n.preventDefault()},_isFilterEnabled:function(){var n=this.options.filter;return n&&"none"!==n},_hideClear:function(){var n=this;n._clear&&n._clear.addClass(ht)},_showClear:function(){this._clear&&this._clear.removeClass(ht)},_clearValue:function(){this._clearText(),this._accessor(""),this.listView.value([]),this._isSelect&&(this._customOption=t),this._isFilterEnabled()&&!this.options.enforceMinLength&&(this._filter({word:"",open:!1}),this.options.highlightFirst&&this.listView.focus(0)),this._change()},_clearText:function(){this.text("")},_clearFilter:function(){this.options.virtual||this.listView.bound(!1),this._filterSource()},_filterSource:function(n,t){var r,o,f=this,s=f.options,c=s.filterFields&&n&&n.logic&&n.filters&&n.filters.length,i=f.dataSource,u=a({},i.filter()||{}),e=n||u.filters&&u.filters.length&&!n,h=w(u,s.dataTextField);if(this._clearFilterExpressions(u),!n&&!h||!f.trigger("filtering",{filter:n}))return r={filters:[],logic:"and"},c?r.filters.push(n):this._pushFilterExpression(r,n),ct(u)&&(r.logic===u.logic?r.filters=r.filters.concat(u.filters):r.filters.push(u)),f._cascading&&this.listView.setDSFilter(r),o=a({},{page:e?1:i.page(),pageSize:e?i.options.pageSize:i.pageSize(),sort:i.sort(),filter:i.filter(),group:i.group(),aggregate:i.aggregate()},{filter:r}),i[t?"read":"query"](i._mergeState(o))},_pushFilterExpression:function(n,t){ct(t)&&""!==t.value&&n.filters.push(t)},_clearFilterExpressions:function(n){var i,t;if(n.filters){for(t=0;t<n.filters.length;t++)"fromFilter"in n.filters[t]&&(i=t);isNaN(i)||n.filters.splice(i,1)}},_angularElement:function(n,t){n&&this.angular(t,function(){return{elements:n}})},_renderNoData:function(){var t=this,n=t.noData;n&&(this._angularElement(n,"cleanup"),n.children(":first").html(t.noDataTemplate({instance:t})),this._angularElement(n,"compile"))},_toggleNoData:function(t){n(this.noData).toggle(t)},_toggleHeader:function(n){var t=this.listView.content.prev(at);t.toggle(n)},_renderFooter:function(){var t=this,n=t.footer;n&&(this._angularElement(n,"cleanup"),n.html(t.footerTemplate({instance:t})),this._angularElement(n,"compile"))},_allowOpening:function(){return this.options.noDataTemplate||this.dataSource.flatView().length},_initValue:function(){var t=this,n=t.options.value;null!==n?t.element.val(n):(n=t._accessor(),t.options.value=n),t._old=n},_ignoreCase:function(){var n,i=this,t=i.dataSource.reader.model;t&&t.fields&&(n=t.fields[i.options.dataTextField],n&&n.type&&"string"!==n.type&&(i.options.ignoreCase=!1))},_focus:function(n){return this.listView.focus(n)},_filter:function(n){var r,u,t=this,e=t.options,f=n.word,i=e.filterFields,o=e.dataTextField;if(i&&i.length)for(r={logic:"or",filters:[],fromFilter:!0},u=0;u<i.length;u++)this._pushFilterExpression(r,t._buildExpression(f,i[u]));else r=t._buildExpression(f,o);t._open=n.open,t._filterSource(r)},_buildExpression:function(n,t){var u=this,f=u.options,i=f.ignoreCase,r=u.dataSource.options.accentFoldingFiltering;return{value:i?r?n.toLocaleLowerCase(r):n.toLowerCase():n,field:t,operator:f.filter,ignoreCase:i}},_clearButton:function(){var t=this,i=t.options.messages.clear;t._clear||(t._clear=n('<span unselectable="on" class="k-icon k-clear-value k-i-close" title="'+i+'"></span>').attr({role:"button",tabIndex:-1})),t.options.clearButton||t._clear.remove(),this._hideClear()},search:function(n){var t=this.options;n="string"==typeof n?n:this._inputValue(),clearTimeout(this._typingTimeout),(!t.enforceMinLength&&!n.length||n.length>=t.minLength)&&(this._state="filter",this.listView&&(this.listView._emptySearch=!i.trim(n).length),this._isFilterEnabled()?this._filter({word:n,open:!0}):this._searchByWord(n))},current:function(n){return this._focus(n)},items:function(){return this.ul[0].children},destroy:function(){var n=this,t=n.ns;c.fn.destroy.call(n),n._unbindDataSource(),n.listView.destroy(),n.list.off(t),n.popup.destroy(),n._form&&n._form.off("reset",n._resetHandler)},dataItem:function(i){var r=this;if(i===t)return r.listView.selectedDataItems()[0];if("number"!=typeof i){if(r.options.virtual)return r.dataSource.getByUid(n(i).data("uid"));i=n(r.items()).index(i)}return r.dataSource.flatView()[i]},_activateItem:function(){var n=this.listView.focus();n&&this._focused.add(this.filterInput).attr("aria-activedescendant",n.attr("id"))},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr("aria-activedescendant")},_accessors:function(){var t=this,f=t.element,n=t.options,e=i.getter,r=f.attr(i.attr("text-field")),u=f.attr(i.attr("value-field"));!n.dataTextField&&r&&(n.dataTextField=r),!n.dataValueField&&u&&(n.dataValueField=u),t._text=e(n.dataTextField),t._value=e(n.dataValueField)},_aria:function(n){var i=this,u=i.options,r=i._focused.add(i.filterInput);u.suggest!==t&&r.attr("aria-autocomplete",u.suggest?"both":"list"),n=n?n+" "+i.ul[0].id:i.ul[0].id,r.attr("aria-owns",n),i.ul.attr("aria-live",i._isFilterEnabled()?"polite":"off"),i._ariaLabel()},_ariaLabel:function(){var s,f=this,t=f._focused,r=f.element,h=r.attr("id"),u=n('label[for="'+h+'"]'),o=r.attr("aria-label"),e=r.attr("aria-labelledby");t!==r&&(o?t.attr("aria-label",o):e?t.attr("aria-labelledby",e):u.length&&(s=u.attr("id")||f._generateLabelId(u,h||i.guid()),t.attr("aria-labelledby",s)))},_generateLabelId:function(n,t){var i=t+fi;return n.attr("id",i),i},_blur:function(){var n=this;n._change(),n.close(),n._userTriggered=!1},_change:function(){var r,n=this,f=n.selectedIndex,e=n.options.value,i=n.value();n._isSelect&&!n.listView.bound()&&e&&(i=e),i!==h(n._old,typeof i)&&i!==h(n._oldText,typeof i)?r=!0:n._valueBeforeCascade!==t&&n._valueBeforeCascade!==h(n._old,typeof n._valueBeforeCascade)&&n._userTriggered?r=!0:f===t||f===n._oldIndex||n.listView.isFiltered()||(r=!0),r&&(n._valueBeforeCascade=n._old=null===n._old||""===n._old||""===i?i:n.dataItem()?n.options.dataValueField?n.dataItem()[n.options.dataValueField]:n.dataItem():null,n._oldIndex=f,n._oldText=n.text&&n.text(),n._typing||n.element.trigger(u),n.trigger(u)),n.typing=!1},_data:function(){return this.dataSource.view()},_enable:function(){var n=this,i=n.options,r=n.element.is("[disabled]");i.enable!==t&&(i.enabled=i.enable),!i.enabled||r?n.enable(!1):n.readonly(n.element.is("[readonly]"))},_dataValue:function(n){var i=this._value(n);return i===t&&(i=this._text(n)),i},_offsetHeight:function(){var t=0,i=this.listView.content.prevAll(":visible");return i.each(function(){var i=n(this);t+=st(i,!0)}),t},_height:function(i){var o,f,s,u=this,e=u.list,r=u.options.height,h=u.popup.visible();if(i||u.options.noDataTemplate){if(f=e.add(e.parent(".k-animation-container")).show(),!e.is(":visible"))return f.hide(),t;r=u.listView.content[0].scrollHeight>r?r:"auto",f.height(r),"auto"!==r&&(o=u._offsetHeight(),s=st(n(u.footer))||0,r=r-o-s),u.listView.content.height(r),h||f.hide()}return r},_openHandler:function(n){this._adjustListWidth(),this.trigger(kt)?n.preventDefault():(this._focused.attr("aria-expanded",!0),this.ul.attr("aria-hidden",!1))},_adjustListWidth:function(){var n,r,u=this,t=u.list,i=t[0].style.width,f=u.wrapper;if(t.data(ot)||!i)return n=window.getComputedStyle?window.getComputedStyle(f[0],null):0,r=parseFloat(n&&n.width)||yt(f),n&&d.msie&&(r+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth)),i="border-box"!==t.css("box-sizing")?r-(yt(t)-t.width()):r,t.css({fontFamily:f.css("font-family"),width:u.options.autoWidth?"auto":i,minWidth:i,whiteSpace:u.options.autoWidth?"nowrap":"normal"}).data(ot,i),!0},_closeHandler:function(n){this.trigger(bt)?n.preventDefault():(this._focused.attr("aria-expanded",!1),this.ul.attr("aria-hidden",!0))},_focusItem:function(){var i=this.listView,r=!i.focus(),n=o(i.select());n===t&&this.options.highlightFirst&&r&&(n=0),n!==t?i.focus(n):r&&i.scrollToIndex(0)},_calculateGroupPadding:function(n){var f=this.ul.children(".k-first:first"),r=this.listView.content.prev(at),u=0,t="right";r[0]&&"none"!==r[0].style.display&&("auto"!==n&&(u=i.support.scrollbar()),this.element.parents(".k-rtl").length&&(t="left"),u+=parseFloat(f.css("border-"+t+"-width"),10)+parseFloat(f.children(".k-group").css("padding-"+t),10),r.css("padding-"+t,u))},_calculatePopupHeight:function(n){var t=this._height(this.dataSource.flatView().length||n);this._calculateGroupPadding(t),this._calculateColumnsHeaderPadding(t)},_calculateColumnsHeaderPadding:function(n){var t,u,r;this.options.columns&&this.options.columns.length&&(t=this,u=e.isRtl(t.wrapper),r=i.support.scrollbar(),t.columnsHeader.css(u?"padding-left":"padding-right","auto"!==n?r:0))},_refreshScroll:function(){var n=this.listView,t=n.element.height()>n.content.height();this.options.autoWidth&&n.content.css({overflowX:"hidden",overflowY:t?"scroll":"auto"})},_resizePopup:function(n){this.options.virtual||(this.popup.element.is(":visible")?this._calculatePopupHeight(n):(this.popup.one("open",function(n){return r(function(){this._calculatePopupHeight(n)},this)}.call(this,n)),this.popup.one("activate",r(this._refreshScroll,this))))},_popup:function(){var n=this;n.popup=new v.Popup(n.list,a({},n.options.popup,{anchor:n.wrapper,open:r(n._openHandler,n),close:r(n._closeHandler,n),animation:n.options.animation,isRtl:e.isRtl(n.wrapper),autosize:n.options.autoWidth}))},_makeUnselectable:function(){ti&&this.list.find("*").not(".k-textbox").attr("unselectable","on")},_toggleHover:function(t){n(t.currentTarget).toggleClass(k,"mouseenter"===t.type)},_toggle:function(n,i){var r=this,u=e.mobileOS&&(e.touch||e.MSPointers||e.pointers);n=n!==t?n:!r.popup.visible(),i||u||r._focused[0]===rt()||(r._prevent=!0,r._focused.focus(),r._prevent=!1),r[n?kt:bt]()},_triggerCascade:function(){var n=this;n._cascadeTriggered&&n.value()===h(n._cascadedValue,typeof n.value())||(n._cascadedValue=n.value(),n._cascadeTriggered=!0,n.trigger(p,{userTriggered:n._userTriggered}))},_triggerChange:function(){this._valueBeforeCascade!==this.value()&&this.trigger(u)},_unbindDataSource:function(){var n=this;n.dataSource.unbind(it,n._requestStartHandler).unbind(vt,n._requestEndHandler).unbind("error",n._errorHandler)},requireValueMapper:function(n,t){var i=(n.value instanceof Array?n.value.length:n.value)||(t instanceof Array?t.length:t);if(i&&n.virtual&&"function"!=typeof n.virtual.valueMapper)throw Error("ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function");}});a(l,{inArray:function(n,t){var i,u,r=t.children;if(!n||n.parentNode!==t)return-1;for(i=0,u=r.length;i<u;i++)if(n===r[i])return i;return-1},unifyType:h}),i.ui.List=l,v.Select=l.extend({init:function(n,t){l.fn.init.call(this,n,t),this._initial=this.element.val()},setDataSource:function(n){var i,t=this;t.options.dataSource=n,t._dataSource(),t.listView.bound()&&(t._initialIndex=null,t.listView._current=null),t.listView.setDataSource(t.dataSource),t.options.autoBind&&t.dataSource.fetch(),i=t._parentWidget(),i&&t._cascadeSelect(i)},close:function(){this.popup.close()},select:function(n){var i=this;return n===t?i.selectedIndex:i._select(n).done(function(){i._cascadeValue=i._old=i._accessor(),i._oldIndex=i.selectedIndex})},_accessor:function(n,t){return this[this._isSelect?"_accessorSelect":"_accessorInput"](n,t)},_accessorInput:function(n){var i=this.element[0];return n===t?i.value:(null===n&&(n=""),i.value=n,t)},_accessorSelect:function(n,i){var u,r=this.element[0];return n===t?b(r).value||"":(b(r).selected=!1,i===t&&(i=-1),u=null!==n&&""!==n,u&&i==-1?this._custom(n):n?r.value=n:r.selectedIndex=i,t)},_syncValueAndText:function(){return!0},_custom:function(t){var r=this,u=r.element,i=r._customOption;i||(i=n("<option/>"),r._customOption=i,u.append(i)),i.text(t),i[0].selected=!0},_hideBusy:function(){var n=this;clearTimeout(n._busy),n._arrowIcon.removeClass(lt),n._focused.attr("aria-busy",!1),n._busy=null,n._showClear()},_showBusy:function(n){var t=this;n.isDefaultPrevented()||(t._request=!0,t._busy||(t._busy=setTimeout(function(){t._arrowIcon&&(t._focused.attr("aria-busy",!0),t._arrowIcon.addClass(lt),t._hideClear())},100)))},_requestEnd:function(){this._request=!1,this._hideBusy()},_dataSource:function(){var e,t=this,o=t.element,f=t.options,u=f.dataSource||{};u=n.isArray(u)?{data:u}:u,t._isSelect&&(e=o[0].selectedIndex,e>-1&&(f.index=e),u.select=o,u.fields=[{field:f.dataTextField},{field:f.dataValueField}]),t.dataSource?t._unbindDataSource():(t._requestStartHandler=r(t._showBusy,t),t._requestEndHandler=r(t._requestEnd,t),t._errorHandler=r(t._hideBusy,t)),t.dataSource=i.data.DataSource.create(u).bind(it,t._requestStartHandler).bind(vt,t._requestEndHandler).bind("error",t._errorHandler)},_firstItem:function(){this.listView.focusFirst()},_lastItem:function(){this.listView.focusLast()},_nextItem:function(){return this.listView.focusNext()},_prevItem:function(){return this.listView.focusPrev()},_getNormalizedDataItem:function(n){var r,t=this,i=t.listView,f="number"==typeof n,u=t.optionLabel&&t.optionLabel.length;return r=f?u?--n:n:i.getElementIndex(n),i.dataItemByIndex(r)},_getNormalizedSelectCandidate:function(n){var i=this,r=i.optionLabel&&i.optionLabel.length,u="number"==typeof n,t=n;return r&&u&&t++,t},_move:function(n){var e,h,i,o,v,b,c,y,w,t=this,s=t.listView,r=n.keyCode,a=r===f.DOWN,p=t.options.virtual;if(r===f.UP||a){if(n.altKey)t.toggle(a);else{if(!s.bound()&&!t.ul[0].firstChild)return t._fetch||(t.dataSource.one(u,function(){t._fetch=!1,t._move(n)}),t._fetch=!0,t._filterSource()),n.preventDefault(),!0;i=t._focus(),t._fetch||i&&!i.hasClass("k-state-selected")||(a?(o=t._nextItem(),(p&&o<=0||!t._focus()&&!o)&&t._lastItem()):(o=t._prevItem(),(p&&o>=s.dataSource.total()-1||!t._focus()&&!o)&&t._firstItem())),v=t._getNormalizedSelectCandidate(t._get(t._focus())||o||0),t._select(v,!0).done(function(){var n=function(){t.popup.visible()||t._blur(),t._cascadedValue=null===t._cascadedValue?t.value():t.dataItem()?t.dataItem()[t.options.dataValueField]||t.dataItem():null};t.trigger(g,{dataItem:t._getNormalizedDataItem(v),item:t._focus()})?t._select(i).done(n):n()})}n.preventDefault(),h=!0}else if(r===f.ENTER||r===f.TAB){if(t.popup.visible()&&n.preventDefault(),i=t._focus(),e=t.dataItem(),t.popup.visible()||e&&t.text()===t._text(e)||(i=null),b=t.filterInput&&t.filterInput[0]===rt(),i){if(e=s.dataItemByIndex(s.getElementIndex(i)),y=!0,e&&(y=t._value(e)!==l.unifyType(t.value(),typeof t._value(e))),y&&t.trigger(g,{dataItem:e,item:i}))return;c=t._select(i)}else t.input&&((t._syncValueAndText()||t._isSelect)&&t._accessor(t.input.val()),t.listView.value(t.input.val()));t._focusElement&&t._focusElement(t.wrapper),b&&r===f.TAB?t.wrapper.focusout():c&&"function"==typeof c.done?c.done(function(){t._blur()}):t._blur(),t.close(),h=!0}else r===f.ESC?(t.popup.visible()&&n.preventDefault(),t.close(),h=!0):!t.popup.visible()||r!==f.PAGEDOWN&&r!==f.PAGEUP||(n.preventDefault(),w=r===f.PAGEDOWN?1:-1,s.scrollWith(w*s.screenHeight()),h=!0);return h},_fetchData:function(){var n=this,t=!!n.dataSource.view().length;n._request||n.options.cascadeFrom||n.listView.bound()||n._fetch||t||(n._fetch=!0,n.dataSource.fetch().done(function(){n._fetch=!1}))},_options:function(n,i,r){var u,c,h,f,l=this,a=l.element,e=a[0],v=n.length,s="",o=0;for(i&&(s=i);o<v;o++)u="<option",c=n[o],h=l._text(c),f=l._value(c),f!==t&&(f+="",f.indexOf('"')!==-1&&(f=f.replace(ni,"&quot;")),u+=' value="'+f+'"'),u+=">",h!==t&&(u+=gt(h)),u+="</option>",s+=u;a.html(s),r!==t&&(e.value=r,e.value&&!r&&(e.selectedIndex=-1)),e.selectedIndex!==-1&&(u=b(e),u&&u.setAttribute(ut,ut))},_reset:function(){var t=this,u=t.element,r=u.attr("form"),i=r?n("#"+r):u.closest("form");i[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(t._initial)})},t._form=i.on("reset",t._resetHandler))},_parentWidget:function(){var u,i,t,r=this.options.name;if(this.options.cascadeFrom){if(u=n("#"+this.options.cascadeFrom),i=u.data("kendo"+r),!i)for(t=0;t<et[r].length&&!(i=u.data("kendo"+et[r][t]));t+=1);return i}},_cascade:function(){var t,n=this,i=n.options,u=i.cascadeFrom;if(u){if(t=n._parentWidget(),!t)return;n._cascadeHandlerProxy=r(n._cascadeHandler,n),n._cascadeFilterRequests=[],i.autoBind=!1,t.bind("set",function(){n.one("set",function(t){n._selectedValue=t.value||n._accessor()})}),t.first(p,n._cascadeHandlerProxy),t.listView.bound()?(n._toggleCascadeOnFocus(),n._cascadeSelect(t)):(t.one("dataBound",function(){n._toggleCascadeOnFocus(),t.popup.visible()&&t._focused.focus()}),t.value()||n.enable(!1))}},_toggleCascadeOnFocus:function(){var t=this,n=t._parentWidget(),i=ft&&n instanceof v.DropDownList?oi:ri;n._focused.add(n.filterInput).bind(ui,function(){n.unbind(p,t._cascadeHandlerProxy),n.first(u,t._cascadeHandlerProxy)}),n._focused.add(n.filterInput).bind(i,function(){n.unbind(u,t._cascadeHandlerProxy),n.first(p,t._cascadeHandlerProxy)})},_cascadeHandler:function(n){var t=this._parentWidget(),i=this.value();this._userTriggered=n.userTriggered||t._userTriggered,this.listView.bound()&&this._clearSelection(t,!0),this._cascadeSelect(t,i)},_cascadeChange:function(n){var t=this,i=t._accessor()||t._selectedValue;t._cascadeFilterRequests.length||(t._selectedValue=null),t._userTriggered?t._clearSelection(n,!0):i?(i!==h(t.listView.value()[0],typeof i)&&t.value(i),t.dataSource.view()[0]&&t.selectedIndex!==-1||t._clearSelection(n,!0)):t.dataSource.flatView().length&&t.select(t.options.index),t.enable(),t._triggerCascade(),t._triggerChange(),t._userTriggered=!1},_cascadeSelect:function(n,i){var s,e,r=this,f=n.dataItem(),u=f?f[r.options.cascadeFromParentField]||n._value(f):null,o=r.options.cascadeFromField||n.options.dataValueField;r._valueBeforeCascade=i!==t?i:r.value(),u||0===u?(s=r.dataSource.filter()||{},w(s,o),e=function(){var t=r._cascadeFilterRequests.shift();t&&r.unbind("dataBound",t),t=r._cascadeFilterRequests[0],t&&r.first("dataBound",t),r._cascadeChange(n)},r._cascadeFilterRequests.push(e),1===r._cascadeFilterRequests.length&&r.first("dataBound",e),r._cascading=!0,r._filterSource({field:o,operator:"eq",value:u}),r._cascading=!1):(r.enable(!1),r._clearSelection(n),r._triggerCascade(),r._triggerChange(),r._userTriggered=!1)}}),s=".StaticList",tt=i.ui.DataBoundWidget.extend({init:function(t,u){c.fn.init.call(this,t,u),this.element.attr("role","listbox").on("click"+s,"li",r(this._click,this)).on("mouseenter"+s,"li",function(){n(this).addClass(k)}).on("mouseleave"+s,"li",function(){n(this).removeClass(k)}),e.touch&&this._touchHandlers(),"multiple"===this.options.selectable&&this.element.attr("aria-multiselectable",!0),this.content=this.element.wrap("<div class='k-list-scroller' unselectable='on'></div>").parent(),this.header=this.content.before('<div class="k-group-header" style="display:none"></div>').prev(),this.bound(!1),this._optionID=i.guid(),this._selectedIndices=[],this._view=[],this._dataItems=[],this._values=[];var f=this.options.value;f&&(this._values=n.isArray(f)?f.slice(0):[f]),this._getter(),this._templates(),this.setDataSource(this.options.dataSource),this._onScroll=r(function(){var n=this;clearTimeout(n._scrollId),n._scrollId=setTimeout(function(){n._renderHeader()},50)},this)},options:{name:"StaticList",dataValueField:null,valuePrimitive:!1,selectable:!0,template:null,groupTemplate:null,fixedGroupTemplate:null},events:["click",u,"activate","deactivate","dataBinding","dataBound","selectedItemChange"],setDataSource:function(t){var o,f=this,e=t||{};e=n.isArray(e)?{data:e}:e,e=i.data.DataSource.create(e),f.dataSource?(f.dataSource.unbind(u,f._refreshHandler),o=f.value(),f.value([]),f.bound(!1),f.value(o)):f._refreshHandler=r(f.refresh,f),f.setDSFilter(e.filter()),f.dataSource=e.bind(u,f._refreshHandler),f._fixedHeader()},_touchHandlers:function(){var r,u,t=this,i=function(n){return(n.originalEvent||n).changedTouches[0].pageY};t.element.on("touchstart"+s,function(n){r=i(n)}),t.element.on("touchend"+s,function(f){f.isDefaultPrevented()||(u=i(f),Math.abs(u-r)<10&&(t._touchTriggered=!0,t._triggerClick(n(f.target).closest(wt).get(0))))})},skip:function(){return this.dataSource.skip()},setOptions:function(n){c.fn.setOptions.call(this,n),this._getter(),this._templates(),this._render()},destroy:function(){this.element.off(s),this._refreshHandler&&this.dataSource.unbind(u,this._refreshHandler),clearTimeout(this._scrollId),c.fn.destroy.call(this)},dataItemByIndex:function(n){return this.dataSource.flatView()[n]},screenHeight:function(){return this.content[0].clientHeight},scrollToIndex:function(n){var t=this.element[0].children[n];t&&this.scroll(t)},scrollWith:function(n){this.content.scrollTop(this.content.scrollTop()+n)},scroll:function(n){if(n){n[0]&&(n=n[0]);var r=this.content[0],i=n.offsetTop,e=n.offsetHeight,t=r.scrollTop,u=r.clientHeight,f=i+e;t>i?t=i:f>t+u&&(t=f-u),r.scrollTop=t}},selectedDataItems:function(n){return n===t?this._dataItems.slice():(this._dataItems=n,this._values=this._getValues(n),t)},_getValues:function(t){var i=this._valueGetter;return n.map(t,function(n){return i(n)})},focusNext:function(){var n=this.focus();n=n?n.next():0,this.focus(n)},focusPrev:function(){var n=this.focus();n=n?n.prev():this.element[0].children.length-1,this.focus(n)},focusFirst:function(){this.focus(this.element[0].children[0])},focusLast:function(){this.focus(o(this.element[0].children))},focus:function(i){var u,r=this,f=r._optionID;return i===t?r._current:(i=o(r._get(i)),i=n(this.element[0].children[i]),r._current&&(r._current.removeClass(pt).removeAttr(y),r.trigger("deactivate")),u=!!i[0],u&&(i.addClass(pt),r.scroll(i),i.attr("id",f)),r._current=u?i:null,r.trigger("activate"),t)},focusIndex:function(){return this.focus()?this.focus().index():t},skipUpdate:function(n){this._skipUpdate=n},select:function(i){var c,f,l,r=this,v=r.options.selectable,e="multiple"!==v&&v!==!1,h=r._selectedIndices,y=[this.element.find(".k-state-selected").index()],s=[],a=[];return i===t?h.slice():(i=r._get(i),1===i.length&&i[0]===-1&&(i=[]),f=n.Deferred().resolve(),l=r.isFiltered(),l&&!e&&r._deselectFiltered(i)?f:e&&!l&&n.inArray(o(i),h)!==-1&&n.inArray(o(i),y)!==-1?(r._dataItems.length&&r._view.length&&(r._dataItems=[r._view[h[0]].item]),f):(c=r._deselect(i),a=c.removed,i=c.indices,i.length&&(e&&(i=[o(i)]),s=r._select(i)),(s.length||a.length)&&(r._valueComparer=null,r.trigger(u,{added:s,removed:a})),f))},removeAt:function(n){return this._selectedIndices.splice(n,1),this._values.splice(n,1),this._valueComparer=null,{position:n,dataItem:this._dataItems.splice(n,1)[0]}},setValue:function(t){t=n.isArray(t)||t instanceof dt?t.slice(0):[t],this._values=t,this._valueComparer=null},value:function(i){var f,r=this,u=r._valueDeferred;return i===t?r._values.slice():(r.setValue(i),u&&"resolved"!==u.state()||(r._valueDeferred=u=n.Deferred()),r.bound()&&(f=r._valueIndices(r._values),"multiple"===r.options.selectable&&r.select(-1),r.select(f),u.resolve()),r._skipUpdate=!1,u)},items:function(){return this.element.children(wt)},_click:function(n){return this._touchTriggered?(this._touchTriggered=!1,t):(n.isDefaultPrevented()||this._triggerClick(n.currentTarget),t)},_triggerClick:function(t){this.trigger("click",{item:n(t)})||this.select(t)},_valueExpr:function(n,t){var e,f,i=this,r=0,u=[];if(!i._valueComparer||i._valueType!==n){for(i._valueType=n;r<t.length;r++)u.push(h(t[r],n));e="for (var idx = 0; idx < "+u.length+"; idx++) { if (current === values[idx]) {   return idx; }} return -1;",f=Function("current","values",e),i._valueComparer=function(n){return f(n,u)}}return i._valueComparer},_dataItemPosition:function(n,t){var i=this._valueGetter(n),r=this._valueExpr(typeof i,t);return r(i)},_getter:function(){this._valueGetter=i.getter(this.options.dataValueField)},_deselect:function(t){var r,e,c,h,a,u=this,s=u.element[0].children,l=u.options.selectable,f=u._selectedIndices,v=u._dataItems,p=u._values,o=[],i=0,y=0;if(t=t.slice(),l!==!0&&t.length){if("multiple"===l)for(;i<t.length;i++)if(e=t[i],n(s[e]).hasClass("k-state-selected"))for(r=0;r<f.length;r++)if(c=f[r],c===e){n(s[c]).removeClass("k-state-selected").attr("aria-selected",!1),h=this._view[e].item,a=this._dataItemPosition(h,this._values),o.push({position:a,dataItem:h}),v.splice(r,1),f.splice(r,1),t.splice(i,1),p.splice(r,1),y+=1,i-=1,r-=1;break}}else{for(;i<f.length;i++)n(s[f[i]]).removeClass("k-state-selected").attr("aria-selected",!1),o.push({position:i,dataItem:v[i]});u._values=[],u._dataItems=[],u._selectedIndices=[]}return{indices:t,removed:o}},_deselectFiltered:function(t){for(var o,e,f,s=this.element[0].children,i=[],r=0;r<t.length;r++)e=t[r],o=this._view[e].item,f=this._dataItemPosition(o,this._values),f>-1&&(i.push(this.removeAt(f)),n(s[e]).removeClass("k-state-selected"));return!!i.length&&(this.trigger(u,{added:[],removed:i}),!0)},_select:function(t){var r,u,i=this,s=i.element[0].children,h=i._view,e=[],f=0;for(o(t)!==-1&&i.focus(t);f<t.length;f++)u=t[f],r=h[u],u!==-1&&r&&(r=r.item,i._selectedIndices.push(u),i._dataItems.push(r),i._values.push(i._valueGetter(r)),n(s[u]).addClass("k-state-selected").attr("aria-selected",!0),e.push({dataItem:r}));return e},getElementIndex:function(t){return n(t).data("offset-index")},_get:function(n){return"number"==typeof n?n=[n]:ei(n)||(n=this.getElementIndex(n),n=[n!==t?n:-1]),n},_template:function(){var r=this,t=r.options,n=t.template;return n?(n=i.template(n),n=function(t){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+n(t)+"</li>"}):n=i.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+i.expr(t.dataTextField,"data")+"}</li>",{useWithBlock:!1}),n},_templates:function(){var u,r,f,o,e,n=this.options,t={template:n.template,groupTemplate:n.groupTemplate,fixedGroupTemplate:n.fixedGroupTemplate};if(n.columns)for(r=0;r<n.columns.length;r++)f=n.columns[r],o=f.field?""+f.field:"text",t["column"+r]=f.template||"#: "+o+"#";for(e in t)u=t[e],u&&"function"!=typeof u&&(t[e]=i.template(u));this.templates=t},_normalizeIndices:function(n){for(var r=[],i=0;i<n.length;i++)n[i]!==t&&r.push(n[i]);return r},_valueIndices:function(n,t){var r,u=this._view,i=0;if(t=t?t.slice():[],!n.length)return[];for(;i<u.length;i++)r=this._dataItemPosition(u[i].item,n),r!==-1&&(t[r]=i);return this._normalizeIndices(t)},_firstVisibleItem:function(){for(var r=this.element[0],e=this.content[0],i=e.scrollTop,u=n(r.children[0]).height(),o=Math.floor(i/u)||0,t=r.children[o]||r.lastChild,f=t.offsetTop<i;t;)if(f){if(t.offsetTop+u>i||!t.nextSibling)break;t=t.nextSibling}else{if(t.offsetTop<=i||!t.previousSibling)break;t=t.previousSibling}return this._view[n(t).data("offset-index")]},_fixedHeader:function(){this.isGrouped()&&this.templates.fixedGroupTemplate?(this.header.show(),this.content.scroll(this._onScroll)):(this.header.hide(),this.content.off("scroll",this._onScroll))},_renderHeader:function(){var n,t=this.templates.fixedGroupTemplate;t&&(n=this._firstVisibleItem(),n&&(""+n.group).length&&this.header.html(t(n.group)))},_renderItem:function(n){var t='<li tabindex="-1" role="option" unselectable="on" class="k-item',f=n.item,r=0!==n.index,u=n.selected,e=this.isGrouped(),i=this.options.columns&&this.options.columns.length;return r&&n.newGroup&&(t+=" k-first"),n.isLastGroupedItem&&i&&(t+=" k-last"),u&&(t+=" k-state-selected"),t+='" aria-selected="'+(u?"true":"false")+'" data-offset-index="'+n.index+'">',t+=i?this._renderColumns(f):this.templates.template(f),r&&n.newGroup?t+=i?'<div class="k-cell k-group-cell"><span>'+this.templates.groupTemplate(n.group)+"</span></div>":'<div class="k-group">'+this.templates.groupTemplate(n.group)+"</div>":e&&i&&(t+="<div class='k-cell k-spacer-cell'></div>"),t+"</li>"},_renderColumns:function(n){for(var u,f,t,r="",i=0;i<this.options.columns.length;i++)u=this.options.columns[i].width,f=parseInt(u,10),t="",u&&!isNaN(f)&&(t+="style='width:",t+=f,t+=nt.test(u)?"%":"px",t+=";'"),r+="<span class='k-cell' "+t+">",r+=this.templates["column"+i](n),r+="</span>";return r},_render:function(){var i,r,o,t,s="",n=0,e=0,f=[],u=this.dataSource.view(),c=this.value(),h=this.isGrouped();if(h)for(n=0;n<u.length;n++)for(r=u[n],o=!0,t=0;t<r.items.length;t++)i={selected:this._selected(r.items[t],c),item:r.items[t],group:r.value,newGroup:o,isLastGroupedItem:t===r.items.length-1,index:e},f[e]=i,e+=1,s+=this._renderItem(i),o=!1;else for(n=0;n<u.length;n++)i={selected:this._selected(u[n],c),item:u[n],index:n},f[n]=i,s+=this._renderItem(i);this._view=f,this.element[0].innerHTML=s,h&&f.length&&this._renderHeader()},_selected:function(n,t){var i=!this.isFiltered()||"multiple"===this.options.selectable;return i&&this._dataItemPosition(n,t)!==-1},setDSFilter:function(n){this._lastDSFilter=a({},n)},isFiltered:function(){return this._lastDSFilter||this.setDSFilter(this.dataSource.filter()),!i.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},refresh:function(n){var r,t=this,i=n&&n.action,f=t.options.skipUpdateOnBind,u="itemchange"===i;t.trigger("dataBinding"),t._angularItems("cleanup"),t._fixedHeader(),t._render(),t.bound(!0),u||"remove"===i?(r=ii(t._dataItems,n.items),r.changed.length&&(u?t.trigger("selectedItemChange",{items:r.changed}):t.value(t._getValues(r.unchanged)))):t.isFiltered()||t._skipUpdate||t._emptySearch?(t.focus(0),t._skipUpdate&&(t._skipUpdate=!1,t._selectedIndices=t._valueIndices(t._values,t._selectedIndices))):f||i&&"add"!==i||t.value(t._values),t._valueDeferred&&t._valueDeferred.resolve(),t._angularItems("compile"),t.trigger("dataBound")},bound:function(n){return n===t?this._bound:(this._bound=n,t)},isGrouped:function(){return(this.dataSource.group()||[]).length}}),v.plugin(tt)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.combobox.min",["kendo.list.min","kendo.mobile.scroller.min","kendo.virtuallist.min"],n)}(function(){return function(n,t){var f=window.kendo,b=f.ui,s=b.List,o=b.Select,l=f.caret,it=f.support,tt=it.placeholder,w=f._activeElement,u=f.keys,i=".kendoComboBox",k=i+"FocusEvent",e="click"+i,a="mousedown"+i,nt="disabled",rt="readonly",c="change",st="k-i-loading",v="k-state-default",ut="k-state-focused",y="k-state-disabled",g="aria-disabled",ot="off",h="filter",p="accept",d="rebind",ht="mouseenter"+i+" mouseleave"+i,r=n.proxy,et=/(\r\n|\n|\r)/gm,ft=o.extend({init:function(t,u){var s,h,e=this;e.ns=i,u=n.isArray(u)?{dataSource:u}:u,o.fn.init.call(e,t,u),u=e.options,t=e.element.on("focus"+i,r(e._focusHandler,e)),u.placeholder=u.placeholder||t.attr("placeholder"),e._reset(),e._wrapper(),e._input(),e._clearButton(),e._tabindex(e.input),e._popup(),e._dataSource(),e._ignoreCase(),e._enable(),e._attachFocusEvents(),e._oldIndex=e.selectedIndex=-1,e._aria(),e._initialIndex=u.index,e.requireValueMapper(e.options),e._initList(),e._cascade(),u.autoBind?e._filterSource():(s=u.text,!s&&e._isSelect&&(s=t.children(":selected").text()),s&&e._setText(s)),s||e._placeholder(),h=n(e.element).parents("fieldset").is(":disabled"),h&&e.enable(!1),f.notify(e),e._toggleCloseVisibility()},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:1,enforceMinLength:!1,height:200,highlightFirst:!0,filter:"none",placeholder:"",suggest:!1,cascadeFrom:"",cascadeFromField:"",cascadeFromParentField:"",ignoreCase:!0,animation:{},virtual:!1,template:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",clearButton:!0,syncValueAndText:!0,autoWidth:!1,popup:null},events:["open","close",c,"select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(n){var t=this._listOptions(n);o.fn.setOptions.call(this,n),this.listView.setOptions(t),this._accessors(),this._aria(),this._clearButton()},destroy:function(){var n=this;n.input.off(i),n.input.off(k),n.element.off(i),n.wrapper.off(i),n._inputWrapper.off(i),clearTimeout(n._pasteTimeout),n._arrow.off(e+" "+a),n._clear.off(e+" "+a),o.fn.destroy.call(n)},_change:function(){var n=this,i=n.text(),f=i&&i!==n._oldText&&i!==n.options.placeholder,r=n.selectedIndex,u=r===-1;return!n.options.syncValueAndText&&!n.value()&&u&&f?(n._old="",n._oldIndex=r,n._oldText=i,n._typing||n.element.trigger(c),n.trigger(c),n._typing=!1,t):(o.fn._change.call(n),n._toggleCloseVisibility(),t)},_attachFocusEvents:function(){var n=this;n.input.on("focus"+k,r(n._inputFocus,n)).on("focusout"+k,r(n._inputFocusout,n))},_focusHandler:function(n){n.target===this.element[0]&&this.input.focus()},_arrowClick:function(){this._toggle()},_inputFocus:function(){this._inputWrapper.addClass(ut),this._placeholder(!1)},_inputFocusout:function(){var i,u,n=this,r=n.value();return n._userTriggered=!0,n._inputWrapper.removeClass(ut),clearTimeout(n._typingTimeout),n._typingTimeout=null,n.text(n.text()),i=n._focus(),u=this.listView.dataItemByIndex(this.listView.getElementIndex(i)),r!==n.value()&&n.trigger("select",{dataItem:u,item:i})?(n.value(r),t):(n._placeholder(),n._valueBeforeCascade=n._old,n._blur(),n.element.blur(),t)},_inputPaste:function(){var n=this;clearTimeout(n._pasteTimeout),n._pasteTimeout=null,n._pasteTimeout=setTimeout(function(){n.search()})},_editable:function(n){var t=this,u=n.disable,s=n.readonly,o=t._inputWrapper.off(i),f=t.element.add(t.input.off(i)),c=t._arrow.off(e+" "+a),h=t._clear;s||u?(o.addClass(u?y:v).removeClass(u?v:y),f.attr(nt,u).attr(rt,s).attr(g,u)):(o.addClass(v).removeClass(y).on(ht,t._toggleHover),f.removeAttr(nt).removeAttr(rt).attr(g,!1),c.on(e,r(t._arrowClick,t)).on(a,function(n){n.preventDefault()}),h.on(e+" touchend"+i,r(t._clearValue,t)),t.input.on("keydown"+i,r(t._keydown,t)).on("input"+i,r(t._search,t)).on("paste"+i,r(t._inputPaste,t)),t.wrapper.on(e+i,r(t._focusHandler,t))),t._toggleCloseVisibility()},open:function(){var n=this,i=n._state,t=!!n.dataSource.filter()&&n.dataSource.filter().filters.length>0,r=!n.ul.find(n.listView.focus()).length;n.popup.visible()||(!n.listView.bound()&&i!==h||i===p?(n._open=!0,n._state=d,1!==n.options.minLength&&!t||t&&n.value()&&n.selectedIndex===-1?(n.refresh(),n._openPopup(),this.options.virtual||n.listView.bound(!1)):n._filterSource()):n._allowOpening()&&(n.popup._hovered=!0,n._openPopup(),n.options.virtual?n._focusItem():r&&n.options.highlightFirst&&n.listView.focus(0)))},_scrollToFocusedItem:function(){var n=this.listView;n.scrollToIndex(n.getElementIndex(n.focus()))},_openPopup:function(){this.popup.one("activate",r(this._scrollToFocusedItem,this)),this.popup.open()},_updateSelectionState:function(){var n=this,i=n.options.text,r=n.options.value;n.listView.isFiltered()||(n.selectedIndex===-1?(i!==t&&null!==i||(i=r),n._accessor(r),n.input.val(i||n.input.val()),n._placeholder()):n._oldIndex===-1&&(n._oldIndex=n.selectedIndex))},_buildOptions:function(n){var r,i=this;i._isSelect&&(r=i._customOption,i._state===d&&(i._state=""),i._customOption=t,i._options(n,"",i.value()),r&&r[0].selected&&!i.listView._emptySearch&&i._custom(r.val()))},_updateSelection:function(){var r,i=this,u=i.listView,f=i._initialIndex,o=null!==f&&f>-1,e=i._state===h;return e?(n(u.focus()).removeClass("k-state-selected"),t):(i._fetch||(u.value().length||(o?i.select(f):i._accessor()&&u.value(i._accessor())),i._initialIndex=null,r=u.selectedDataItems()[0],r&&(i._value(r)!==i.value()?i._custom(i._value(r)):i._value(r)!==i.element[0].value&&i._accessor(i._value(r)),i.text()&&i.text()!==i._text(r)&&i._selectValue(r))),t)},_updateItemFocus:function(){var n=this.listView;this.options.highlightFirst?n.focus()||n.focusIndex()||n.focus(0):n.focus(-1)},_listBound:function(){var n=this,f=n.input[0]===w(),i=n.dataSource.flatView(),u=n.listView.skip(),r=i.length,o=n.dataSource._group?n.dataSource._group.length:0,e=u===t||0===u;n._presetValue=!1,n._renderFooter(),n._renderNoData(),n._toggleNoData(!r),n._toggleHeader(!!o&&!!r),n._resizePopup(),n.popup.position(),n._buildOptions(i),n._makeUnselectable(),n._updateSelection(),i.length&&e&&(n._updateItemFocus(),n.options.suggest&&f&&n.input.val()&&n.suggest(i[0])),n._open&&(n._open=!1,n._typingTimeout&&!f?n.popup.close():n.toggle(n._allowOpening()),n._typingTimeout=null),n._hideBusy(),n.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]),this._presetValue&&(this._oldIndex=this.selectedIndex)},_get:function(n){var i,r,t;if("function"==typeof n){for(i=this.dataSource.flatView(),t=0;t<i.length;t++)if(n(i[t])){n=t,r=!0;break}r||(n=-1)}return n},_select:function(n,t){var i=this;return n=i._get(n),n===-1&&(i.input[0].value="",i._accessor("")),i.listView.select(n).done(function(){t||i._state!==h||(i._state=p),i._toggleCloseVisibility()})},_selectValue:function(n){var i=this.listView.select(),u="",r="";i=i[i.length-1],i===t&&(i=-1),this.selectedIndex=i,this.listView.isFiltered()&&i!==-1&&(this._valueBeforeCascade=this._old),i!==-1||n?((n||0===n)&&(u=this._dataValue(n),r=this._text(n)),null===u&&(u="")):(this.options.syncValueAndText?(r=this.options.dataTextField===this.options.dataValueField?this._accessor():this.input[0].value,u=r):r=this.text(),this.listView.focus(-1)),this._setDomInputValue(r),this._accessor(u!==t?u:r,i),this._placeholder(),this._triggerCascade()},_setDomInputValue:function(n){var t,r,u=this,i=l(this.input);i&&i.length&&(t=i[0]),this._prev=this.input[0].value=n,t&&this.selectedIndex===-1&&(r=it.mobileOS,r.wp||r.android?setTimeout(function(){u.input[0].setSelectionRange(t,t)},0):this.input[0].setSelectionRange(t,t))},refresh:function(){this.listView.refresh()},_toggleCloseVisibility:function(){var n=this.element.is(":disabled")||this.element.is("[readonly]");this.text()&&!n?this._showClear():this._hideClear()},suggest:function(n){var h,f=this,o=f.input[0],i=f.text(),e=l(o)[0],c=f._last,r=f.dataSource.options.accentFoldingFiltering;return c==u.BACKSPACE||c==u.DELETE?(f._last=t,t):(n=n||"","string"!=typeof n&&(n[0]&&(n=f.dataSource.view()[s.inArray(n[0],f.ul[0])]),n=n?f._text(n):""),e<=0&&(e=(r?i.toLocaleLowerCase(r):i.toLowerCase()).indexOf(r?n.toLocaleLowerCase(r):n.toLowerCase())+1),n?(n=""+n,h=(r?n.toLocaleLowerCase(r):n.toLowerCase()).indexOf(r?i.toLocaleLowerCase(r):i.toLowerCase()),h>-1&&(i+=n.substring(h+i.length))):i=i.substring(0,e),i.length===e&&n||(o.value=i,o===w()&&l(o,e,i.length)),t)},text:function(n){var i,u,o,f,r,e;return n=null===n?"":n,i=this,u=i.input[0],o=i.options.ignoreCase,f=n,n===t?u.value:i.options.autoBind!==!1||i.listView.bound()?(r=i.dataItem(),r&&i._text(r).replace&&i._text(r).replace(et,"")===n&&(e=i._value(r),e===s.unifyType(i._old,typeof e))?(i._triggerCascade(),t):(o&&(f=f.toLowerCase()),i.dataItem()&&i._text(i.dataItem())===n||(i._select(function(n){return n=i._text(n),o&&(n=(n+"").toLowerCase()),n===f}).done(function(){i.selectedIndex<0&&(u.value=n,i.options.syncValueAndText&&i._accessor(n),i._cascadeTriggered=!0,i._triggerCascade()),i._prev=u.value}),i._toggleCloseVisibility()),t)):(i._setText(n),t)},toggle:function(n){this._toggle(n,!0)},value:function(n){var i=this,u=i.options,r=i.listView;return n===t?(n=i._accessor()||i.listView.value()[0],n===t||null===n?"":n):(i.requireValueMapper(i.options,n),i.trigger("set",{value:n}),(n!==u.value||i.input.val()!==u.text||i.options.cascadeFrom)&&(i._accessor(n),i._isFilterEnabled()&&r.bound()&&r.isFiltered()?i._clearFilter():i._fetchData(),r.value(n).done(function(){i.selectedIndex!==-1||r._selectedDataItems&&r._selectedDataItems.length||(i._accessor(n),i.input.val(n),i._placeholder(!0)),i._old=i._userTriggered?i._accessor():i._valueBeforeCascade=i._accessor(),i._oldIndex=i.selectedIndex,i._prev=i._oldText=i.input.val(),i._state===h&&(i._state=p),i._toggleCloseVisibility()})),t)},_hideBusy:function(){var n=this;clearTimeout(n._busy),n._arrowIcon.removeClass(st),n._focused.attr("aria-busy",!1),n._busy=null,n._toggleCloseVisibility()},_click:function(n){var i=this,f=n.item,r=i.listView.dataItemByIndex(i.listView.getElementIndex(f)),u=!0;return n.preventDefault(),r&&(u=i._value(r)!==s.unifyType(i.value(),typeof i._value(r)),u||i.input.val(i._text(r))),u&&i.trigger("select",{dataItem:r,item:f})?(i.close(),t):(i._userTriggered=!0,i._select(f).done(function(){i._blur()}),t)},_syncValueAndText:function(){return this.options.syncValueAndText},_inputValue:function(){return this.text()},_searchByWord:function(n){var r,i=this,e=i.options,f=i.dataSource,u=e.ignoreCase,o=function(r){var f=i._text(r);if(f!==t)return f+="",(""===f||""!==n)&&(u&&(f=f.toLowerCase()),0===f.indexOf(n))};return u&&(n=n.toLowerCase()),i.ul[0].firstChild?(this.listView.focus(this._get(o)),r=this.listView.focus(),r&&(e.suggest&&i.suggest(r),this.open()),this.options.highlightFirst&&!n&&this.listView.focusFirst(),t):(f.one(c,function(){f.view()[0]&&i.search(n)}).fetch(),t)},_input:function(){var i,e,t=this,r=t.element.removeClass("k-input")[0],o=r.accessKey,u=t.wrapper,s="input.k-input",f=r.name||"";f&&(f='name="'+f+'_input" '),i=u.find(s),i[0]||(u.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+f+'class="k-input" type="text" autocomplete="'+ot+'"/><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(t.element),i=u.find(s)),i[0].style.cssText=r.style.cssText,i[0].title=r.title,e=parseInt(this.element.prop("maxlength")||this.element.attr("maxlength"),10),e>-1&&(i[0].maxLength=e),i.addClass(r.className).css({width:"",height:r.style.height}).attr({role:"combobox","aria-expanded":!1}).show(),tt&&i.attr("placeholder",t.options.placeholder),o&&(r.accessKey="",i[0].accessKey=o),t._focused=t.input=i,t._inputWrapper=n(u[0].firstChild),t._arrow=u.find(".k-select").attr({role:"button",tabIndex:-1}),t._arrowIcon=t._arrow.find(".k-icon"),r.id&&t._arrow.attr("aria-controls",t.ul[0].id)},_clearButton:function(){s.fn._clearButton.call(this),this.options.clearButton&&(this._clear.insertAfter(this.input),this.wrapper.addClass("k-combobox-clearable"))},_keydown:function(n){var f,i,e,t=this,r=n.keyCode;if(t._last=r,clearTimeout(t._typingTimeout),t._typingTimeout=null,r===u.HOME)t._firstItem();else if(r===u.END)t._lastItem();else if(r===u.ENTER||r===u.TAB&&t.popup.visible())if(f=t.listView.focus(),i=t.dataItem(),e=!0,t.popup.visible()||i&&t.text()===t._text(i)||(f=null),f){if(t.popup.visible()&&n.preventDefault(),i=t.listView.dataItemByIndex(t.listView.getElementIndex(f)),i&&(e=t._value(i)!==s.unifyType(t.value(),typeof t._value(i))),e&&t.trigger("select",{dataItem:i,item:f}))return;t._userTriggered=!0,t._select(f).done(function(){t._blur(),t._valueBeforeCascade=t._old=t.value()})}else(t._syncValueAndText()||t._isSelect)&&t._accessor(t.input.val()),t.options.highlightFirst?(t.listView.value(t.input.val()),t._blur()):t._oldText=t.text();else r==u.TAB||t._move(n)?r===u.ESC&&!t.popup.visible()&&t.text()&&t._clearValue():t._search()},_placeholder:function(n){if(!tt){var f,u=this,i=u.input,r=u.options.placeholder;if(r){if(f=u.value(),n===t&&(n=!f),i.toggleClass("k-readonly",n),!n){if(f)return;r=""}i.val(r),r||i[0]!==w()||l(i[0],0,0)}}},_search:function(){var n=this;clearTimeout(n._typingTimeout),n._typingTimeout=setTimeout(function(){var t=n.text();""!==t&&n._prev!==t?(n._prev=t,"none"===n.options.filter&&n.options.virtual&&n.listView.select(-1),n.search(t),n._toggleCloseVisibility()):""===t&&""!==n._prev&&(n._clearValue(),n.search("")),n._typingTimeout=null},n.options.delay)},_setText:function(n){this.input.val(n),this._prev=n},_wrapper:function(){var i=this,t=i.element,n=t.parent();n.is("span.k-widget")||(n=t.hide().wrap("<span />").parent(),n[0].style.cssText=t[0].style.cssText),i.wrapper=n.addClass("k-widget k-combobox").addClass(t[0].className).removeClass("input-validation-error").css("display","")},_clearSelection:function(n,t){var r=this,i=n.value(),u=i&&n.selectedIndex===-1;this.selectedIndex==-1&&this.value()||(t||!i||u)&&(r.options.value="",r.value(""))},_preselect:function(n,t){this.input.val(t),this._accessor(n),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(n),this._placeholder(),this._initialIndex=null,this._presetValue=!0,this._toggleCloseVisibility()},_clearText:function(){this._old=this.value(),this.text("")},_clearValue:function(){o.fn._clearValue.call(this),this.input.focus()}});b.plugin(ft)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.dateinput.min",["kendo.core.min"],n)}(function(){return function(n,t){function nt(n,t,i,r){var e,u,o,s,h=n[r+n.length-i.length];if(n=n.substring(0,r+n.length-i.length),i=i.substring(0,r),e=[],n===i&&r>0)return e.push([t[r-1],i[r-1]]),e;if(0===n.indexOf(i)&&(0===i.length||t[i.length-1]!==t[i.length])){for(o="",u=i.length;u<n.length;u++)t[u]!==o&&f.indexOf(t[u])>=0&&(o=t[u],e.push([o,""]));return e}if(" "===i[i.length-1]||i[i.length-1]===h)return[[t[r-1]," "]];if(0===i.indexOf(n)||f.indexOf(t[r-1])===-1){for(s=t[0],u=Math.max(0,n.length-1);u<t.length;u++)if(f.indexOf(t[u])>=0){s=t[u];break}return[[s,i[r-1]]]}return[[t[r-1],i[r-1]]]}var y,d=window,i=d.kendo,u=i.caret,p=i.ui,o=p.Widget,k=i.keys,r=".kendoDateInput",e=n.proxy,g={}.toString,v=(i.support.propertyChangeEvent?"propertychange.kendoDateInput input":"input")+r,a="k-state-disabled",c="k-state-default",l="k-state-invalid",w="disabled",h="readonly",s="change",f="dMyHhmftsz",b=o.extend({init:function(t,u){var e,s,f=this;o.fn.init.call(f,t,u),t=f.element,u=f.options,u.format=i._extractFormat(u.format||i.getCulture(u.culture).calendars.standard.patterns.d),u.min=i.parseDate(t.attr("min"))||i.parseDate(u.min),u.max=i.parseDate(t.attr("max"))||i.parseDate(u.max),e=(t.parent().attr("class")||"").indexOf("k-picker-wrap")>=0,e?f.wrapper=t.parent():(f.wrapper=t.wrap("<span class='k-widget k-dateinput'></span>").parent(),f.wrapper.addClass(t[0].className).removeClass("input-validation-error"),f.wrapper[0].style.cssText=t[0].style.cssText,t.css({width:"100%",height:t[0].style.height})),f._inputWrapper=n(f.wrapper[0]),n("<span class='k-icon k-i-warning'></span>").insertAfter(t),f._form(),f.element.addClass(e?" ":"k-textbox").attr("autocomplete","off").on("focusout"+r,function(){f._change()});try{t[0].setAttribute("type","text")}catch(h){t[0].type="text"}s=t.is("[disabled]")||n(f.element).parents("fieldset").is(":disabled"),s?f.enable(!1):f.readonly(t.is("[readonly]")),f.value(f.options.value||t.val()),i.notify(f)},options:{name:"DateInput",culture:"",value:"",format:"",min:new Date(1900,0,1),max:new Date(2099,11,31),messages:{year:"year",month:"month",day:"day",weekday:"day of the week",hour:"hours",minute:"minutes",second:"seconds",dayperiod:"AM/PM"}},events:[s],min:function(n){return n===t?this.options.min:(this.options.min=n,t)},max:function(n){return n===t?this.options.max:(this.options.max=n,t)},setOptions:function(n){var t=this;o.fn.setOptions.call(t,n),this._unbindInput(),this._bindInput(),this._updateElementValue()},destroy:function(){var n=this;n.element.off(r),n._formElement&&n._formElement.off("reset",n._resetHandler),o.fn.destroy.call(n)},value:function(n){return n===t?this._dateTime.getDateObject():(null===n&&(n=""),"[object Date]"!==g.call(n)&&(n=i.parseDate(n,this.options.format,this.options.culture)),n&&!n.getTime()&&(n=null),this._dateTime=new y(n,this.options.format,this.options.culture,this.options.messages),this._updateElementValue(),this._oldValue=n,t)},_updateElementValue:function(){var n=this._dateTime.toPair(this.options.format,this.options.culture,this.options.messages);this.element.val(n[0]),this._oldText=n[0],this._format=n[1]},readonly:function(n){this._editable({readonly:n===t||n,disable:!1})},enable:function(n){this._editable({readonly:!1,disable:!(n=n===t||n)})},_bindInput:function(){var n=this;n.element.on("focusout"+r,function(){n._change()}).on("paste"+r,e(n._paste,n)).on("keydown"+r,e(n._keydown,n)).on(v,e(n._input,n)).on("mouseup"+r,e(n._mouseUp,n)).on("DOMMouseScroll"+r+" mousewheel"+r,e(n._scroll,n))},_unbindInput:function(){this.element.off("keydown"+r).off("paste"+r).off("focusout"+r).off(v).off("mouseup"+r).off("DOMMouseScroll"+r+" mousewheel"+r)},_editable:function(n){var i=this,t=i.element,u=n.disable,r=n.readonly,f=i.wrapper;i._unbindInput(),r||u?(u&&(f.addClass(a).removeClass(c),t.attr(w,u),t&&t.length&&t[0].removeAttribute(h)),r&&t.attr(h,r)):(f.addClass(c).removeClass(a),t&&t.length&&(t[0].removeAttribute(w),t[0].removeAttribute(h)),i._bindInput())},_change:function(){var n=this,i=n._oldValue,t=n.value();t&&n.min()&&t<n.min()&&(n.value(n.min()),t=n.value()),t&&n.max()&&t>n.max()&&(n.value(n.max()),t=n.value()),(i&&t&&t.getTime()!==i.getTime()||i&&!t||!i&&t)&&(n._oldValue=t,n.trigger(s),n.element.trigger(s))},_input:function(){var n,f,r,o,s,h,c,t=this,a=t.element[0],e=!1;if(i._activeElement()===a){if(n=nt(this._oldText,this._format,this.element[0].value,u(this.element[0])[0]),f=1===n.length&&" "===n[0][1],!f)for(r=0;r<n.length;r++)o=this._dateTime.parsePart(n[r][0],n[r][1]),e=e||!o;this._updateElementValue(),n.length&&" "!==n[0][0]&&(this._selectSegment(n[0][0]),f||(s=n[0][0],setTimeout(function(){t._selectSegment(s)}))),f&&(h={keyCode:39,preventDefault:function(){}},this._keydown(h)),e&&(clearTimeout(t._blinkInvalidTimeout),c=l,t.wrapper.addClass(l),t._blinkInvalidTimeout=setTimeout(function(){t.wrapper.removeClass(c)},100))}},_mouseUp:function(){var n=u(this.element[0]);n[0]===n[1]&&this._selectNearestSegment()},_scroll:function(n){if(i._activeElement()===this.element[0]&&!this.element.is("[readonly]")){n=window.event||n;var t={keyCode:37,preventDefault:function(){}};t.keyCode=n.shiftKey?(n.wheelDelta||-n.detail)>0?37:39:(n.wheelDelta||-n.detail)>0?38:40,this._keydown(t),n.returnValue=!1,n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation()}},_form:function(){var t=this,r=t.element,u=r.attr("form"),f=u?n("#"+u):r.closest("form"),i=r[0].value;!i&&t.options.value&&(i=t.options.value),f[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(i)})},t._formElement=f.on("reset",t._resetHandler))},_paste:function(n){n.preventDefault()},_keydown:function(n){var e,c,r,o,h,l,a,t=n.keyCode;if(37==t||39==t)for(n.preventDefault(),e=u(this.element[0]),e[0]!=e[1]&&this._selectNearestSegment(),c=37==t?-1:1,r=c==-1?u(this.element[0])[0]-1:u(this.element[0])[1]+1;r>=0&&r<this._format.length;){if(f.indexOf(this._format[r])>=0){this._selectSegment(this._format[r]);break}r+=c}38!=t&&40!=t||(n.preventDefault(),e=u(this.element[0]),o=this._format[e[0]],f.indexOf(o)>=0&&(h=1,"m"==o&&(h=this.options.interval||1),this._dateTime.modifyPart(o,38==t?1*h:h*-1),this._updateElementValue(),this._selectSegment(o),this.element.trigger(s))),i.support.browser.msie&&i.support.browser.version<10&&(l=n.keyCode?n.keyCode:n.which,8!==l&&46!==l||(a=this,setTimeout(function(){a._input()},0))),t===k.ENTER&&this._change()},_selectNearestSegment:function(){for(var e=u(this.element[0]),r=e[0],i=r,n=r-1;i<this._format.length||n>=0;i++,n--){if(i<this._format.length&&f.indexOf(this._format[i])!==-1)return this._selectSegment(this._format[i]),t;if(n>=0&&f.indexOf(this._format[n])!==-1)return this._selectSegment(this._format[n]),t}},_selectSegment:function(n){for(var i=-1,r=0,t=0;t<this._format.length;t++)this._format[t]===n&&(r=t+1,i===-1&&(i=t));i<0&&(i=0),u(this.element,i,r)}});p.plugin(b),y=function(n,r,u,f){function s(n,t,i){return n+="",t=t||2,i=t-n.length,i?ot[t].substring(0,i)+n:n}function ut(n){return rt=n,et}function it(n,t){switch(n){case"y":v=t;break;case"M":c=t,t||(e.setMonth(0),p="");break;case"d":l=t;break;case"H":case"h":h=t,t||(y="");break;case"m":b=t;break;case"s":w=t;break;default:return}}var nt,d,e=null,v=!0,c=!0,l=!0,h=!0,b=!0,w=!0,k=!0,p="",y="",o={},ot=["","0","00","000","0000"],ft=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,g=null,a=null,tt=null,rt=!1,et=function(n){var r,u,i,y,f;switch(n){case"d":i=l?e.getDate():o.day;break;case"dd":i=l?s(e.getDate()):o.day;break;case"ddd":i=l&&c&&v?tt.namesAbbr[e.getDay()]:o.weekday;break;case"dddd":i=l&&c&&v?tt.names[e.getDay()]:o.weekday;break;case"M":i=c?e.getMonth()+1:o.month;break;case"MM":i=c?s(e.getMonth()+1):o.month;break;case"MMM":i=c?g.namesAbbr[e.getMonth()]:o.month;break;case"MMMM":i=c?g.names[e.getMonth()]:o.month;break;case"yy":i=v?s(e.getFullYear()%100):o.year;break;case"yyyy":i=v?s(e.getFullYear(),4):o.year;break;case"h":i=h?e.getHours()%12||12:o.hour;break;case"hh":i=h?s(e.getHours()%12||12):o.hour;break;case"H":i=h?e.getHours():o.hour;break;case"HH":i=h?s(e.getHours()):o.hour;break;case"m":i=b?e.getMinutes():o.minute;break;case"mm":i=b?s(e.getMinutes()):o.minute;break;case"s":i=w?e.getSeconds():o.second;break;case"ss":i=w?s(e.getSeconds()):o.second;break;case"f":i=k?Math.floor(e.getMilliseconds()/100):k;break;case"ff":i=e.getMilliseconds(),i>99&&(i=Math.floor(i/10)),i=k?s(i):n;break;case"fff":i=k?s(e.getMilliseconds(),3):n;break;case"tt":i=h?e.getHours()<12?a.AM[0]:a.PM[0]:o.dayperiod;break;case"zzz":r=e.getTimezoneOffset(),u=r<0,i=(""+Math.abs(r/60)).split(".")[0],r=Math.abs(r)-60*i,i=(u?"+":"-")+s(i),i+=":"+s(r);break;case"z":case"zz":i=e.getTimezoneOffset()/60,u=i<0,i=(""+Math.abs(i)).split(".")[0],i=(u?"+":"-")+("zz"===n?s(i):i)}if(i=i!==t?i:n.slice(1,n.length-1),rt){for(i=""+i,y="","ddd"==n&&(n="EEE"),"dddd"==n&&(n="EEEE"),f=0;f<i.length;f++)y+=n[0];return y}return i};if(this.setValue=function(n){l=n},this.getValue=function(){return l},this.modifyPart=function(n,t){var r,i=new Date(e&&e.getTime?e.getTime():e);switch(n){case"y":i.setFullYear(i.getFullYear()+t);break;case"M":r=i.getMonth()+t,i.setMonth(r),i.getMonth()%12!=(r+12)%12&&(i.setDate(1),i.setMonth(r));break;case"d":case"E":i.setDate(i.getDate()+t);break;case"H":case"h":i.setHours(i.getHours()+t);break;case"m":i.setMinutes(i.getMinutes()+t);break;case"s":i.setSeconds(i.getSeconds()+t);break;case"t":i.setHours((i.getHours()+12)%24)}i.getFullYear()>0&&(it(n,!0),e=i)},this.parsePart=function(n,t){var i,r,o,u,g,d,f,s,k;if(!t)return it(n,!1),!0;switch(i=new Date(e&&e.getTime?e.getTime():e),n){case"d":if(o=(l?10*i.getDate():0)+parseInt(t,10),isNaN(o))return;for(;o>31;)o=parseInt((""+o).slice(1),10);if(o<1)l=!1;else{if(i.setDate(o),i.getMonth()!==e.getMonth())return;l=!0}break;case"M":if(u=(c?10*(i.getMonth()+1):0)+parseInt(t,10),isNaN(u)){for(g=a.months.names,p+=t.toLowerCase();p.length>0;){for(d=0;d<g.length;d++)if(0===g[d].toLowerCase().indexOf(p))return i.setMonth(d),c=!0,e=i,!0;p=p.substring(1,p.length)}return!1}for(;u>12;)u=parseInt((""+u).slice(1),10);u<1?c=!1:(i.setMonth(u-1),i.getMonth()!==u-1&&(i.setDate(1),i.setMonth(u-1)),c=!0);break;case"y":if(f=(v?10*i.getFullYear():0)+parseInt(t,10),isNaN(f))return;for(;f>9999;)f=parseInt((""+f).slice(1),10);f<1?v=!1:(i.setFullYear(f),v=!0);break;case"h":if(r=(h?10*(i.getHours()%12||12):0)+parseInt(t,10),isNaN(r))return;for(;r>12;)r=parseInt((""+r).slice(1),10);i.setHours(12*Math.floor(i.getHours()/12)+r%12),h=!0;break;case"H":if(r=(h?10*i.getHours():0)+parseInt(t,10),isNaN(r))return;for(;r>23;)r=parseInt((""+r).slice(1),10);i.setHours(r),h=!0;break;case"m":if(s=(b?10*i.getMinutes():0)+parseInt(t,10),isNaN(s))return;for(;s>59;)s=parseInt((""+s).slice(1),10);i.setMinutes(s),b=!0;break;case"s":if(k=(w?10*i.getSeconds():0)+parseInt(t,10),isNaN(k))return;for(;k>59;)k=parseInt((""+k).slice(1),10);i.setSeconds(k),w=!0;break;case"t":if(h){for(y+=t.toLowerCase();y.length>0;){if(0===a.AM[0].toLowerCase().indexOf(y)&&i.getHours()>=12||0===a.PM[0].toLowerCase().indexOf(y)&&i.getHours()<12)return i.setHours((i.getHours()+12)%24),e=i,!0;y=y.substring(1,y.length)}return!1}}return e=i,!0},this.toPair=function(n,t,r){return n?(t=i.getCulture(t),a=t.calendars.standard,n=a.patterns[n]||n,tt=a.days,g=a.months,o=r,[n.replace(ft,ut(!1)),n.replace(ft,ut(!0))]):["",""]},this.getDateObject=function(){return v&&c&&l&&h&&b&&w&&k?new Date(e.getTime()):null},n)e=new Date(n.getTime());else for(e=new Date,nt=this.toPair(r,u,f)[1],d=0;d<nt.length;d++)it(nt[d],!1)}}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.userevents.min",["kendo.core.min"],n)}(function(){return function(n){function ot(n,t){var f=n.x.location,e=n.y.location,o=t.x.location,i=t.y.location,r=f-o,u=e-i;return{center:{x:(f+o)/2,y:(e+i)/2},distance:Math.sqrt(r*r+u*u)}}function h(n){var s,o,u,t=[],i=n.originalEvent,f=n.currentTarget,e=0;if(n.api)t.push({id:2,event:n,target:n.target,currentTarget:n.target,location:n,type:"api"});else if(n.type.match(/touch/))for(o=i?i.changedTouches:[],s=o.length;e<s;e++)u=o[e],t.push({location:u,event:n,target:u.target,currentTarget:f,id:u.identifier,type:"touch"});else t.push(r.pointers||r.msPointers?{location:i,event:n,target:n.target,currentTarget:f,id:i.pointerId,type:"pointer"}:{id:1,event:n,target:n.target,currentTarget:f,location:n,type:"mouse"});return t}function g(n){for(var r=i.eventMap.up.split(" "),t=0,u=r.length;t<u;t++)n(r[t])}var i=window.kendo,r=i.support,it=i.Class,rt=i.Observable,f=n.now,e=n.extend,tt=r.mobileOS,st=tt&&tt.android,nt=800,at=300,et=r.browser.msie?5:0,ut="press",a="hold",ft="select",d="start",s="move",c="end",v="cancel",o="tap",l="doubleTap",b="release",lt="gesturestart",k="gesturechange",w="gestureend",y="gesturetap",vt={api:0,touch:0,mouse:9,pointer:9},ct=!r.touch||r.mouseAndTouchPresent,p=it.extend({init:function(n,t){var i=this;i.axis=n,i._updateLocationData(t),i.startLocation=i.location,i.velocity=i.delta=0,i.timeStamp=f()},move:function(n){var t=this,i=n["page"+t.axis],r=f(),u=r-t.timeStamp||1;!i&&st||(t.delta=i-t.location,t._updateLocationData(n),t.initialDelta=i-t.startLocation,t.velocity=t.delta/u,t.timeStamp=r)},_updateLocationData:function(n){var t=this,i=t.axis;t.location=n["page"+i],t.client=n["client"+i],t.screen=n["screen"+i]}}),ht=it.extend({init:function(n,t,i){e(this,{x:new p("X",i.location),y:new p("Y",i.location),type:i.type,useClickAsTap:n.useClickAsTap,threshold:n.threshold||vt[i.type],userEvents:n,target:t,currentTarget:i.currentTarget,initialTouch:i.target,id:i.id,pressEvent:i,_clicks:n._clicks,supportDoubleTap:n.supportDoubleTap,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout(n.proxy(this,"_hold"),this.userEvents.minHold),this._trigger(ut,this.pressEvent)},_tap:function(n){var t=this;t.userEvents._clicks++,1==t.userEvents._clicks&&(t._clickTimeout=setTimeout(function(){1==t.userEvents._clicks?t._trigger(o,n):t._trigger(l,n),t.userEvents._clicks=0},at))},_hold:function(){this._trigger(a,this.pressEvent)},move:function(n){var t=this,i="api"!==n.type&&t.userEvents._shouldNotMove;if(!t._finished&&!i){if(t.x.move(n.location),t.y.move(n.location),!t._moved){if(t._withinIgnoreThreshold())return;if(u.current&&u.current!==t.userEvents)return t.dispose();t._start(n)}t._finished||t._trigger(s,n)}},end:function(n){this.endTime=f(),this._finished||(this._finished=!0,this._trigger(b,n),this._moved?this._trigger(c,n):this.useClickAsTap||(this.supportDoubleTap?this._tap(n):this._trigger(o,n)),clearTimeout(this._holdTimeout),this.dispose())},dispose:function(){var i=this.userEvents,t=i.touches;this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout),t.splice(n.inArray(this,t),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(n){clearTimeout(this._holdTimeout),this.startTime=f(),this._moved=!0,this._trigger(d,n)},_trigger:function(n,t){var i=this,r=t.event,u={touch:i,x:i.x,y:i.y,target:i.target,event:r};i.userEvents.notify(n,u)&&r.preventDefault()},_withinIgnoreThreshold:function(){var t=this.x.initialDelta,n=this.y.initialDelta;return Math.sqrt(t*t+n*n)<=this.threshold}}),u=rt.extend({init:function(t,u){var p,tt,it,ot,f=this,h=i.guid();u=u||{},p=f.filter=u.filter,f.threshold=u.threshold||et,f.minHold=u.minHold||nt,f.touches=[],f._maxTouches=u.multiTouch?2:1,f.allowSelection=u.allowSelection,f.captureUpIfMoved=u.captureUpIfMoved,f.useClickAsTap=!u.fastTap&&!r.delayedClick(),f.eventNS=h,f._clicks=0,f.supportDoubleTap=u.supportDoubleTap,t=n(t).handler(f),rt.fn.init.call(f),e(f,{element:t,surface:n(u.global&&ct?t[0].ownerDocument.documentElement:u.surface||t),stopPropagation:u.stopPropagation,pressed:!1}),f.surface.handler(f).on(i.applyEventMap("move",h),"_move").on(i.applyEventMap("up cancel",h),"_end"),t.on(i.applyEventMap("down",h),p,"_start"),f.useClickAsTap&&t.on(i.applyEventMap("click",h),p,"_click"),(r.pointers||r.msPointers)&&(r.browser.version<11?(tt="pinch-zoom double-tap-zoom",t.css("-ms-touch-action",u.touchAction&&"none"!=u.touchAction?tt+" "+u.touchAction:tt)):t.css("touch-action",u.touchAction||"none")),u.preventDragEvent&&t.on(i.applyEventMap("dragstart",h),i.preventDefault),t.on(i.applyEventMap("mousedown",h),p,{root:t},"_select"),f.captureUpIfMoved&&r.eventCapture&&(it=f.surface[0],ot=n.proxy(f.preventIfMoving,f),g(function(n){it.addEventListener(n,ot,!0)})),f.bind([ut,a,o,l,d,s,c,b,v,lt,k,w,y,ft],u)},preventIfMoving:function(n){this._isMoved()&&n.preventDefault()},destroy:function(){var t,n=this;n._destroyed||(n._destroyed=!0,n.captureUpIfMoved&&r.eventCapture&&(t=n.surface[0],g(function(i){t.removeEventListener(i,n.preventIfMoving)})),n.element.kendoDestroy(n.eventNS),n.surface.kendoDestroy(n.eventNS),n.element.removeData("handler"),n.surface.removeData("handler"),n._disposeAll(),n.unbind(),delete n.surface,delete n.element,delete n.currentTarget)},capture:function(){u.current=this},cancel:function(){this._disposeAll(),this.trigger(v)},notify:function(n,t){var r=this,i=r.touches;if(this._isMultiTouch()){switch(n){case s:n=k;break;case c:n=w;break;case o:n=y}e(t,{touches:i},ot(i[0],i[1]))}return this.trigger(n,e(t,{type:n}))},press:function(n,t,i){this._apiCall("_start",n,t,i)},move:function(n,t){this._apiCall("_move",n,t)},end:function(n,t){this._apiCall("_end",n,t)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var n=this.touches;n.length>0;)n.pop().dispose()},_isMoved:function(){return n.grep(this.touches,function(n){return n.isMoved()}).length},_select:function(n){this.allowSelection&&!this.trigger(ft,{event:n})||n.preventDefault()},_start:function(t){var e,r,i=this,f=0,c=i.filter,s=h(t),l=s.length,o=t.which;if(!(o&&o>1||i._maxTouchesReached()))for(u.current=null,i.currentTarget=t.currentTarget,i.stopPropagation&&t.stopPropagation();f<l&&!i._maxTouchesReached();f++)r=s[f],e=c?n(r.currentTarget):i.element,e.length&&(r=new ht(i,e,r),i.touches.push(r),r.press(),i._isMultiTouch()&&i.notify("gesturestart",{}))},_move:function(n){this._eachTouch("move",n)},_end:function(n){this._eachTouch("end",n)},_click:function(t){var i={touch:{initialTouch:t.target,target:n(t.currentTarget),endTime:f(),x:{location:t.pageX,client:t.clientX},y:{location:t.pageY,client:t.clientY}},x:t.pageX,y:t.pageY,target:n(t.currentTarget),event:t,type:"tap"};this.trigger("tap",i)&&t.preventDefault()},_eachTouch:function(n,t){for(var f,u,r,c=this,s={},e=h(t),o=c.touches,i=0;i<o.length;i++)f=o[i],s[f.id]=f;for(i=0;i<e.length;i++)u=e[i],r=s[u.id],r&&r[n](u)},_apiCall:function(t,i,r,u){this[t]({api:!0,pageX:i,pageY:r,clientX:i,clientY:r,target:n(u||this.element)[0],stopPropagation:n.noop,preventDefault:n.noop})}});u.defaultThreshold=function(n){et=n},u.minHold=function(n){nt=n},i.getTouches=h,i.touchDelta=ot,i.UserEvents=u}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.selectable.min",["kendo.core.min","kendo.userevents.min"],n)}(function(){return function(n,t){function w(n,t){if(!n.is(":visible"))return!1;var i=r.getOffset(n),f=t.left+t.width,u=t.top+t.height;return i.right=i.left+r._outerWidth(n),i.bottom=i.top+r._outerHeight(n),!(i.left>f||i.right<t.left||i.top>u||i.bottom<t.top)}var h,r=window.kendo,c=r.ui.Widget,f=n.proxy,y=Math.abs,p="aria-selected",i="k-state-selected",e="k-state-selecting",o="k-selectable",s="change",b=".kendoSelectable",v="unselect",u="k-state-unselecting",k="input,a,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up,label.k-checkbox-label.k-no-text,.k-icon.k-i-collapse,.k-icon.k-i-expand,span.k-numeric-wrap,.k-focusable",a=r.support.browser.msie,l=!1;!function(n){!function(){n('<div class="parent"><span></span></div>').on("click",">*",function(){l=!0}).find("span").trigger("click").end().off()}()}(n),h=c.extend({init:function(t,i){var e,u=this;c.fn.init.call(u,t,i),u._marquee=n("<div class='k-marquee'><div class='k-marquee-color'></div></div>"),u._lastActive=null,u.element.addClass(o),u.relatedTarget=u.options.relatedTarget,e=u.options.multiple,this.options.aria&&e&&u.element.attr("aria-multiselectable",!0),u.userEvents=new r.UserEvents(u.element,{global:!0,allowSelection:!0,filter:(l?"":"."+o+" ")+u.options.filter,tap:f(u._tap,u),touchAction:e?"none":"pan-x pan-y"}),e&&u.userEvents.bind("start",f(u._start,u)).bind("move",f(u._move,u)).bind("end",f(u._end,u)).bind("select",f(u._select,u))},events:[s,v],options:{name:"Selectable",filter:">*",inputSelectors:k,multiple:!1,relatedTarget:n.noop},_isElement:function(n){var t,r=this.element,u=r.length,i=!1;for(n=n[0],t=0;t<u;t++)if(r[t]===n){i=!0;break}return i},_tap:function(t){var c,u=n(t.target),r=this,l=t.event.ctrlKey||t.event.metaKey,h=r.options.multiple,a=h&&t.event.shiftKey,f=t.event.which,e=t.event.button;!r._isElement(u.closest("."+o))||f&&3==f||e&&2==e||this._allowSelection(t.event.target)&&(c=u.hasClass(i),h&&l||r.clear(),u=u.add(r.relatedTarget(u)),a?r.selectRange(r._firstSelectee(),u,t):(c&&l?(r._unselect(u),r._notify(s,t)):r.value(u,t),r._lastActive=r._downTarget=u))},_start:function(r){var h,f=this,e=n(r.target),c=e.hasClass(i),s=r.event.ctrlKey||r.event.metaKey;if(this._allowSelection(r.event.target)){if(f._downTarget=e,!f._isElement(e.closest("."+o)))return f.userEvents.cancel(),t;f.options.useAllItems?f._items=f.element.find(f.options.filter):(h=e.closest(f.element),f._items=h.find(f.options.filter)),r.sender.capture(),f._marquee.appendTo(document.body).css({left:r.x.client+1,top:r.y.client+1,width:0,height:0}),s||f.clear(),e=e.add(f.relatedTarget(e)),c&&(f._selectElement(e,!0),s&&e.addClass(u))}},_move:function(n){var i=this,t={left:n.x.startLocation>n.x.location?n.x.location:n.x.startLocation,top:n.y.startLocation>n.y.location?n.y.location:n.y.startLocation,width:y(n.x.initialDelta),height:y(n.y.initialDelta)};i._marquee.css(t),i._invalidateSelectables(t,n.event.ctrlKey||n.event.metaKey),n.preventDefault()},_end:function(n){var i,t=this;t._marquee.remove(),t._unselect(t.element.find(t.options.filter+"."+u)).removeClass(u),i=t.element.find(t.options.filter+"."+e),i=i.add(t.relatedTarget(i)),t.value(i,n),t._lastActive=t._downTarget,t._items=null},_invalidateSelectables:function(n,t){for(var f,r,c=this._downTarget[0],s=this._items,o=0,h=s.length;o<h;o++)r=s.eq(o),f=r.add(this.relatedTarget(r)),w(r,n)?r.hasClass(i)?t&&c!==r[0]&&f.removeClass(i).addClass(u):r.hasClass(e)||r.hasClass(u)||f.addClass(e):r.hasClass(e)?f.removeClass(e):t&&r.hasClass(u)&&f.removeClass(u).addClass(i)},value:function(n,r){var u=this,e=f(u._selectElement,u);return n?(n.each(function(){e(this)}),u._notify(s,r),t):u.element.find(u.options.filter+"."+i)},_firstSelectee:function(){var t,n=this;return null!==n._lastActive?n._lastActive:(t=n.value(),t.length>0?t[0]:n.element.find(n.options.filter)[0])},_selectElement:function(t,r){var u=n(t),f=!r&&this._notify("select",{element:t});u.removeClass(e),f||(u.addClass(i),this.options.aria&&u.attr(p,!0))},_notify:function(n,t){return t=t||{},this.trigger(n,t)},_unselect:function(n){if(!this.trigger(v,{element:n}))return n.removeClass(i),this.options.aria&&n.attr(p,!1),n},_select:function(t){this._allowSelection(t.event.target)&&(!a||a&&!n(r._activeElement()).is(this.options.inputSelectors))&&t.preventDefault()},_allowSelection:function(t){return!n(t).is(this.options.inputSelectors)||(this.userEvents.cancel(),this._downTarget=null,!1)},resetTouchEvents:function(){this.userEvents.cancel()},clear:function(){var n=this.element.find(this.options.filter+"."+i);this._unselect(n)},selectRange:function(t,i,r){var e,o,f,u=this;for(u.clear(),u.element.length>1&&(f=u.options.continuousItems()),f&&f.length||(f=u.element.find(u.options.filter)),t=n.inArray(n(t)[0],f),i=n.inArray(n(i)[0],f),t>i&&(o=t,t=i,i=o),u.options.useAllItems||(i+=u.element.length-1),e=t;e<=i;e++)u._selectElement(f[e]);u._notify(s,r)},destroy:function(){var n=this;c.fn.destroy.call(n),n.element.off(b),n.userEvents.destroy(),n._marquee=n._lastActive=n.element=n.userEvents=null}}),h.parseOptions=function(n){var t="string"==typeof n&&n.toLowerCase();return{multiple:t&&t.indexOf("multiple")>-1,cell:t&&t.indexOf("cell")>-1}},r.ui.plugin(h)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.calendar.min",["kendo.core.min","kendo.selectable.min"],n)}(function(){return function(n,t){function or(n,t,i,r){var f,u=n.getFullYear(),o=t.getFullYear(),e=i.getFullYear();return u-=u%r,f=u+(r-1),u<o&&(u=o),f>e&&(f=e),u+"-"+f}function ft(n){var f,u=0,nt=n.min,w=n.max,t=n.start,p=n.setter,k=n.build,e=n.weekNumberBuild,v=n.cells||12,h=n.isWeekColumnVisible,d=n.perRow||4,s=n.otherMonth,y=n.lastDayOfMonth,o=n.weekNumber||kr,l=n.content||br,c=n.empty||wr,a=n.otherMonthCellTemplate||pr,i=n.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';for(h&&(i+=o(e(t)));u<v;u++)u>0&&u%d==0&&(i+='</tr><tr role="row">',h&&(i+=o(s||+t<=+y?e(t):{weekNumber:"&nbsp;"}))),t=r(t.getFullYear(),t.getMonth(),t.getDate()),rt(t,0),f=k(t,u,n.disableDates),i+=f.cssClass.indexOf(g)===-1||s?b(t,nt,w)?l(f):c(f):a(f),p(t,1);return i+"</tr></tbody></table>"}function dt(n,t,i){var f=n.getFullYear(),r=t.getFullYear(),e=r,u=0;return i&&(r-=r%i,e=r-r%i+i-1),f>e?u=1:f<r&&(u=-1),u}function w(){var n=new o;return new o(n.getFullYear(),n.getMonth(),n.getDate())}function k(n,t,i){var r=w();return n&&(r=new o(+n)),t>r?r=new o(+t):i<r&&(r=new o(+i)),r}function b(n,t,i){return+n>=+t&&+n<=+i}function er(n,t){return n.slice(t).concat(n.slice(0,t))}function fr(n,t,i){t=t instanceof o?t.getFullYear():n.getFullYear()+i*t,n.setFullYear(t)}function wi(n,t){var e,u,r;return+t<+n&&(e=+n,f.views[0].setDate(n,t),f.views[0].setDate(t,new Date(e))),u=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()),r=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),Math.ceil((+r-+u)/i.date.MS_PER_DAY)}function bi(n,t,i,r){for(var u,f=0;f<=t;f++)u=new Date(i.getTime()),u=new Date(u.setDate(u.getDate()+f)),r(u)||n.push(u)}function nr(t){var i=n(this).hasClass("k-state-disabled");i||n(this).toggleClass(st,iu.indexOf(t.type)>-1||t.type==fi)}function yr(n){n.preventDefault()}function r(n,t,i){var r=new o(n,t,i);return r.setFullYear(n,t,i),r}function at(n){return ki(n).calendars.standard}function pt(n){var i=a[n.start],r=a[n.depth],u=ki(n.culture);n.format=ou(n.format||u.calendars.standard.patterns.d),isNaN(i)&&(i=0,n.start=ut),(r===t||r>i)&&(n.depth=ut),null===n.dates&&(n.dates=[])}function tr(n){nu&&n.find("*").attr("unselectable","on")}function gi(n,t){n.addClass("k-"+t)}function cr(n,t){for(var i=0,r=t.length;i<r;i++)if(n===+t[i])return!0;return!1}function hr(n,t){return!!n&&n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()&&n.getDate()===t.getDate()}function uu(n,t){return!!n&&n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()}function yt(t){return i.isFunction(t)?t:n.isArray(t)?fu(t):n.noop}function ru(n){for(var i=[],t=0;t<n.length;t++)i.push(n[t].setHours(0,0,0,0));return i}function fu(t){var u,h,i,s,f,r=[],c=["su","mo","tu","we","th","fr","sa"],e="if (found) { return true } else {return false}";if(t[0]instanceof o)r=ru(t),u="var found = date && window.kendo.jQuery.inArray(date.setHours(0, 0, 0, 0),["+r+"]) > -1;"+e;else{for(i=0;i<t.length;i++)s=t[i].slice(0,2).toLowerCase(),f=n.inArray(s,c),f>-1&&r.push(f);u="var found = date && window.kendo.jQuery.inArray(date.getDay(),["+r+"]) > -1;"+e}return h=Function("date",u)}function bt(n,t){return n instanceof Date&&t instanceof Date&&(n=n.getTime(),t=t.getTime()),n===t}function s(t){var u=n(t).attr(i.attr(ot)).split("/");return u=r(u[0],u[1],u[2])}var f,i=window.kendo,kt=i.support,di=i.ui,et=di.Widget,e=i.keys,ht=i.parseDate,rt=i.date.adjustDST,su=i.date.weekInYear,ct=i.ui.Selectable,ou=i._extractFormat,p=i.template,ki=i.getCulture,pi=i.support.transitions,yi=pi?pi.css+"transform-origin":"",br=p('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),wr=p('<td role="gridcell" class="k-out-of-range"><a class="k-link"></a></td>',{useWithBlock:!1}),pr=p('<td role="gridcell" class="k-out-of-range">&nbsp;</td>',{useWithBlock:!1}),kr=p('<td class="k-alt">#= data.weekNumber #</td>',{useWithBlock:!1}),ir=i.support.browser,nu=ir.msie&&ir.version<9,gr=i._outerWidth,u=".kendoCalendar",v="click"+u,dr="keydown"+u,lt="id",rr="min",ur="left",gt="slideIn",ut="month",ti="century",y="change",ni="navigate",ot="value",st="k-state-hover",l="k-state-disabled",c="k-state-focused",g="k-other-month",vi=' class="'+g+'"',tu="k-out-of-range",ai="k-nav-today",d="td:has(.k-link)",h="td:has(.k-link):not(."+l+"):not(."+tu+")",eu="td:not(:has(.k-link))",hi="k-state-selected",si="blur"+u,fi="focus",ei=fi+u,iu=kt.touch?"touchstart":"mouseenter",oi=kt.touch?"touchstart"+u:"mouseenter"+u,ci=kt.touch?"touchend"+u+" touchmove"+u:"mouseleave"+u,sr=6e4,li=864e5,tt="_prevArrow",nt="_nextArrow",wt="aria-disabled",ui="aria-selected",vt="aria-label",it=n.proxy,ri=n.extend,o=Date,a={month:0,year:1,decade:2,century:3},ii=".k-header, .k-calendar-header",ar='<div class="k-header"><a href="\\#" '+i.attr("action")+'="prev" role="button" class="k-link k-nav-prev" '+vt+'="Previous"><span class="k-icon k-i-arrow-60-left"></span></a><a href="\\#" '+i.attr("action")+'="nav-up" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="\\#" '+i.attr("action")+'="next" role="button" class="k-link k-nav-next" '+vt+'="Next"><span class="k-icon k-i-arrow-60-right"></span></a></div>',lr='<div class="k-calendar-header"><a href="\\#" '+i.attr("action")+'="nav-up" role="button" aria-live="assertive" aria-atomic="true" class="k-button k-title"></a><span class="k-calendar-nav"><a '+i.attr("action")+'="prev" class="k-button k-button-icon k-prev-view"><span class="k-icon k-i-arrow-60-left"></span></a><a '+i.attr("action")+'="today" class="k-today">#=messages.today#</a><a '+i.attr("action")+'="next" class="k-button k-button-icon k-next-view"><span class="k-icon k-i-arrow-60-right"></span></a></span></div>',vr=et.extend({init:function(t,r){var e,y,f=this;r=r||{},r.componentType=r.componentType||"classic",et.fn.init.call(f,t,r),t=f.wrapper=f.element,r=f.options,r.url=i.unescape(r.url),f.options.disableDates=yt(f.options.disableDates),f._templates(),f._selectable(),f._header(),f._viewWrapper(),f.options.hasFooter&&f._footer(f.footer),y=t.addClass("k-widget k-calendar "+(r.weekNumber?" k-week-number":"")).on(oi+" "+ci,d,nr).on(dr,"table.k-content",it(f._move,f)).on(v+" touchend",d,function(t){var i=t.currentTarget.firstChild,u=s(i);i.href.indexOf("#")!=-1&&t.preventDefault(),"month"==f._view.name&&f.options.disableDates(u)||"month"==f._view.name&&"single"!=r.selectable||f._click(n(i))}).on("mouseup"+u,"table.k-content, .k-footer",function(){f._focusView(f.options.focusOnNav!==!1)}).attr(lt),y&&(f._cellID=y+"_cell_selected"),f._isMultipleSelection()&&f.options.weekNumber&&t.on(v,eu,function(t){var r=n(t.currentTarget).closest("tr").find(h).first(),i=f.selectable._lastActive=n(t.currentTarget).closest("tr").find(h).last();f.selectable.selectRange(r,i,{event:t}),f._current=f._value=s(i.find("a")),f._class(c,f._current)}),pt(r),e=ht(r.value,r.format,r.culture),f._selectDates=[],f._index=a[r.start],f._current=new o(+k(e,r.min,r.max)),f._addClassProxy=function(){if(f._active=!0,f._cell.hasClass(l)){var n=f._view.toDateString(w());f._cell=f._cellByDate(n)}f._cell.addClass(c)},f._removeClassProxy=function(){f._active=!1,f._cell.removeClass(c)},f.value(e),f._isMultipleSelection()&&r.selectDates.length>0&&f.selectDates(r.selectDates),i.notify(f)},options:{name:"Calendar",value:null,min:new o(1900,0,1),max:new o(2099,11,31),dates:[],disableDates:null,url:"",culture:"",footer:"",format:"",month:{},weekNumber:!1,selectable:"single",selectDates:[],start:ut,depth:ut,animation:{horizontal:{effects:gt,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}},messages:{weekColumnHeader:"",today:"Today"}},events:[y,ni],componentTypes:{classic:{header:{template:ar},hasFooter:!0,linksSelector:".k-link",contentClasses:"k-content"},modern:{header:{template:lr},hasFooter:!1,linksSelector:".k-button",contentClasses:"k-content k-calendar-content"}},setOptions:function(n){var t=this;pt(n),n.disableDates=yt(n.disableDates),t._destroySelectable(),et.fn.setOptions.call(t,n),t._templates(),t._selectable(),t._viewWrapper(),t.options.hasFooter?t._footer(t.footer):t.element.find(".k-footer").hide(),t._index=a[t.options.start],t.navigate(),n.weekNumber&&t.element.addClass("k-week-number")},destroy:function(){var n=this,t=n._today;n.element.off(u),n._title.off(u),n[tt].off(u),n[nt].off(u),n._destroySelectable(),i.destroy(n._table),t&&i.destroy(t.off(u)),et.fn.destroy.call(n)},current:function(){return this._current},view:function(){return this._view},focus:function(n){n=n||this._table,this._bindTable(n),n.trigger("focus")},min:function(n){return this._option(rr,n)},max:function(n){return this._option("max",n)},navigateToPast:function(){this._navigate(tt,-1)},navigateToFuture:function(){this._navigate(nt,1)},navigateUp:function(){var n=this,t=n._index;n._title.hasClass(l)||n.navigate(n._current,++t)},navigateDown:function(n){var i=this,r=i._index,u=i.options.depth;if(n)return r===a[u]?(bt(i._value,i._current)&&bt(i._value,n)||(i.value(n),i.trigger(y)),t):(i.navigate(n,--r),t)},navigate:function(i,r){var u,e,it,w,p,rt,s,b,ut,ot,et,y,v,g,h,d,ft;r=isNaN(r)?a[r]:r,u=this,e=u.options,it=e.culture,w=e.min,p=e.max,rt=u._title,s=u._table,b=u._oldTable,ut=u._current,ot=i&&+i>+ut,et=r!==t&&r!==u._index,d=u.element.children(".k-calendar-view"),i||(i=ut),u._current=i=new o(+k(i,w,p)),r===t?r=u._index:u._index=r,u._view=v=f.views[r],g=v.compare,h=r===a[ti],rt.toggleClass(l,h).attr(wt,h),h=g(i,w)<1,u[tt].toggleClass(l,h).attr(wt,h),u[tt].hasClass(l)&&u[tt].removeClass(st),h=g(i,p)>-1,u[nt].toggleClass(l,h).attr(wt,h),u[nt].hasClass(l)&&u[nt].removeClass(st),s&&b&&b.data("animating")&&(b.kendoStop(!0,!0),s.kendoStop(!0,!0)),u._oldTable=s,s&&!u._changeView||(rt.html(v.title(i,w,p,it)),u._table=y=n(v.content(ri({min:w,max:p,date:i,url:e.url,dates:e.dates,format:e.format,otherMonth:!0,culture:it,disableDates:e.disableDates,isWeekColumnVisible:e.weekNumber,messages:e.messages,contentClasses:u.options.contentClasses},u[v.name]))),gi(y,v.name),tr(y),ft=s&&s.data("start")===y.data("start"),u._animate({from:s,to:y,vertical:et,future:ot,replace:ft}),"modern"===u.options.componentType&&(d.removeClass("k-calendar-monthview k-calendar-yearview k-calendar-decadeview k-calendar-centuryview"),d.addClass("k-calendar-"+v.name+"view")),u.trigger(ni),u._focus(i)),r===a[e.depth]&&u._selectDates.length>0&&u._visualizeSelectedDatesInView(),"single"===u.options.selectable&&r===a[e.depth]&&u._value&&!u.options.disableDates(u._value)&&u._class("k-state-selected",u._value),u._class(c,i),!s&&u._cell&&u._cell.removeClass(c),u._changeView=!0},selectDates:function(i){var f,u,r=this;return i===t?r._selectDates:(u=i.map(function(n){return n.getTime()}).filter(function(n,t,i){return i.indexOf(n)===t}).map(function(n){return new Date(n)}),f=n.grep(u,function(n){if(n)return+r._validateValue(new Date(n.setHours(0,0,0,0)))==+n}),r._selectDates=f.length>0?f:0===u.length?u:r._selectDates,r._visualizeSelectedDatesInView(),t)},value:function(n){var r,i=this,f=i._view,u=i._view;return n===t?i._value:(n=i._validateValue(n),n&&i._isMultipleSelection()&&(r=new Date(+n),r.setHours(0,0,0,0),i._selectDates=[r],i.selectable._lastActive=null),f&&null===n&&i._cell?i._cell.removeClass(hi):(i._changeView=!n||u&&0!==u.compare(n,i._current),i.navigate(n)),t)},_validateValue:function(n){var i=this,u=i.options,e=u.min,f=u.max;return null===n&&(i._current=r(i._current.getFullYear(),i._current.getMonth(),i._current.getDate())),n=ht(n,u.format,u.culture),null!==n&&(n=new o(+n),b(n,e,f)||(n=null)),null!==n&&i.options.disableDates(new Date(+n))?i._value===t&&(i._value=null):i._value=n,i._value},_visualizeSelectedDatesInView:function(){var r,t=this,u={};n.each(t._selectDates,function(n,t){u[i.calendar.views[0].toDateString(t)]=t}),t.selectable.clear(),r=t._table.find(d).filter(function(t,r){return u[n(r.firstChild).attr(i.attr(ot))]}),r.length>0&&t.selectable._selectElement(r,!0)},_isMultipleSelection:function(){var n=this;return"multiple"===n.options.selectable},_selectable:function(){var i,t,n=this;n._isMultipleSelection()&&(i=n.options.selectable,t=ct.parseOptions(i),t.multiple&&n.element.attr("aria-multiselectable","true"),n.selectable=new ct(n.wrapper,{aria:!0,inputSelectors:"input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up",multiple:t.multiple,filter:"table.k-month:eq(0) "+h,change:it(n._onSelect,n),relatedTarget:it(n._onRelatedTarget,n)}))},_onRelatedTarget:function(n){var t=this;t.selectable.options.multiple&&n.is(h)&&(t._current=s(n.find("a")),t._class(c,s(n.find("a"))))},_onSelect:function(i){var r=this,u=i,f=ct.parseOptions(r.options.selectable);return f.multiple?(u.event.ctrlKey||u.event.metaKey?n(u.event.currentTarget).is(h)?r._toggleSelection(n(u.event.currentTarget)):(r._cellsBySelector(h).each(function(t,i){var u=s(n(i).find("a"));r._deselect(u)}),r._addSelectedCellsToArray()):u.event.shiftKey?r._rangeSelection(r._cell):n(u.event.currentTarget).is(d)?r.value(s(n(u.event.currentTarget).find("a"))):(r._selectDates=[],r._addSelectedCellsToArray()),r.trigger(y),t):(n(u.event.currentTarget).is("td")&&!n(u.event.currentTarget).hasClass("k-state-selected")?n(u.event.currentTarget).addClass("k-state-selected"):r._click(n(u.event.currentTarget).find("a")),t)},_destroySelectable:function(){var n=this;n.selectable&&(n.selectable.destroy(),n.selectable=null)},_toggleSelection:function(n){var i=this,t=s(n.find("a"));n.hasClass("k-state-selected")?i._selectDates.push(t):i._deselect(t)},_rangeSelection:function(n,t){var u,i=this,r=t||s(i.selectable.value().first().find("a")),f=s(n.find("a"));i.selectable._lastActive||i._value?r=i.selectable._lastActive?s(i.selectable._lastActive.find("a")):new Date(+i._value):i.selectable._lastActive=t?i._cellByDate(i._view.toDateString(t),h):i.selectable.value().first(),i._selectDates=[],u=wi(r,f),bi(i._selectDates,u,r,i.options.disableDates),i._visualizeSelectedDatesInView()},_cellsBySelector:function(n){var t=this;return t._table.find(n)},_addSelectedCellsToArray:function(){var t=this;t.selectable.value().each(function(i,r){var u=s(n(r.firstChild));t.options.disableDates(u)||t._selectDates.push(u)})},_deselect:function(n){var i=this,t=i._selectDates.map(Number).indexOf(+n);t!=-1&&i._selectDates.splice(t,1)},_dateInView:function(n){var t=this,r=s(t._cellsBySelector(h+":first").find("a")),i=s(t._cellsBySelector(h+":last").find("a"));return+n<=+i&&+n>=+r},_isNavigatable:function(n,t){var u,f,i=this,r=i.options.disableDates;return"month"==i._view.name?!r(n):(f=i.wrapper.find("."+c).index(),u=i.wrapper.find(".k-content td:eq("+(f+t)+")"),u.is(h)||!r(n))},_move:function(u){var v,a,d,g,it,f=this,nt=f.options,l=u.keyCode,tt=f._view,rt=f._index,p=f.options.min,ut=f.options.max,h=new o(+f._current),w=i.support.isRtl(f.wrapper),ft=f.options.disableDates;return u.target===f._table[0]&&(f._active=!0),l==e.RIGHT&&!w||l==e.LEFT&&w?(v=1,a=!0):l==e.LEFT&&!w||l==e.RIGHT&&w?(v=-1,a=!0):l==e.UP?(v=0===rt?-7:-4,a=!0):l==e.DOWN?(v=0===rt?7:4,a=!0):l==e.SPACEBAR?(v=0,a=!0):l!=e.HOME&&l!=e.END||(d=l==e.HOME?"first":"last",g=tt[d](h),h=new o(g.getFullYear(),g.getMonth(),g.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds()),h.setFullYear(g.getFullYear()),a=!0),u.ctrlKey||u.metaKey?l==e.RIGHT&&!w||l==e.LEFT&&w?(f.navigateToFuture(),a=!0):l==e.LEFT&&!w||l==e.RIGHT&&w?(f.navigateToPast(),a=!0):l==e.UP?(f.navigateUp(),a=!0):l==e.DOWN?(f._click(n(f._cell[0].firstChild)),a=!0):l!=e.ENTER&&l!=e.SPACEBAR||!f._isMultipleSelection()||(f._keyboardToggleSelection(u),it=s(n(f._cell[0]).find("a")),f._class(c,it)):u.shiftKey?(v!==t||d)&&(d||tt.setDate(h,v),b(h,p,ut)||(h=k(h,nt.min,nt.max)),ft(h)&&(h=f._nextNavigatable(h,v)),p=r(p.getFullYear(),p.getMonth(),p.getDate()),f._isMultipleSelection()?f._keyboardRangeSelection(u,h):f._focus(h)):(l==e.ENTER||l==e.SPACEBAR?("month"==tt.name&&f._isMultipleSelection()?(f.value(s(n(f._cell.find("a")))),f.selectable._lastActive=n(f._cell[0]),f.trigger(y)):f._click(n(f._cell[0].firstChild)),a=!0):l==e.PAGEUP?(a=!0,f.navigateToPast()):l==e.PAGEDOWN&&(a=!0,f.navigateToFuture()),(v||d)&&(d||tt.setDate(h,v),p=r(p.getFullYear(),p.getMonth(),p.getDate()),b(h,p,ut)||(h=k(h,nt.min,nt.max)),f._isNavigatable(h,v)||(h=f._nextNavigatable(h,v)),f._isMultipleSelection()?f._dateInView(h)?(f._current=h,f._class(c,h)):f.navigate(h):f._focus(h))),a&&u.preventDefault(),f._current},_keyboardRangeSelection:function(n,i){var u,f,r=this;return r._dateInView(i)?(r.selectable.options.filter=r.wrapper.find("table").length>1&&+i>+r._current?"table.k-month:eq(1) "+h:"table.k-month:eq(0) "+h,r._class(c,i),r._current=i,r._rangeSelection(r._cellByDate(r._view.toDateString(i),h),i),r.trigger(y),r.selectable.options.filter="table.k-month:eq(0) "+h,t):(r._selectDates=[],u=r.selectable._lastActive?s(r.selectable._lastActive.find("a")):i,f=wi(u,new Date(+i)),bi(r._selectDates,f,u,r.options.disableDates),r.navigate(i),r._current=i,r.selectable._lastActive=r.selectable._lastActive||r._cellByDate(r._view.toDateString(i),h),r.trigger(y),t)},_keyboardToggleSelection:function(t){var i=this;t.currentTarget=i._cell[0],i.selectable._lastActive=n(i._cell[0]),n(i._cell[0]).hasClass(hi)?(i.selectable._unselect(n(i._cell[0])),i.selectable.trigger(y,{event:t})):i.selectable.value(n(i._cell[0]),{event:t})},_nextNavigatable:function(n,t){var i=this,f=!0,u=i._view,e=i.options.min,s=i.options.max,o=i.options.disableDates,r=new Date(n.getTime());for(u.setDate(r,-t);f;){if(u.setDate(n,t),!b(n,e,s)){n=r;break}f=o(n)}return n},_animate:function(n){var i=this,t=n.from,r=n.to,e=i._active,f=i.element.children(".k-calendar-view");t?t.parent().data("animating")?(t.off(u),t.parent().kendoStop(!0,!0).remove(),t.remove(),f.append(r),i._focusView(e)):!t.is(":visible")||i.options.animation===!1||n.replace?(r.insertAfter(t),t.off(u).remove(),i._focusView(e)):i[n.vertical?"_vertical":"_horizontal"](t,r,n.future):(f.append(r),i._bindTable(r))},_horizontal:function(n,t,i){var r=this,o=r._active,e=r.options.animation.horizontal,s=e.effects,f=gr(n);s&&s.indexOf(gt)!=-1&&(n.add(t).css({width:f}),n.wrap("<div/>"),r._focusView(o,n),n.parent().css({position:"relative",width:2*f,float:ur,"margin-left":i?0:-f}),t[i?"insertAfter":"insertBefore"](n),ri(e,{effects:gt+":"+(i?"right":ur),complete:function(){n.off(u).remove(),r._oldTable=null,t.unwrap(),r._focusView(o)}}),n.parent().kendoStop(!0,!0).kendoAnimate(e))},_vertical:function(n,t){var f,r,i=this,o=i.options.animation.vertical,e=o.effects,s=i._active;e&&e.indexOf("zoom")!=-1&&(t.insertBefore(n),n.css({position:"absolute",width:t.width()}),yi&&(f=i._cellByDate(i._view.toDateString(i._current)),r=f.position(),r=r.left+parseInt(f.width()/2,10)+"px "+(r.top+parseInt(f.height()/2,10)+"px"),t.css(yi,r)),n.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){n.off(u).remove(),i._oldTable=null,i._focusView(s)}}),t.kendoStop(!0,!0).kendoAnimate(o))},_cellByDate:function(t,r){return this._table.find(r?r:"td:not(."+g+")").filter(function(){return n(this.firstChild).attr(i.attr(ot))===t})},_class:function(n,t){var f,i=this,u=i._cellID,r=i._cell,e=i._view.toDateString(t);r&&r.length&&(r[0].removeAttribute(ui),r[0].removeAttribute(vt),r[0].removeAttribute(lt)),t&&"month"==i._view.name&&(f=i.options.disableDates(t)),i._cellsBySelector(i._isMultipleSelection()?d:"td:not(."+g+")").removeClass(n),r=i._cellByDate(e,"multiple"==i.options.selectable?d:"td:not(."+g+")").attr(ui,!0),(n===c&&!i._active&&i.options.focusOnNav!==!1||f)&&(n=""),r.addClass(n),r[0]&&(i._cell=r),u&&(r.attr(lt,u),i._table[0].removeAttribute("aria-activedescendant"),i._table.attr("aria-activedescendant",u))},_bindTable:function(n){n.on(ei,this._addClassProxy).on(si,this._removeClassProxy)},_click:function(n){var t=this,r=t.options,u=new Date(+t._current),i=s(n);rt(i,0),"month"==t._view.name&&t.options.disableDates(i)&&(i=t._value),t._view.setDate(u,i),t.navigateDown(k(u,r.min,r.max))},_focus:function(n){var t=this,i=t._view;0!==i.compare(n,t._current)?t.navigate(n):(t._current=n,t._class(c,n))},_focusView:function(n,t){n&&this.focus(t)},_viewWrapper:function(){var r=this,i=r.element,t=i.children(".k-calendar-view");t[0]||(t=n("<div class='k-calendar-view' />").insertAfter(i.find(ii)))},_footer:function(r){var u=this,e=w(),o=u.element,f=o.find(".k-footer");return r?(f[0]||(f=n('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(o)),u._today=f.show().find(".k-link").html(r(e)).attr("title",i.toString(e,"D",u.options.culture)),u._toggle(),t):(u._toggle(!1),f.hide(),t)},_header:function(){var n=this,t=n.element,r=n.options.linksSelector;t.find(ii)[0]||t.html(i.template(n.options.header.template)(n.options)),t.find(r).on(oi+" "+ci+" "+ei+" "+si,nr).on(v+" touchend"+u,function(){return!1}),n._title=t.find("["+i.attr("action")+'="nav-up"]').on(v+" touchend"+u,function(){n._active=n.options.focusOnNav!==!1,n.navigateUp()}),n[tt]=t.find("["+i.attr("action")+'="prev"]').on(v+" touchend"+u,function(){n._active=n.options.focusOnNav!==!1,n.navigateToPast()}),n[nt]=t.find("["+i.attr("action")+'="next"]').on(v+" touchend"+u,function(){n._active=n.options.focusOnNav!==!1,n.navigateToFuture()}),t.find("["+i.attr("action")+'="today"]').on(v+" touchend"+u,it(n._todayClick,n))},_navigate:function(n,t){var u,i=this,e=i._index+1,r=new o(+i._current);i._isMultipleSelection()&&(u=i._table.find("td:not(.k-other-month):not(.k-out-of-range)").has(".k-link").first(),r=s(u.find("a")),i._current=new Date(+r)),n=i[n],n.hasClass(l)||(e>3?r.setFullYear(r.getFullYear()+100*t):f.views[e].setDate(r,t),i.navigate(r))},_option:function(n,i){var e,r=this,u=r.options,f=r._value||r._current;return i===t?u[n]:(i=ht(i,u.format,u.culture),i&&(u[n]=new o(+i),e=n===rr?i>f:f>i,(e||uu(f,i))&&(e&&(r._value=null),r._changeView=!0),r._changeView||(r._changeView=!(!u.month.content&&!u.month.empty)),r.navigate(r._value),r._toggle()),t)},_toggle:function(n){var i=this,u=i.options,f=i.options.disableDates(w()),r=i._today;n===t&&(n=b(w(),u.min,u.max)),r&&(r.off(v),n&&!f?r.addClass(ai).removeClass(l).on(v,it(i._todayClick,i)):r.removeClass(ai).addClass(l).on(v,yr))},_todayClick:function(n){var t=this,r=a[t.options.depth],u=t.options.disableDates,i=w();n.preventDefault(),u(i)||(0===t._view.compare(t._current,i)&&t._index==r&&(t._changeView=!1),t._isMultipleSelection()&&(t._selectDates=[i],t.selectable._lastActive=null),t._value=i,t.navigate(i,r),t.trigger(y))},_templates:function(){var r=this,u=r.options,n=u.footer,t=u.month,o=t.content,s=t.weekNumber,f=t.empty,e='#= kendo.toString(data,"D","'+u.culture+'") #';r.month={content:p('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+i.attr(ot)+'="#=data.dateString#" title="#=data.title#">'+(o||"#=data.value#")+"</a></td>",{useWithBlock:!!o}),empty:p('<td role="gridcell">'+(f||"&nbsp;")+"</td>",{useWithBlock:!!f}),weekNumber:p('<td class="k-alt">'+(s||"#= data.weekNumber #")+"</td>",{useWithBlock:!!s})},n&&n!==!0&&(e=n),r.footer=n!==!1?p(e,{useWithBlock:!1}):null}});di.plugin(vr),f={firstDayOfMonth:function(n){return r(n.getFullYear(),n.getMonth(),1)},firstVisibleDay:function(n,t){t=t||i.culture().calendar;var u=t.firstDay,r=new o(n.getFullYear(),n.getMonth(),1,n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds());for(r.setFullYear(n.getFullYear());r.getDay()!=u;)f.setTime(r,-1*li);return r},setTime:function(n,t){var u=n.getTimezoneOffset(),i=new o(n.getTime()+t),r=i.getTimezoneOffset()-u;n.setTime(i.getTime()+r*sr)},views:[{name:ut,title:function(n,t,i,r){return at(r).months.names[n.getMonth()]+" "+n.getFullYear()},content:function(n){var h=this,c=0,s=n.min,a=n.max,u=n.date,y=n.dates,et=n.format,t=n.culture,tt=n.url,ut=n.showHeader,st=n.otherMonth,k=n.isWeekColumnVisible,vt=tt&&y[0],v=at(t),it=v.firstDay,p=v.days,ct=er(p.names,it),ht=er(p.namesShort,it),b=f.firstVisibleDay(u,v),lt=h.first(u),nt=h.last(u),d=h.toDateString,e=w(),ot=n.contentClasses,o='<table tabindex="0" role="grid" class="'+ot+'" cellspacing="0" data-start="'+d(b)+'">';for(o+=ut?'<caption class="k-month-header">'+this.title(u,s,a,t)+'</caption><thead><tr role="row">':'<thead><tr role="row">',k&&(o+='<th scope="col" class="k-alt">'+n.messages.weekColumnHeader+"</th>");c<7;c++)o+='<th scope="col" title="'+ct[c]+'">'+ht[c]+"</th>";return rt(e,0),e=+e,ft({cells:42,perRow:7,html:o+='</tr></thead><tbody><tr role="row">',start:b,isWeekColumnVisible:k,weekNumber:n.weekNumber,min:r(s.getFullYear(),s.getMonth(),s.getDate()),max:r(a.getFullYear(),a.getMonth(),a.getDate()),otherMonth:st,content:n.content,lastDayOfMonth:nt,empty:n.empty,setter:h.setDate,disableDates:n.disableDates,build:function(n,r,u){var f=[],h=n.getDay(),s="",o="#";return(n<lt||n>nt)&&f.push(g),u(n)&&f.push(l),+n===e&&f.push("k-today"),0!==h&&6!==h||f.push("k-weekend"),vt&&cr(+n,y)&&(o=tt.replace("{0}",i.toString(n,et,t)),s=" k-action-link"),{date:n,dates:y,ns:i.ns,title:i.toString(n,"D",t),value:n.getDate(),dateString:d(n),cssClass:f[0]?' class="'+f.join(" ")+'"':"",linkClass:s,url:o}},weekNumberBuild:function(n){return{weekNumber:su(n,i.culture().calendar.firstDay),currentDate:n}}})},first:function(n){return f.firstDayOfMonth(n)},last:function(n){var t=r(n.getFullYear(),n.getMonth()+1,0),u=f.firstDayOfMonth(n),i=Math.abs(t.getTimezoneOffset()-u.getTimezoneOffset());return i&&t.setHours(u.getHours()+i/60),t},compare:function(n,t){var e,f=n.getMonth(),u=n.getFullYear(),i=t.getMonth(),r=t.getFullYear();return e=u>r?1:u<r?-1:f==i?0:f>i?1:-1},setDate:function(n,t){var i=n.getHours();t instanceof o?n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):f.setTime(n,t*li),rt(n,i)},toDateString:function(n){return n.getFullYear()+"/"+n.getMonth()+"/"+n.getDate()}},{name:"year",title:function(n){return n.getFullYear()},content:function(n){var o=at(n.culture).months.namesAbbr,e=this.toDateString,f=n.min,u=n.max,t="";return n.showHeader&&(t+='<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><caption class="k-meta-header">',t+=this.title(n.date),t+='</caption><tbody><tr role="row">'),ft({min:r(f.getFullYear(),f.getMonth(),1),max:r(u.getFullYear(),u.getMonth(),1),start:r(n.date.getFullYear(),0,1),html:t,setter:this.setDate,build:function(n){return{value:o[n.getMonth()],ns:i.ns,dateString:e(n),cssClass:""}}})},first:function(n){return r(n.getFullYear(),0,n.getDate())},last:function(n){return r(n.getFullYear(),11,n.getDate())},compare:function(n,t){return dt(n,t)},setDate:function(n,t){var i,r=n.getHours();t instanceof o?(i=t.getMonth(),n.setFullYear(t.getFullYear(),i,n.getDate()),i!==n.getMonth()&&n.setDate(0)):(i=n.getMonth()+t,n.setMonth(i),i>11&&(i-=12),i>0&&n.getMonth()!=i&&n.setDate(0)),rt(n,r)},toDateString:function(n){return n.getFullYear()+"/"+n.getMonth()+"/1"}},{name:"decade",title:function(n,t,i){return or(n,t,i,10)},content:function(n){var u=n.date.getFullYear(),f=this.toDateString,t="";return n.showHeader&&(t+='<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><caption class="k-meta-header">',t+=this.title(n.date,n.min,n.max),t+='</caption><tbody><tr role="row">'),ft({start:r(u-u%10-1,0,1),min:r(n.min.getFullYear(),0,1),max:r(n.max.getFullYear(),0,1),otherMonth:n.otherMonth,html:t,setter:this.setDate,build:function(n,t){return{value:n.getFullYear(),ns:i.ns,dateString:f(n),cssClass:0===t||11==t?vi:""}}})},first:function(n){var t=n.getFullYear();return r(t-t%10,n.getMonth(),n.getDate())},last:function(n){var t=n.getFullYear();return r(t-t%10+9,n.getMonth(),n.getDate())},compare:function(n,t){return dt(n,t,10)},setDate:function(n,t){fr(n,t,1)},toDateString:function(n){return n.getFullYear()+"/0/1"}},{name:ti,title:function(n,t,i){return or(n,t,i,100)},content:function(n){var s=n.date.getFullYear(),o=n.min.getFullYear(),e=n.max.getFullYear(),h=this.toDateString,t=o,u=e,f="";return t-=t%10,u-=u%10,u-t<10&&(u=t+9),n.showHeader&&(f+='<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><caption class="k-meta-header">',f+=this.title(n.date,n.min,n.max),f+='</caption><tbody><tr role="row">'),ft({start:r(s-s%100-10,0,1),min:r(t,0,1),max:r(u,0,1),otherMonth:n.otherMonth,html:f,setter:this.setDate,build:function(n,t){var r=n.getFullYear(),u=r+9;return r<o&&(r=o),u>e&&(u=e),{ns:i.ns,value:r+" - "+u,dateString:h(n),cssClass:0===t||11==t?vi:""}}})},first:function(n){var t=n.getFullYear();return r(t-t%100,n.getMonth(),n.getDate())},last:function(n){var t=n.getFullYear();return r(t-t%100+99,n.getMonth(),n.getDate())},compare:function(n,t){return dt(n,t,100)},setDate:function(n,t){fr(n,t,10)},toDateString:function(n){var t=n.getFullYear();return t-t%10+"/0/1"}}]},f.isEqualDatePart=hr,f.isEqualDate=bt,f.makeUnselectable=tr,f.restrictValue=k,f.isInRange=b,f.addClassToViewContainer=gi,f.normalize=pt,f.viewsEnum=a,f.disabled=yt,f.toDateObject=s,f.getToday=w,f.createDate=r,i.calendar=f}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.datepicker.min",["kendo.calendar.min","kendo.popup.min","kendo.dateinput.min"],n)}(function(){return function(n,t){function k(t){var i=t.parseFormats,r=t.format;o.normalize(t),i=n.isArray(i)?i:[i],i.length||i.push("yyyy-MM-dd"),n.inArray(r,i)===-1&&i.splice(0,0,t.format),t.parseFormats=i}function yt(n){n.preventDefault()}var ut,i=window.kendo,e=i.ui,l=e.Widget,u=i.parseDate,f=i.keys,g=i.support,bt=i.template,gt=i._activeElement,lt="<div />",st="<span />",r=".kendoDatePicker",ht="click"+r,dt=g.mouseAndTouchPresent?i.applyEventMap("up",r.slice(1)):ht,a="open",p="close",y="change",pt="disabled",ct="readonly",w="k-state-default",wt="k-state-focused",vt="k-state-selected",d="k-state-disabled",ni="k-state-hover",ii="mouseenter"+r+" mouseleave"+r,nt="mousedown"+r,v="id",tt="min",ft="max",ot="month",it="aria-disabled",rt="aria-expanded",b="aria-hidden",o=i.calendar,ti=o.isInRange,et=o.restrictValue,kt=o.isEqualDatePart,s=n.extend,c=n.proxy,at=Date,h=function(t){var f,u=this,o=document.body,r=n(lt).attr(b,"true").addClass("k-calendar-container");u.options=t=t||{},f=t.id,t.omitPopup?r=t.dateDiv:(r.appendTo(o),u.popup=new e.Popup(r,s(t.popup,t,{name:"Popup",isRtl:i.support.isRtl(t.anchor)}))),f&&(f+="_dateview",r.attr(v,f),u._dateViewID=f),u.div=r,u.value(t.value)};h.prototype={_calendar:function(){var f,t=this,u=t.calendar,r=t.options;u||(f=n(lt).attr(v,i.guid()).appendTo(r.omitPopup?r.dateDiv:t.popup.element).on(nt,yt).on(ht,"td:has(.k-link)",c(t._click,t)),t.calendar=u=new e.Calendar(f,{componentType:r.componentType}),t._setOptions(r),i.calendar.makeUnselectable(u.element),u.navigate(t._value||t._current,r.start),t.value(t._value))},_setOptions:function(n){this.calendar.setOptions({focusOnNav:!1,change:n.change,culture:n.culture,dates:n.dates,depth:n.depth,footer:n.footer,format:n.format,max:n.max,min:n.min,month:n.month,weekNumber:n.weekNumber,start:n.start,disableDates:n.disableDates})},setOptions:function(n){var t=this.options,i=n.disableDates;i&&(n.disableDates=o.disabled(i)),this.options=s(t,n,{change:t.change,close:t.close,open:t.open}),this.calendar&&this._setOptions(this.options)},destroy:function(){this.popup&&this.popup.destroy()},open:function(){var t,n=this;n._calendar(),t=n.popup._hovered,n.popup._hovered=!0,n.popup.open(),setTimeout(function(){n.popup._hovered=t},1)},close:function(){this.popup.close()},min:function(n){this._option(tt,n)},max:function(n){this._option(ft,n)},toggle:function(){var n=this;n[n.popup.visible()?p:a]()},move:function(n){var t=this,i=n.keyCode,u=t.calendar,e=n.ctrlKey&&i==f.DOWN||i==f.ENTER,r=!1;if(n.altKey)i==f.DOWN?(t.open(),n.preventDefault(),r=!0):i==f.UP&&(t.close(),n.preventDefault(),r=!0);else if(t.popup&&t.popup.visible()){if(i==f.ESC||e&&u._cell.hasClass(vt))return t.close(),n.preventDefault(),!0;i!=f.SPACEBAR&&(t._current=u._move(n)),r=!0}return r},current:function(n){this._current=n,this.calendar&&this.calendar._focus(n)},value:function(n){var t=this,u=t.calendar,i=t.options,r=i.disableDates;r&&r(n)&&(n=null),t._value=n,t._current=new at(+et(n,i.min,i.max)),u&&u.value(n)},_click:function(n){n.currentTarget.className.indexOf(vt)!==-1&&(this.calendar.trigger("change"),this.close())},_option:function(n,t){var r=this,i=r.calendar;r.options[n]=t,i&&i[n](t)}},h.normalize=k,i.DateView=h,ut=l.extend({init:function(t,r){var o,e,f=this;l.fn.init.call(f,t,r),t=f.element,r=f.options,r.disableDates=i.calendar.disabled(r.disableDates),r.min=u(t.attr("min"))||u(r.min),r.max=u(t.attr("max"))||u(r.max),k(r),f._initialOptions=s({},r),f._wrapper(),f.dateView=new h(s({},r,{id:t.attr(v),anchor:f.wrapper,change:function(){f._change(this.value()),f.close()},close:function(n){f.trigger(p)?n.preventDefault():(t.attr(rt,!1),e.attr(b,!0))},open:function(n){var i,r=f.options;f.trigger(a)?n.preventDefault():(f.element.val()!==f._oldText&&(i=u(t.val(),r.parseFormats,r.culture),f.dateView[i?"current":"value"](i)),t.attr(rt,!0),e.attr(b,!1),f._updateARIA(i))}})),e=f.dateView.div,f._icon();try{t[0].setAttribute("type","text")}catch(c){t[0].type="text"}t.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":f.dateView._dateViewID,autocomplete:"off"}),f._reset(),f._template(),o=t.is("[disabled]")||n(f.element).parents("fieldset").is(":disabled"),o?f.enable(!1):f.readonly(t.is("[readonly]")),f._createDateInput(r),f._old=f._update(r.value||f.element.val()),f._oldText=t.val(),i.notify(f)},events:[a,p,y],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:ot,depth:ot,animation:{},month:{},dates:[],disableDates:null,ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#',dateInput:!1,weekNumber:!1},setOptions:function(n){var t=this,r=t._value;l.fn.setOptions.call(t,n),n=t.options,n.min=u(n.min),n.max=u(n.max),k(n),t.dateView.setOptions(n),t._createDateInput(n),t._dateInput||t.element.val(i.toString(r,n.format,n.culture)),r&&t._updateARIA(r)},_editable:function(n){var t=this,o=t._dateIcon.off(r),i=t.element.off(r),e=t._inputWrapper.off(r),f=n.readonly,u=n.disable;f||u?(e.addClass(u?d:w).removeClass(u?w:d),i.attr(pt,u).attr(ct,f).attr(it,u)):(e.addClass(w).removeClass(d).on(ii,t._toggleHover),i&&i.length&&(i[0].removeAttribute(pt),i[0].removeAttribute(ct)),i.attr(it,!1).on("keydown"+r,c(t._keydown,t)).on("focusout"+r,c(t._blur,t)).on("focus"+r,function(){t._inputWrapper.addClass(wt)}),o.on(dt,c(t._click,t)).on(nt,yt))},readonly:function(n){this._editable({readonly:n===t||n,disable:!1}),this._dateInput&&this._dateInput._editable({readonly:n===t||n,disable:!1})},enable:function(n){this._editable({readonly:!1,disable:!(n=n===t||n)}),this._dateInput&&this._dateInput._editable({readonly:!1,disable:!(n=n===t||n)})},destroy:function(){var n=this;l.fn.destroy.call(n),n.dateView.destroy(),n.element.off(r),n._dateIcon.off(r),n._inputWrapper.off(r),n._form&&n._form.off("reset",n._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(n){return this._option(tt,n)},max:function(n){return this._option(ft,n)},value:function(n){var i=this;return n===t?i._value:(i._old=i._update(n),null===i._old&&i.element.val(""),i._oldText=i.element.val(),t)},_toggleHover:function(t){n(t.currentTarget).toggleClass(ni,"mouseenter"===t.type)},_blur:function(){var n=this,t=n.element.val();n.close(),t!==n._oldText&&(n._change(t),t||n.dateView.current(i.calendar.getToday())),n._inputWrapper.removeClass(wt)},_click:function(n){var t=this;t.dateView.toggle(),t._focusElement(n.type)},_focusElement:function(n){var t=this.element;g.touch&&(!g.mouseAndTouchPresent||(n||"").match(/touch/i))||t[0]===gt()||t.trigger("focus")},_change:function(n){var r,f,u,t=this,e=t.element.val();n=t._update(n),r=!i.calendar.isEqualDate(t._old,n),f=r&&!t._typing,u=e!==t.element.val(),(f||u)&&t.element.trigger(y),r&&(t._old=n,t._oldText=t.element.val(),t.trigger(y)),t._typing=!1},_keydown:function(n){var t=this,i=t.dateView,u=t.element.val(),r=!1;i.popup.visible()||n.keyCode!=f.ENTER||u===t._oldText?(r=i.move(n),t._updateARIA(i._current),r?t._dateInput&&n.stopImmediatePropagation&&n.stopImmediatePropagation():t._typing=!0):t._change(u)},_icon:function(){var t,i=this,r=i.element;t=r.next("span.k-select"),t[0]||(t=n('<span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-calendar"></span></span>').insertAfter(r)),i._dateIcon=t.attr({role:"button","aria-controls":i.dateView._dateViewID})},_option:function(n,i){var f=this,r=f.options;return i===t?r[n]:(i=u(i,r.parseFormats,r.culture),i&&(r[n]=new at(+i),f.dateView[n](i)),t)},_update:function(n){var o,r=this,f=r.options,s=f.min,h=f.max,e=r._value,t=u(n,f.parseFormats,f.culture),c=null===t&&null===e||t instanceof Date&&e instanceof Date;return f.disableDates(t)&&(t=null,r._old||r.element.val()||(n=null)),+t==+e&&c?(o=i.toString(t,f.format,f.culture),o!==n&&r.element.val(null===t?n:o),t):(null!==t&&kt(t,s)?t=et(t,s,h):ti(t,s,h)||(t=null),r._value=t,r.dateView.value(t),r._dateInput&&t?r._dateInput.value(t||n):r.element.val(i.toString(t||n,f.format,f.culture)),r._updateARIA(t),t)},_wrapper:function(){var t,r=this,i=r.element;t=i.parents(".k-datepicker"),t[0]||(t=i.wrap(st).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(st).parent()),t[0].style.cssText=i[0].style.cssText,i.css({width:"100%",height:i[0].style.height}),r.wrapper=t.addClass("k-widget k-datepicker").addClass(i[0].className).removeClass("input-validation-error"),r._inputWrapper=n(t[0].firstChild)},_reset:function(){var t=this,f=t.element,s=f.attr("form"),r=t.options,h=r.disableDates,c=r.parseFormats.length?r.parseFormats:null,u=t._initialOptions.value,o=s?n("#"+s):f.closest("form"),e=f[0].defaultValue;u&&h&&h(u)&&(u=null),e&&i.parseDate(e,c,r.culture)||!u||f.attr("value",i.toString(u,r.format,r.culture)),o[0]&&(t._resetHandler=function(){t.value(u||f[0].defaultValue),t.max(t._initialOptions.max),t.min(t._initialOptions.min)},t._form=o.on("reset",t._resetHandler))},_template:function(){this._ariaTemplate=bt(this.options.ARIATemplate)},_createDateInput:function(n){this._dateInput&&(this._dateInput.destroy(),this._dateInput=null),n.dateInput&&(this._dateInput=new e.DateInput(this.element,{culture:n.culture,format:n.format,min:n.min,max:n.max}))},_updateARIA:function(n){var r,t=this,i=t.dateView.calendar;t.element&&t.element.length&&t.element[0].removeAttribute("aria-activedescendant"),i&&(r=i._cell,r.attr("aria-label",t._ariaTemplate({current:n||i.current()})),t.element.attr("aria-activedescendant",r.attr("id")))}}),e.plugin(ut)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.timepicker.min",["kendo.popup.min","kendo.dateinput.min"],n)}(function(){return function(n,t){function vi(){var n=new e,i=new e(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0),t=new e(n.getFullYear(),n.getMonth(),n.getDate(),12,0,0);return-1*(i.getTimezoneOffset()-t.getTimezoneOffset())}function u(n){return 60*n.getHours()*tt+n.getMinutes()*tt+1e3*n.getSeconds()+n.getMilliseconds()}function yi(n){var t=new Date(2100,0,1);return t.setMinutes(-n),t}function ni(n,t,i){var r,e=u(t),f=u(i);return!n||e==f||(r=u(n),e>r&&(r+=l),f<e&&(f+=l),r>=e&&r<=f)}function gt(n){var t=n.parseFormats;n.format=er(n.format||r.getCulture(n.culture).calendars.standard.patterns.t),t=ti(t)?t:[t],t.splice(0,0,n.format),n.parseFormats=t}function at(n){n.preventDefault()}function ri(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function fr(n,t){var i,r=t.calendar;return"string"==typeof n&&(i=r.patterns[n]?r.patterns[n]:n),i||(i=r.patterns.d),i}function vt(n,t){var i=n[n.length-1];i&&"LITERAL"===i.type?i.pattern+=t:n.push({type:ur,pattern:t})}function gi(n){return"h"===n||"K"===n}function rr(n){var t;return n<=3?t="abbreviated":4===n?t="wide":5===n?t="narrow":6===n&&(t="short"),t}function ci(n,t,i){return i=i||0,n.indexOf(t,i)===i}function lt(n,t){var i=!1;return n.indexOf(t)!==-1&&(i=!0),i}function tr(n){for(var h,s,c,i,a,l,t,v=r.culture(),e=fr(n,v),u=[],f=k.lastIndex=0,o=k.exec(e);o;)t=o[0],f<o.index&&vt(u,e.substring(f,o.index)),ci(t,'"')||ci(t,"'")?vt(u,t):(h=t[0],s=ki[h],c={type:s,pattern:t},"hour"===s&&(c.hour12=gi(t)),i=di[s],i&&(a="number"==typeof i.minLength?i.minLength:i.minLength[h],l=t.length,l>=a&&(c.names={type:i.type,nameType:rr(l),standAlone:i.standAlone===h})),u.push(c)),f=k.lastIndex,o=k.exec(e);return f<e.length&&vt(u,e.substring(f)),u}function a(n,t){for(var i=n+"";i.length<(t||2);)i="0"+i;return i}function c(n,t){return Math.max(Math.floor(n/t),0)}var v,hi,r=window.kendo,f=r.keys,h=r.parseDate,nr=r._activeElement,er=r._extractFormat,b=r.support,oi=b.browser,y=r.ui,w=y.Widget,it="open",ei="close",ct="change",i=".kendoTimePicker",fi="click"+i,ft="k-state-default",si="disabled",li="readonly",st="li",ui="<span></span>",p="k-state-focused",ht="k-state-hover",ir="mouseenter"+i+" mouseleave"+i,ut="mousedown"+i,tt=6e4,l=864e5,ai="k-state-selected",ot="k-state-disabled",bt="aria-selected",kt="aria-expanded",wt="aria-hidden",yt="aria-disabled",pt="aria-activedescendant",rt="id",ti=n.isArray,d=n.extend,o=n.proxy,e=Date,k=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g,ur="literal",dt="month",nt="hour",g="zone",et="weekday",ii="quarter",ki={G:"era",y:"year",q:ii,Q:ii,M:dt,L:dt,d:"day",E:et,c:et,e:et,h:nt,H:nt,k:nt,K:nt,m:"minute",s:"second",a:"dayperiod",x:g,X:g,z:g,Z:g},di={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}},s=new e,wi='<div tabindex="0" class="k-timeselector"><div class="k-time-header"><span class="k-title"></span><button class="k-button k-flat k-time-now" title="Select now" aria-label="Select now">#=messages.now#</button></div><div class="k-time-list-container"><span class="k-time-highlight"></span></div></div>',pi='<div class="k-time-footer k-action-buttons"><button class="k-button k-time-cancel" title="Cancel changes" aria-label="Cancel changes">#=messages.cancel#</button><button class="k-time-accept k-button k-primary" title="Set time" aria-label="Set time">#=messages.set#</button></div>',bi='<span class="k-time-highlight"></span>';s=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0),v=function(n){var t=this,i=n.id;t.options=n,t._dates=[],t._createList(n.timeView&&"scroll"===n.timeView.list),i&&(t._timeViewID=i+"_timeview",t._optionID=i+"_option_selected",t.ul.attr(rt,t._timeViewID)),t._heightHandler=o(t._height,t),t._popup()},v.prototype={_createList:function(n){n?this._createScrollList():this._createClassicRenderingList()},_createScrollList:function(){this.list=n(r.template(wi)(this.options)).on(ut,at),this.options.omitPopup||this.list.append(r.template(pi)(this.options)),this.ul=this.list.find(".k-time-list-container"),this.list.on("click"+i,".k-time-header button.k-time-now",o(this._nowClickHandler,this)),this.list.on("click"+i,".k-time-footer button.k-time-cancel",o(this._cancelClickHandler,this)),this.list.on("click"+i,".k-time-footer button.k-time-accept",o(this._setClickHandler,this)),this.list.on("mouseover"+i,".k-time-list-wrapper",o(this._mouseOverHandler,this)),this.list.on("keydown"+i,o(this._scrollerKeyDownHandler,this))},_scrollerKeyDownHandler:function(t){var u=this,i=t.keyCode,h=n(t.currentTarget).find(".k-time-list-wrapper.k-state-focused"),c=u.list.find(".k-time-list-wrapper"),a=c.length,e=c.index(h),o=r.support.isRtl(u.wrapper),l=h.find(".k-item:visible:eq(0)").outerHeight(),s=h.find(".k-time-container.k-content.k-scrollable");h.length&&(i==f.RIGHT&&!o||i==f.LEFT&&o?e+1<a&&u._focusList(c.eq(e+1)):i==f.LEFT&&!o||i==f.RIGHT&&o?e-1>=0&&u._focusList(c.eq(e-1)):i==f.UP?(s.scrollTop(s.scrollTop()-l),t.preventDefault()):i==f.DOWN?(s.scrollTop(s.scrollTop()+l),t.preventDefault()):i===f.ENTER?u._setClickHandler():i===f.ESC&&u._cancelClickHandler())},_mouseOverHandler:function(t){this._focusList(n(t.currentTarget))},_focusList:function(n){this.list.find(".k-time-list-wrapper").removeClass(p),n.addClass(p),this.list.focus(),this._scrollTop=n.find(".k-scrollable").scrollTop()},_createClassicRenderingList:function(){var t=this;t.ul=n('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:b.kineticScrollNeeded?"":"auto"}).on(fi,st,o(t._click,t)).on("mouseenter"+i,st,function(){n(this).addClass(ht)}).on("mouseleave"+i,st,function(){n(this).removeClass(ht)}),t.list=n("<div class='k-list-container k-list-scroller' unselectable='on'/>").append(t.ul).on(ut,at),t.template=r.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:!1})},current:function(i){var r=this,u=r.options.active;return i===t?r._current:(r._current&&(r._current.removeClass(ai),r._current&&r._current.length&&(r._current[0].removeAttribute(rt),r._current[0].removeAttribute(bt))),i&&(i=n(i).addClass(ai).attr(rt,r._optionID).attr(bt,!0),r.scroll(i[0])),r._current=i,u&&u(i),t)},_updateTitle:function(){this.list.find(".k-time-header > .k-title").html(r.toString(this._value,this.options.format,this.options.culture))},applyValue:function(n){var s,e,c,h,o,r,i,f,u,t;n&&(s=lt(this.options.format.toLowerCase(),"t"),e=n.getHours(),c=n.getMinutes(),h=n.getSeconds(),r=this.ul.find('[data-index="1"]'),i=this.ul.find('[data-index="2"]'),f=this.ul.find('[data-index="3"]'),u=this.ul.find('[data-index="4"]'),s&&(e>=12?(o="PM",e>12&&(e-=12)):o="AM"),r.length&&(t=r.find('.k-item[data-value="'+a(e)+'"]'),r.scrollTop(r.find(".k-item:visible").index(t)*t.outerHeight())),i.length&&(t=i.find('.k-item[data-value="'+a(c)+'"]'),i.scrollTop(i.find(".k-item:visible").index(t)*t.outerHeight())),f.length&&(t=f.find('.k-item[data-value="'+a(h)+'"]'),f.scrollTop(f.find(".k-item:visible").index(t)*t.outerHeight())),u.length&&(t=u.find('.k-item[data-value="'+a(o)+'"]'),u.scrollTop(u.find(".k-item:visible").index(t)*t.outerHeight())))},close:function(){this.popup.close()},destroy:function(){var n=this;n.ul.off(i),n.list.off(i),this.popup&&n.popup.destroy()},open:function(){var t,n=this;(!n.ul[0].firstChild||n.ul.find("li").length<1)&&n.bind(),t=n.popup._hovered,n.popup._hovered=!0,n.popup.open(),setTimeout(function(){n.popup._hovered=t},1),n._current&&n.scroll(n._current[0])},dataBind:function(n){for(var u,f=this,t=f.options,o=t.format,h=r.toString,c=f.template,s=n.length,i=0,e="";i<s;i++)u=n[i],ni(u,t.min,t.max)&&(e+=c(h(u,o,t.culture)));f._html(e)},refresh:function(){var w,a,t=this,n=t.options,c=n.format,y=vi(),nt=y<0,h=r.parseDate(t._value),g=h?ri(h,n.min):ri(new Date,n.min),rt=n.min,p=n.max,s=u(rt),i=u(p),it=u(yi(n.interval)),f=n.interval*tt,d=r.toString,b=t.template,v=n.useValueToRender?g:new Date(+n.min),k=new e(v),o="";a=nt?(l+y*tt)/f:l/f,s==i&&it!==i||(s>i&&(i+=l),a=(i-s)/f+1),n.timeView&&"scroll"===n.timeView.list?o=t._createListContent(tr(c)):t.getDatesInRange(w,i,k,p,f,v).forEach(function(t){o+=b(d(t,c,n.culture))}),t._html(o)},_updateListBottomOffset:function(n){var r=n.find(".k-item:visible:eq(0)").outerHeight(),i=n.outerHeight(),t=i-r;n.find(".k-scrollable-placeholder").css({height:n.find("ul").height()+t})},_updateHoursRange:function(){var e,f,o,u=this,t=this.ul.find('[data-index="1"]'),i=this._minHours,r=this._maxHours,s=lt(this.options.format.toLowerCase(),"t");t.length&&(o=c(t.scrollTop(),t.find(".k-item:visible:eq(0)").outerHeight()),this._selectedHour=+t.find(".k-item:visible").eq(o).attr("data-value"),s&&this._selectedDesignator?("AM"===this._selectedDesignator?(i<12&&(f=!0),r<12&&(e=!0)):"PM"===this._selectedDesignator&&(i>12&&(f=!0,i-=12),r>12&&(e=!0,r-=12)),t.find(".k-item").each(function(t,o){o=n(o);var s=+o.attr("data-value");u._validateMin&&f&&s<i||u._validateMax&&e&&s>r?o.hide():o.show()})):t.find(".k-item").each(function(t,f){f=n(f);var e=+f.attr("data-value");u._validateMin&&e<i||u._validateMax&&e>r?f.hide():f.show()}),this._updateListBottomOffset(t))},_updateMinutesRange:function(){var f,e=this,t=this.ul.find('[data-index="2"]'),u=this._minHours,r=this._maxHours,o=this._minMinutes,s=this._maxMinutes,i=this._selectedHour;t.length&&(f=c(t.scrollTop(),t.find(".k-item:visible:eq(0)").outerHeight()),this._selectedMinutes=+t.find(".k-item:visible").eq(f).attr("data-value"),t.find(".k-item").each(function(t,f){f=n(f);var h=+f.attr("data-value");e._validateMin&&h<o&&u&&i===u||e._validateMax&&h>s&&r&&i===r?f.hide():f.show()}),this._updateListBottomOffset(t))},_updateSecondsRange:function(){var f=this,t=this.ul.find('[data-index="3"]'),o=this._minSeconds,e=this._minSeconds,i=this._minMinutes,r=this._maxMinutes,u=this._selectedMinutes;t.length&&(t.find(".k-item").each(function(t,s){s=n(s);var h=+s.attr("data-value");f._validateMin&&h<o&&i&&u===i||f._validateMax&&h>e&&r&&u===r?s.hide():s.show()}),this._updateListBottomOffset(t))},_updateDesignatorRange:function(){var t,i=this._minHours,r=this._maxHours,n=this.ul.find('[data-index="4"]');n.length&&(t=c(n.scrollTop(),n.find(".k-item:visible:eq(0)").outerHeight()),this._selectedDesignator=n.find(".k-item:visible").eq(t).attr("data-value"),this._validateMin&&i>=12?n.find('.k-item[data-value="AM"]').hide():n.find('.k-item[data-value="AM"]').show(),this._validateMax&&r<12?n.find('.k-item[data-value="PM"]').hide():n.find('.k-item[data-value="PM"]').show())},_updateRanges:function(){var t,n;if(this.options.specifiedRange){if(this._currentlySelected||(this._currentlySelected=new Date),t=this.options.max,n=this.options.min,this._selectedDesignator=this._selectedHour=this._selectedMinutes=this._selectedSeconds=null,this.options.validateDate){if(this._validateMax=t.getFullYear()===this._currentlySelected.getFullYear()&&t.getMonth()===this._currentlySelected.getMonth()&&t.getDate()===this._currentlySelected.getDate(),this._validateMin=n.getFullYear()===this._currentlySelected.getFullYear()&&n.getMonth()===this._currentlySelected.getMonth()&&n.getDate()===this._currentlySelected.getDate(),!this._validateMax&&!this._validateMin)return}else this._validateMax=!0,this._validateMin=!0;this._minMinutes=n.getMinutes(),this._maxMinutes=t.getMinutes(),this._minHours=n.getHours(),this._maxHours=t.getHours(),this._minSeconds=n.getSeconds(),this._maxSeconds=t.getSeconds(),this._updateDesignatorRange(),this._updateHoursRange(),this._updateMinutesRange(),this._updateSecondsRange()}},addTranslate:function(){for(var n,u,f,s,r,h,e=this.ul.find(".k-time-container.k-content.k-scrollable"),c=e.length,t=0;t<c;t++)n=e.eq(t),u=n.find(".k-item:visible:eq(0)").outerHeight(),f=n.outerHeight(),s=(f-u)/2,r="translateY("+s+"px)",h=f-u,n.find("ul").css({transform:r,"-ms-transform":r}),n.find(".k-scrollable-placeholder").css({height:n.find("ul").height()+h}),n.off(i).on("click"+i,".k-item",o(this._itemClickHandler,this)).on("scroll"+i,o(this._listScrollHandler,this))},_nowClickHandler:function(){var n=new Date;this.value(n),this.options.change(r.toString(n,this.options.format,this.options.culture))},_cancelClickHandler:function(){this.value(this._value),this.popup.close()},_setClickHandler:function(){this._value=new Date(this._currentlySelected),this._updateCurrentlySelected(),this.options.change(r.toString(this._value,this.options.format,this.options.culture),!0),this.popup.close()},_listScrollHandler:function(t){var i=this,r=Math.floor(n(t.currentTarget).find(".k-item:visible:eq(0)").outerHeight());i._scrollingTimeout&&clearTimeout(i._scrollingTimeout),i._scrollingTimeout=setTimeout(function(){t.currentTarget.scrollTop%r!=0&&(t.currentTarget.scrollTop=t.currentTarget.scrollTop>i._scrollTop?Math.ceil(t.currentTarget.scrollTop/r)*r:Math.floor(t.currentTarget.scrollTop/r)*r),i._scrollTop=t.currentTarget.scrollTop,i._updateRanges(),i._updateCurrentlySelected()},100)},_updateCurrentlySelected:function(){var i,o,n,h,s,l=lt(this.options.format.toLowerCase(),"t"),r=this.ul.find('[data-index="1"]'),u=this.ul.find('[data-index="2"]'),f=this.ul.find('[data-index="3"]'),e=this.ul.find('[data-index="4"]');this._currentlySelected||(this._currentlySelected=this._value?new Date(this._value):new Date),r.length&&(n=c(r.scrollTop(),Math.floor(r.find(".k-item:visible:eq(0)").outerHeight())),i=+r.find(".k-item:visible").eq(n).attr("data-value")),u.length&&(n=c(u.scrollTop(),Math.floor(u.find(".k-item:visible:eq(0)").outerHeight())),o=+u.find(".k-item:visible").eq(n).attr("data-value")),f.length&&(n=c(f.scrollTop(),Math.floor(f.find(".k-item:visible:eq(0)").outerHeight())),h=+f.find(".k-item:visible").eq(n).attr("data-value")),e.length&&(n=c(e.scrollTop(),Math.floor(e.find(".k-item:visible:eq(0)").outerHeight())),s=e.find(".k-item:visible").eq(n).attr("data-value")),l&&("PM"==s&&(i+=12,24==i&&(i=12)),"AM"===s&&12===i&&(i=0)),i!==t&&this._currentlySelected.setHours(i),o!==t&&this._currentlySelected.setMinutes(o),h!==t&&this._currentlySelected.setSeconds(h)},_itemClickHandler:function(t){var i=n(t.originalEvent.currentTarget),u=i.find(".k-item:visible").index(n(t.currentTarget)),r=i.find(".k-item:visible:eq(0)").outerHeight();i.scrollTop(u*r)},getDatesInRange:function(n,t,i,r,f,o){for(var s=[];;){if(t&&(u(o)>=t||i.getDate()!=o.getDate())){n=u(o),i<o&&(n+=l),n>t&&(o=new e(+r)),u(o)>0&&s.push(new Date(o));break}if(i.getDate()!=o.getDate())break;s.push(new Date(o)),o.setTime(o.getTime()+f)}return s},_createListContent:function(n){for(var t,u,f=n.length,r="",i=0;i<f;i++)t=n[i],"literal"===t.type?r+=this._literalTemplate(t):(u=this._getValues(t,!0),r+=this._itemTemplate(u.values,t,this.options.messages[t.type],u.index));return r},_itemTemplate:function(n,t,i,r){var u,f="",e=n.length;for(f+='<div class="k-time-list-wrapper" role="presentation"><span class="k-title">'+(i||t.type)+'</span><div class="k-time-list"><div class="k-time-container k-content k-scrollable" role="presentation" data-index="'+r+'"><ul class="k-reset">',u=0;u<e;u++)f+='<li class="k-item" data-value="'+n[u]+'"><span>'+n[u]+"</span></li>";return f+='</ul><div class="k-scrollable-placeholder"></div></div></div></div>'},_getValues:function(n,t){var r,u,f=[],i=0;for("hour"===n.type?(i=1,r=1,u=n.hour12?12:24):"minute"===n.type?(r=2,u=59):"second"===n.type&&(r=3,u=59);i<=u;i++)f.push(t?a(i):i);return{values:f,index:r}},_literalTemplate:function(n){var t='<div class="k-time-separator">'+(" tt"===n.pattern?":":n.pattern)+"</div>";return" tt"===n.pattern&&(t+=this._itemTemplate(["AM","PM"],n,"AM/PM",4)),t},bind:function(){var t=this,n=t.options.dates;n&&n[0]?t.dataBind(n):t.refresh()},_html:function(n){var t=this;t.options.timeView&&"scroll"===t.options.timeView.list?(n=bi+n,t.ul.html(n)):(t.ul[0].innerHTML=n,t.popup.unbind(it,t._heightHandler),t.popup.one(it,t._heightHandler),t.current(null),t.select(t._value))},scroll:function(n){if(n){var r=this.list[0],i=n.offsetTop,e=n.offsetHeight,t=r.scrollTop,u=r.clientHeight,f=i+e;t>i?t=i:f>t+u&&(t=f-u),r.scrollTop=t}},select:function(t){var f,i=this,e=i.options,u=i._current;t instanceof Date&&(t=r.toString(t,e.format,e.culture)),"string"==typeof t&&(u&&u.text()===t?t=u:(t=n.grep(i.ul[0].childNodes,function(n){return(n.textContent||n.innerText)==t}),t=t[0]?t:null)),f=i._distinctSelection(t),i.current(f)},_distinctSelection:function(t){var r,f,i=this;return t&&t.length>1&&(r=u(i._value),f=n.inArray(r,i._dates),t=i.ul.children()[f]),t},setOptions:function(n){var t=this.options;n.min=h(n.min),n.max=h(n.max),this.options=d(t,n,{active:t.active,change:t.change,close:t.close,open:t.open}),this.bind()},toggle:function(){var n=this;n.popup.visible()?n.close():n.open()},value:function(n){var t=this;t._value=n,t.ul[0].firstChild&&(t.options.timeView&&"scroll"===t.options.timeView.list?t.applyValue(n):t.select(n))},_click:function(t){var i=this,u=n(t.currentTarget),f=u.text(),r=i.options.dates;r&&r.length>0&&(f=r[u.index()]),t.isDefaultPrevented()||(i.select(u),i.options.change(f,!0),i.close())},_height:function(){var n=this,i=n.list,r=i.parent(".k-animation-container"),t=n.options.height;n.ul[0].children.length&&i.add(r).show().height(n.ul[0].scrollHeight>t?t:"auto").hide()},_parse:function(n){var r=this,t=r.options,f=u(t.min)!=u(s)?t.min:null,o=u(t.max)!=u(s)?t.max:null,i=r._value||f||o||s;return n instanceof e?n:(n=h(n,t.parseFormats,t.culture),n&&(n=new e(i.getFullYear(),i.getMonth(),i.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())),n)},_adjustListWidth:function(){var n,f,t=this.list,i=t[0].style.width,u=this.options.anchor,e=r._outerWidth;!t.data("width")&&i||(n=window.getComputedStyle?window.getComputedStyle(u[0],null):0,f=n?parseFloat(n.width):e(u),n&&(oi.mozilla||oi.msie)&&(f+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth)),i=f-(e(t)-t.width()),t.css({fontFamily:u.css("font-family"),width:i}).data("width",i))},_popup:function(){var n=this,i=n.list,t=n.options,r=t.anchor;this.options.omitPopup?i.appendTo(t.timeDiv):n.popup=new y.Popup(i,d(t.popup,{anchor:r,open:t.open,close:t.close,animation:t.animation,isRtl:b.isRtl(t.anchor),activate:function(){n.options.timeView&&"scroll"===n.options.timeView.list&&(n.addTranslate(),n.applyValue(n._value),n._updateRanges(),n._focusList(n.list.find(".k-time-list-wrapper:eq(0)")))}}))},move:function(n){var r=this,u=n.keyCode,o=r.ul[0],i=r._current,e=u===f.DOWN;if(u===f.UP||e){if(n.altKey)return r.toggle(e),t;i=e?i?i[0].nextSibling:o.firstChild:i?i[0].previousSibling:o.lastChild,i&&r.select(i),r.options.change(r._current.text()),n.preventDefault()}else u!==f.ENTER&&u!==f.TAB&&u!==f.ESC||(n.preventDefault(),i&&r.options.change(i.text(),!0),r.close())}},v.getMilliseconds=u,r.TimeView=v,hi=w.extend({init:function(t,i){var p,l,b,a,c,o,f=this;i=i||{},i.componentType=i.componentType||"classic",w.fn.init.call(f,t,i),t=f.element,i=f.options,i.min=h(t.attr("min"))||h(i.min),i.max=h(t.attr("max"))||h(i.max),+i.max==+s&&+i.min==+s||(this._specifiedRange=!0),gt(i),f._initialOptions=d({},i),f._wrapper(),f.options.timeView&&"scroll"===f.options.timeView.list&&(f.options.height=null),f.timeView=l=new v(d({},i,{id:t.attr(rt),anchor:f.wrapper,format:i.format,change:function(n,i){i?f._change(n):t.val(n)},open:function(n){f.options.timeView&&"scroll"!==f.options.timeView.list?f.timeView._adjustListWidth():f.timeView._updateTitle(),f.trigger(it)?n.preventDefault():(t.attr(kt,!0),p.attr(wt,!1))},close:function(n){f.trigger(ei)?n.preventDefault():(t.attr(kt,!1),p.attr(wt,!0))},active:function(n){t&&t.length&&t[0].removeAttribute(pt),n&&t.attr(pt,l._optionID)},specifiedRange:f._specifiedRange})),p=l.ul,f._icon(),f._reset();try{t[0].setAttribute("type","text")}catch(k){t[0].type="text"}t.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":l._timeViewID,autocomplete:"off"}),b=t.is("[disabled]")||n(f.element).parents("fieldset").is(":disabled"),b?f.enable(!1):f.readonly(t.is("[readonly]")),i.dateInput&&(a=i.min,c=i.max,o=new e,u(a)==u(c)&&(a=new e(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0),c=new e(o.getFullYear(),o.getMonth(),o.getDate(),24,0,0)),f._dateInput=new y.DateInput(t,{culture:i.culture,format:i.format,min:a,max:c,value:i.value,interval:i.interval})),f._old=f._update(i.value||f.element.val()),f._oldText=t.val(),r.notify(f)},options:{name:"TimePicker",min:s,max:s,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{},dateInput:!1,messages:{set:"Set",cancel:"Cancel",hour:"hour",minute:"minute",second:"second",millisecond:"millisecond",now:"Now"}},events:[it,ei,ct],componentTypes:{classic:{timeView:{list:"list"}},modern:{timeView:{list:"scroll"}}},setOptions:function(n){var t=this,i=t._value;w.fn.setOptions.call(t,n),n=t.options,gt(n),t.timeView.setOptions(n),i&&t.element.val(r.toString(i,n.format,n.culture))},dataBind:function(n){ti(n)&&this.timeView.dataBind(n)},_editable:function(n){var t=this,u=n.disable,e=n.readonly,s=t._arrow.off(i),r=t.element.off(i),f=t._inputWrapper.off(i);t._dateInput&&t._dateInput._unbindInput(),e||u?(f.addClass(u?ot:ft).removeClass(u?ft:ot),r.attr(si,u).attr(li,e).attr(yt,u)):(f.addClass(ft).removeClass(ot).on(ir,t._toggleHover),r&&r.length&&(r[0].removeAttribute(si),r[0].removeAttribute(li)),r.attr(yt,!1).on("keydown"+i,o(t._keydown,t)).on("focusout"+i,o(t._blur,t)).on("focus"+i,function(){t._inputWrapper.addClass(p)}),t._dateInput&&t._dateInput._bindInput(),s.on(fi,o(t._click,t)).on(ut,at))},readonly:function(n){this._editable({readonly:n===t||n,disable:!1})},enable:function(n){this._editable({readonly:!1,disable:!(n=n===t||n)})},destroy:function(){var n=this;w.fn.destroy.call(n),n.timeView.destroy(),n.element.off(i),n._arrow.off(i),n._inputWrapper.off(i),n._form&&n._form.off("reset",n._resetHandler)},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(n){return this._option("min",n)},max:function(n){return this._option("max",n)},value:function(n){var i=this;return n===t?i._value:(i._old=i._update(n),null===i._old&&i.element.val(""),i._oldText=i.element.val(),t)},_blur:function(){var n=this,t=n.element.val();n.options.timeView&&"scroll"===n.options.timeView.list||n.close(),t!==n._oldText&&n._change(t),n._inputWrapper.removeClass(p)},_click:function(){var t=this,n=t.element;t.timeView.toggle(),b.touch||n[0]===nr()||n.trigger("focus")},_change:function(n){var i,f,u,t=this,e=t.element.val();n=t._update(n),i=!r.calendar.isEqualDate(t._old,n),f=i&&!t._typing,u=e!==t.element.val(),(f||u)&&t.element.trigger(ct),i&&(t._old=n,t._oldText=t.element.val(),t.trigger(ct)),t._typing=!1},_icon:function(){var t,i=this,r=i.element;t=r.next("span.k-select"),t[0]||(t=n('<span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-clock"></span></span>').insertAfter(r)),i._arrow=t.attr({role:"button","aria-controls":i.timeView._timeViewID})},_keydown:function(n){var t=this,u=n.keyCode,i=t.timeView,r=t.element.val();i.popup.visible()||n.altKey?(i.move(n),t._dateInput&&n.stopImmediatePropagation&&n.stopImmediatePropagation()):u===f.ENTER&&r!==t._oldText?t._change(r):t._typing=!0},_option:function(n,i){var r=this,u=r.options;return i===t?u[n]:(i=r.timeView._parse(i),i&&(i=new e(+i),u[n]=i,r.timeView.options[n]=i,r.timeView.bind()),t)},_toggleHover:function(t){n(t.currentTarget).toggleClass(ht,"mouseenter"===t.type)},_update:function(n){var i=this,u=i.options,f=i.timeView,t=f._parse(n);return ni(t,u.min,u.max)||(t=null),i._value=t,i._currentlySelected=t,i._dateInput&&t?i._dateInput.value(t||n):i.element.val(r.toString(t||n,u.format,u.culture)),f.value(t),t},_wrapper:function(){var t,r=this,i=r.element;t=i.parents(".k-timepicker"),t[0]||(t=i.wrap(ui).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(ui).parent()),t[0].style.cssText=i[0].style.cssText,r.wrapper=t.addClass("k-widget k-timepicker").addClass(i[0].className),i.css({width:"100%",height:i[0].style.height}),r._inputWrapper=n(t[0].firstChild)},_reset:function(){var t=this,i=t.element,u=i.attr("form"),r=u?n("#"+u):i.closest("form");r[0]&&(t._resetHandler=function(){t.value(i[0].defaultValue),t.max(t._initialOptions.max),t.min(t._initialOptions.min)},t._form=r.on("reset",t._resetHandler))}}),y.plugin(hi)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.datetimepicker.min",["kendo.datepicker.min","kendo.timepicker.min"],n)}(function(){return function(n,t){function yt(n){var t=new Date(2100,0,1);return t.setMinutes(-n),t}function rt(n){n.preventDefault()}function pt(t){var r,u=i.getCulture(t.culture).calendars.standard.patterns,f=!t.parseFormats.length;t.format=lt(t.format||u.g),t.timeFormat=r=lt(t.timeFormat||u.t),i.DateView.normalize(t),f&&t.parseFormats.unshift("yyyy-MM-ddTHH:mm:ss"),n.inArray(r,t.parseFormats)===-1&&t.parseFormats.push(r)}var i=window.kendo,wt=i.TimeView,f=i.parseDate,it=i.support,ui=i._activeElement,lt=i._extractFormat,tt=i.calendar,nt=tt.isInRange,ri=tt.restrictValue,e=tt.isEqualDatePart,at=wt.getMilliseconds,a=i.ui,y=a.Widget,ut="open",ft="close",c="change",r=".kendoDateTimePicker",l="click"+r,vt=it.mouseAndTouchPresent?i.applyEventMap("up",r.slice(1)):l,dt="disabled",gt="readonly",g="k-state-default",kt="k-state-focused",fi="k-state-hover",d="k-state-disabled",ii="mouseenter"+r+" mouseleave"+r,bt="mousedown"+r,ot="month",et="<span/>",b="aria-activedescendant",w="aria-expanded",h="aria-hidden",p="aria-owns",ct="aria-disabled",u=Date,s=new u(1800,0,1),o=new u(2099,11,31),ht={view:"date"},st={view:"time"},k=n.extend,ni='<div class="k-date-tab k-datetime-wrap"><div class="k-datetime-buttongroup"><div class="k-button-group k-button-group-stretched"><button class="k-button k-state-active k-group-start">#=messages.date#</button><button class="k-button k-group-end">#=messages.time#</button></div></div><div class="k-datetime-selector"><div class="k-datetime-calendar-wrap"></div><div class="k-datetime-time-wrap"></div></div><div class="k-datetime-footer k-action-buttons"><button class="k-button k-time-cancel" title="Cancel" aria-label="Cancel">#=messages.cancel#</button><button class="k-time-accept k-button k-primary" title="Set" aria-label="Set">#=messages.set#</button></div></div>',v="k-state-active",ti=y.extend({init:function(t,r){var e,u=this;r=r||{},r.componentType=r.componentType||"classic",y.fn.init.call(u,t,r),t=u.element,r=u.options,r.disableDates=i.calendar.disabled(r.disableDates),r.min=f(t.attr("min"))||f(r.min),r.max=f(t.attr("max"))||f(r.max),+r.max==+o&&+r.min==+s||(this._specifiedRange=!0),pt(r),u._initialOptions=k({},r),u._wrapper(),r.singlePopup&&u._popup(),u._views(),u._icons(),u._reset(),u._template();try{t[0].setAttribute("type","text")}catch(h){t[0].type="text"}t.addClass("k-input").attr({role:"combobox","aria-expanded":!1,autocomplete:"off"}),u._midnight=u._calculateMidnight(r.min,r.max),e=t.is("[disabled]")||n(u.element).parents("fieldset").is(":disabled"),e?u.enable(!1):u.readonly(t.is("[readonly]")),u._createDateInput(r),u._old=u._update(r.value||u.element.val()),u._oldText=t.val(),i.notify(u)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],disableDates:null,min:new u(s),max:new u(o),interval:30,height:200,footer:"",start:ot,depth:ot,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "d")#',dateButtonText:"Open the date view",timeButtonText:"Open the time view",dateInput:!1,weekNumber:!1,messages:{set:"Set",cancel:"Cancel",hour:"hour",minute:"minute",second:"second",millisecond:"millisecond",now:"Now",date:"Date",time:"Time",today:"Today"}},events:[ut,ft,c],componentTypes:{classic:{singlePopup:!1,timeView:{list:"list"}},modern:{singlePopup:!0,timeView:{list:"scroll"}}},setOptions:function(n){var h,r,l,t=this,c=t._value;y.fn.setOptions.call(t,n),n=t.options,n.min=h=f(n.min),n.max=r=f(n.max),pt(n),t._midnight=t._calculateMidnight(n.min,n.max),l=n.value||t._value||t.dateView._current,h&&!e(h,l)&&(h=new u(s)),r&&!e(r,l)&&(r=new u(o)),t.dateView.setOptions(n),t.timeView.setOptions(k({},n,{format:n.timeFormat,min:h,max:r})),t._createDateInput(n),t._dateInput||t.element.val(i.toString(c,n.format,n.culture)),c&&t._updateARIA(c)},_editable:function(t){var u=this,f=u.element.off(r),h=u._dateIcon.off(r),c=u._timeIcon.off(r),s=u._inputWrapper.off(r),o=t.readonly,e=t.disable;o||e?(s.addClass(e?d:g).removeClass(e?g:d),f.attr(dt,e).attr(gt,o).attr(ct,e)):(s.addClass(g).removeClass(d).on(ii,u._toggleHover),f&&f.length&&(f[0].removeAttribute(dt),f[0].removeAttribute(gt,!1),f[0].removeAttribute(ct,!1)),f.on("keydown"+r,n.proxy(u._keydown,u)).on("focus"+r,function(){u._inputWrapper.addClass(kt)}).on("focusout"+r,function(){u._inputWrapper.removeClass(kt),f.val()!==u._oldText&&(u._change(f.val()),f.val()||u.dateView.current(i.calendar.getToday())),u.options.singlePopup||(u.close("date"),u.close("time"))}),h.on(bt,rt).on(vt,function(n){u.toggle("date"),u._focusElement(n.type)}),c.on(bt,rt).on(vt,function(n){u.toggle("time"),u._focusElement(n.type)}))},_focusElement:function(n){var t=this.element;it.touch&&(!it.mouseAndTouchPresent||(n||"").match(/touch/i))||t[0]===ui()||t.trigger("focus")},readonly:function(n){this._editable({readonly:n===t||n,disable:!1})},enable:function(n){this._editable({readonly:!1,disable:!(n=n===t||n)})},destroy:function(){var n=this;y.fn.destroy.call(n),n.dateView.destroy(),n.timeView.destroy(),n.options.singlePopup&&(n.popup.element.off(r),n.popup.destroy()),n.element.off(r),n._dateIcon.off(r),n._timeIcon.off(r),n._inputWrapper.off(r),n._form&&n._form.off("reset",n._resetHandler)},close:function(n){this.options.singlePopup?this.popup.close():("time"!==n&&(n="date"),this[n+"View"].close())},open:function(n){var i,t=this;t.options.singlePopup?(t.dateView._calendar(),t.timeView.ul.find("li").length<1&&t.timeView.bind(),i=t.popup._hovered,t.popup._hovered=!0,t.popup.open(),"time"===n?t._switchToTimeView():t._switchToDateView(),this._dateIcon.toggle("time"!==n),this._timeIcon.toggle("time"===n),setTimeout(function(){t.popup._hovered=i},1)):("time"!==n&&(n="date"),this[n+"View"].open())},min:function(n){return this._option("min",n)},max:function(n){return this._option("max",n)},toggle:function(n){if(this.options.singlePopup)this.popup.visible()?this.close():this.open(n);else{var t="timeView";"time"!==n?n="date":t="dateView",this[n+"View"].toggle(),this[t].close()}},value:function(n){var i=this;return n===t?i._value:(i._old=i._update(n),null===i._old&&i.element.val(""),i._oldText=i.element.val(),t)},_change:function(n){var i,u,r,t=this,f=t.element.val();n=t._update(n),i=+t._old!=+n,u=i&&!t._typing,r=f!==t.element.val(),(u||r)&&t.element.trigger(c),i&&(t._old=n,t._oldText=t.element.val(),t.trigger(c)),t._typing=!1},_option:function(n,i){var a,l,h=this,r=h.options,y=h.timeView,c=y.options,v=h._value||h._old;if(i===t)return r[n];if(i=f(i,r.parseFormats,r.culture)){if(r.min.getTime()===r.max.getTime()&&(c.dates=[]),r[n]=new u(i.getTime()),h.dateView[n](i),h._midnight=h._calculateMidnight(r.min,r.max),v&&(a=e(r.min,v),l=e(r.max,v)),a||l){if(c[n]=i,a&&!l&&(c.max=yt(r.interval)),l){if(h._midnight)return y.dataBind([o]),t;a||(c.min=s)}}else c.max=o,c.min=s;y.bind()}},_toggleHover:function(t){n(t.currentTarget).toggleClass(fi,"mouseenter"===t.type)},_update:function(t){var y,l,k,b,g,u=this,h=u.options,a=h.min,w=h.max,v=h.dates,p=u.timeView,d=u._value,r=f(t,h.parseFormats,h.culture),tt=null===r&&null===d||r instanceof Date&&d instanceof Date;return h.disableDates&&h.disableDates(r)&&(r=null,u._old||u.element.val()||(t=null)),+r==+d&&tt?(g=i.toString(r,h.format,h.culture),g!==t&&(u.element.val(null===r?t:g),t instanceof String&&u.element.trigger(c)),r):(null!==r&&e(r,a)?r=ri(r,a,w):nt(r,a,w)||(r=null),u._value=r,p.value(r),u.dateView.value(r),r&&(k=u._old,l=p.options,v[0]&&(v=n.grep(v,function(n){return e(r,n)}),v[0]&&(p.dataBind(v),b=!0)),b||(e(r,a)&&(l.min=a,l.max=yt(h.interval),y=!0),e(r,w)&&(u._midnight?(p.dataBind([o]),b=!0):(l.max=w,y||(l.min=s),y=!0))),!b&&(!k&&y||k&&!e(k,r))&&(y||(l.max=o,l.min=s),p.bind())),u._dateInput&&r?u._dateInput.value(r||t):u.element.val(i.toString(r||t,h.format,h.culture)),u._updateARIA(r),r)},_keydown:function(n){var t=this,r=t.dateView,e=t.timeView,o=t.element.val(),u=t.options.singlePopup?t.popup.visible():r.popup.visible(),f=t._dateInput&&n.stopImmediatePropagation;n.altKey&&n.keyCode===i.keys.DOWN?t.toggle(u?"time":"date"):u?(r.move(n),t._updateARIA(r._current)):!t.options.singlePopup&&e.popup.visible()?e.move(n):n.keyCode===i.keys.ENTER&&o!==t._oldText?t._change(o):(t._typing=!0,f=!1),f&&n.stopImmediatePropagation()},_views:function(){var l,e,a,y,v,c,g,nt,tt,n=this,r=n.element,t=n.options,d=r.attr("id");t.singlePopup&&(t.dateDiv=n.popup.element.find(".k-datetime-calendar-wrap"),g=n.popup.element.find(".k-datetime-time-wrap"),t.omitPopup=nt=!0,tt=t.timeView),n.dateView=l=new i.DateView(k({},t,{id:d,anchor:n.wrapper,change:function(){var i=n._applyDateValue();t.singlePopup?(n.timeView._currentlySelected||(n.timeView._currentlySelected=new Date),n.timeView._currentlySelected.setFullYear(i.getFullYear()),n.timeView._currentlySelected.setMonth(i.getMonth()),n.timeView._currentlySelected.setDate(i.getDate()),n._switchToTimeView(),n._toggleIcons()):(n._change(i),n.close("date"))},close:function(t){n.trigger(ft,ht)?t.preventDefault():(r.attr(w,!1),a.attr(h,!0),n.options.singlePopup||e.popup.visible()||r&&r.length&&r[0].removeAttribute(p))},open:function(i){n.trigger(ut,ht)?i.preventDefault():(r.val()!==n._oldText&&(c=f(r.val(),t.parseFormats,t.culture),n.dateView[c?"current":"value"](c)),a.attr(h,!1),r.attr(w,!0).attr(p,l._dateViewID),n._updateARIA(c))}})),a=l.div,v=t.min.getTime(),n.timeView=e=new wt({id:d,value:t.value,anchor:n.wrapper,animation:t.animation,format:t.timeFormat,culture:t.culture,height:"modern"===t.componentType?null:t.height,interval:t.interval,min:"modern"===t.componentType?t.min:new u(s),max:"modern"===t.componentType?t.max:new u(o),dates:v===t.max.getTime()?[new Date(v)]:[],parseFormats:t.parseFormats,validateDate:!0,change:function(u,f){u=n._applyTimeValue(u),f?(n._timeSelected=!0,n._change(u)):(r.val(i.toString(u,t.format,t.culture)),l.value(u),n._updateARIA(u))},close:function(t){n.trigger(ft,st)?t.preventDefault():(y.attr(h,!0),r.attr(w,!1),l.popup.visible()||r&&r.length&&r[0].removeAttribute(p))},open:function(i){"modern"!==n.options.componentType?e._adjustListWidth():n.timeView._updateTitle(),n.trigger(ut,st)?i.preventDefault():(r.val()!==n._oldText&&(c=f(r.val(),t.parseFormats,t.culture),n.timeView.value(c)),y.attr(h,!1),r.attr(w,!0).attr(p,e._timeViewID),e.options.active(e.current()))},active:function(n){r&&r.length&&r[0].removeAttribute(b),n&&r.attr(b,e._optionID)},popup:t.popup,useValueToRender:!0,specifiedRange:n._specifiedRange,omitPopup:nt,timeDiv:g,timeView:tt,messages:n.options.messages}),y=e.ul},_applyDateValue:function(){var t,o,f=this,h=f.options,c=f.dateView,n=c.calendar.value(),s=+n,r=+h.min,e=+h.max;return s!==r&&s!==e||(t=s===r?r:e,t=new u(f._value||t),t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),nt(t,r,e)&&(n=t)),f._value&&(o=i.date.setHours(new Date(n),f._value),nt(o,r,e)&&(n=o)),n},_applyTimeValue:function(n){var i=this.timeView,t=this.options;return n=i._parse(n),n<t.min?(n=new u(+t.min),i.options.min=n):n>t.max&&(n=new u(+t.max),i.options.max=n),n},_icons:function(){var t=this,u=t.element,r=t.options,i=u.next("span.k-select");i[0]||(i=n('<span unselectable="on" class="k-select"><span class="k-link k-link-date" aria-label="'+r.dateButtonText+'"><span unselectable="on" class="k-icon k-i-calendar"></span></span><span class="k-link k-link-time" aria-label="'+r.timeButtonText+'"><span unselectable="on" class="k-icon k-i-clock"></span></span></span>').insertAfter(u)),i=i.children(),t._dateIcon=i.eq(0).attr("aria-controls",t.dateView._dateViewID),t._timeIcon=i.eq(1).attr("aria-controls",t.timeView._timeViewID),r.singlePopup&&t._timeIcon.hide()},_wrapper:function(){var t,r=this,i=r.element;t=i.parents(".k-datetimepicker"),t[0]||(t=i.wrap(et).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(et).parent()),t[0].style.cssText=i[0].style.cssText,i.css({width:"100%",height:i[0].style.height}),r.wrapper=t.addClass("k-widget k-datetimepicker").addClass(i[0].className).removeClass("input-validation-error"),r._inputWrapper=n(t[0].firstChild)},_reset:function(){var t=this,f=t.element,h=f.attr("form"),s=h?n("#"+h):f.closest("form"),r=t.options,o=r.disableDates,c=r.parseFormats.length?r.parseFormats:null,u=t._initialOptions.value,e=f[0].defaultValue;u&&o&&o(u)&&(u=null),e&&i.parseDate(e,c,r.culture)||!u||f.attr("value",i.toString(u,r.format,r.culture)),s[0]&&(t._resetHandler=function(){t.value(u||f[0].defaultValue),t.max(t._initialOptions.max),t.min(t._initialOptions.min)},t._form=s.on("reset",t._resetHandler))},_template:function(){this._ariaTemplate=i.template(this.options.ARIATemplate)},_createDateInput:function(n){this._dateInput&&(this._dateInput.destroy(),this._dateInput=null),n.dateInput&&(this._dateInput=new a.DateInput(this.element,{culture:n.culture,format:n.format,min:n.min,max:n.max,interval:n.interval}))},_calculateMidnight:function(n,t){return at(n)+at(t)===0},_updateARIA:function(n){var r,t=this,i=t.dateView.calendar;t.element&&t.element.length&&t.element[0].removeAttribute(b),i&&(r=i._cell,r.attr("aria-label",t._ariaTemplate({current:n||i.current()})),t.element.attr(b,r.attr("id")))},_popup:function(){var t=this,f=t.options,u=n("<div></div>").attr(h,"true").addClass("k-datetime-container k-group k-reset").appendTo(document.body);u.append(i.template(ni)(t.options)),t.popup=new a.Popup(u,k(f.popup,f,{name:"Popup",isRtl:i.support.isRtl(t.wrapper),anchor:t.wrapper,activate:function(){t.options.timeView&&"scroll"===t.options.timeView.list&&(t.timeView.addTranslate(),t.timeView.applyValue(t._value),t.timeView._updateRanges())},open:function(){t.timeView._updateTitle()}})),u.on(l+r,".k-datetime-buttongroup .k-button",n.proxy(t._groupChangeClick,t)),u.on(l+r,".k-datetime-footer button.k-time-cancel",n.proxy(t._cancelClickHandler,t)),u.on(l+r,".k-datetime-footer button.k-time-accept",n.proxy(t._setClickHandler,t))},_groupChangeClick:function(t){var r,i;rt(t),r=n(t.currentTarget),i=r.index(),i?this._switchToTimeView():this._switchToDateView(),this._toggleIcons()},_switchToDateView:function(){this.popup.element.find(".k-group-start, .k-group-end").removeClass(v).eq(0).addClass(v),this.popup.element.find(".k-datetime-wrap").removeClass("k-time-tab").addClass("k-date-tab")},_switchToTimeView:function(){this.timeView._updateRanges(),this.popup.element.find(".k-group-start, .k-group-end").removeClass(v).eq(1).addClass(v),this.popup.element.find(".k-datetime-wrap").removeClass("k-date-tab").addClass("k-time-tab")},_toggleIcons:function(){this._dateIcon.toggle(),this._timeIcon.toggle()},_cancelClickHandler:function(){this._value&&(this.value(this._value),this.dateView.value(this._value)),this.popup.close()},_setClickHandler:function(){var n=this._applyDateValue(),t=this.timeView._currentlySelected||new Date;n=n||new Date,this.timeView._updateCurrentlySelected(),n.setHours(t.getHours()),n.setMinutes(t.getMinutes()),n.setSeconds(t.getSeconds()),n=this._applyTimeValue(n),this._change(n),this.popup.close()}});a.plugin(ti)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.floatinglabel.min",["kendo.core.min"],n)}(function(){return function(n,t){var r=window.kendo,u=r.ui.Widget,l=r.ui,i=".kendoFloatingLabel",a="k-floating-label-container",h="k-state-empty",f="k-state-focused",e="k-state-disabled",o="k-no-click",s=n.proxy,c=u.extend({init:function(i,f){var e=this;u.fn.init.call(e,i,f),f=n.extend(!0,{},f),e.refresh(),e._editable({readonly:e.options.widget.options.readonly!==t&&e.options.widget.options.readonly,disable:e.options.widget.options.enable!==t&&!e.options.widget.options.enable}),e.element.addClass(a),r.notify(e)},options:{name:"FloatingLabel",widget:null},readonly:function(n){this._editable({readonly:n===t||n,disable:!1})},enable:function(n){this._editable({readonly:!1,disable:!(n=n===t||n)})},refresh:function(){var t=this,n=t.element;n.removeClass(h).removeClass(f),t.options.widget.element.val()||n.addClass(h),document.activeElement===t.options.widget.element[0]&&n.addClass(f)},destroy:function(){var n=this;n.element.off(i),u.fn.destroy.call(n)},_editable:function(n){var r=this,t=r.element,f=n.disable,u=n.readonly;t.off(i),u||f?t.toggleClass(e,f).toggleClass(o,u):(t.removeClass(e).removeClass(o),t.on("focusin"+i,s(r.refresh,r)),t.on("focusout"+i,s(r.refresh,r)))}});l.plugin(c)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.numerictextbox.min",["kendo.core.min","kendo.userevents.min","kendo.floatinglabel.min"],n)}(function(){return function(n,t){function d(n,t){var i="k-i-arrow-"+("increase"===n?"60-up":"60-down");return'<span unselectable="on" class="k-link k-link-'+n+'" aria-label="'+t+'" title="'+t+'"><span unselectable="on" class="'+v+" "+i+'"></span></span>'}function bt(n,t){var i=(""+parseFloat(n,10)).split(f);return i[1]&&(i[1]=i[1].substring(0,t)),i.join(f)}var u=window.kendo,h=u.caret,o=u.keys,g=u.ui,s=g.Widget,at=u._activeElement,nt=u._extractFormat,vt=u.parseFloat,ct=u.support.placeholder,lt=u.getCulture,p="change",it="disabled",ut="readonly",yt="k-input",rt="spin",r=".kendoNumericTextBox",kt="touchend",pt="mouseleave"+r,tt="mouseenter"+r+" "+pt,c="k-state-default",k="k-state-focused",w="k-state-hover",y="focus",f=".",v="k-icon",wt="k-label k-input-label",l="k-state-selected",a="k-state-disabled",ft="k-state-invalid",et="aria-disabled",st=/^(-)?(\d*)$/,i=null,e=n.proxy,b=n.isPlainObject,ot=n.extend,ht=s.extend({init:function(f,o){var a,v,l,c,w,p,h=this,b=o&&o.step!==t;s.fn.init.call(h,f,o),o=h.options,f=h.element.on("focusout"+r,e(h._focusout,h)).attr("role","spinbutton"),o.placeholder=o.placeholder||f.attr("placeholder"),a=h.min(f.attr("min")),v=h.max(f.attr("max")),l=h._parse(f.attr("step")),o.min===i&&a!==i&&(o.min=a),o.max===i&&v!==i&&(o.max=v),b||l===i||(o.step=l),h._initialOptions=ot({},o),p=f.attr("type"),h._reset(),h._wrapper(),h._arrows(),h._validation(),h._input(),u.support.mobileOS?h._text.on(kt+r+" "+y+r,function(){u.support.browser.edge?h._text.one(y+r,function(){h._toggleText(!1),f.focus()}):(h._toggleText(!1),f.focus())}):h._text.on(y+r,e(h._click,h)),f.attr("aria-valuemin",o.min!==i?o.min*o.factor:o.min).attr("aria-valuemax",o.max!==i?o.max*o.factor:o.max),o.format=nt(o.format),c=o.value,c==i&&(c="number"==p?parseFloat(f.val()):f.val()),h.value(c),w=f.is("[disabled]")||n(h.element).parents("fieldset").is(":disabled"),w?h.enable(!1):h.readonly(f.is("[readonly]")),h.angular("compile",function(){return{elements:h._text.get()}}),h._label(),u.notify(h)},options:{name:"NumericTextBox",decimals:i,restrictDecimals:!1,min:i,max:i,value:i,step:1,round:!0,culture:"",format:"n",spinners:!0,placeholder:"",factor:1,upArrowText:"Increase value",downArrowText:"Decrease value",label:null},events:[p,rt],_editable:function(n){var t=this,o=t.element,i=n.disable,s=n.readonly,u=t._text.add(o),f=t._inputWrapper.off(tt);t._toggleText(!0),t._upArrowEventHandler.unbind("press"),t._downArrowEventHandler.unbind("press"),o.off("keydown"+r).off("keyup"+r).off("input"+r).off("paste"+r),t._inputLabel&&t._inputLabel.off(r),s||i?(f.addClass(i?a:c).removeClass(i?c:a),u.attr(it,i).attr(ut,s).attr(et,i)):(f.addClass(c).removeClass(a).on(tt,t._toggleHover),u.removeAttr(it).removeAttr(ut).attr(et,!1),t._upArrowEventHandler.bind("press",function(n){n.preventDefault(),t._spin(1),t._upArrow.addClass(l)}),t._downArrowEventHandler.bind("press",function(n){n.preventDefault(),t._spin(-1),t._downArrow.addClass(l)}),t.element.on("keydown"+r,e(t._keydown,t)).on("keyup"+r,e(t._keyup,t)).on("paste"+r,e(t._paste,t)).on("input"+r,e(t._inputHandler,t)),t._inputLabel&&t._inputLabel.on("click"+r,e(t.focus,t)))},readonly:function(n){var i=this;this._editable({readonly:n===t||n,disable:!1}),i.floatingLabel&&i.floatingLabel.readonly(n===t||n)},enable:function(n){var i=this;this._editable({readonly:!1,disable:!(n=n===t||n)}),i.floatingLabel&&i.floatingLabel.enable(n=n===t||n)},setOptions:function(n){var r=this;s.fn.setOptions.call(r,n),r._arrowsWrap.toggle(r.options.spinners),r._inputWrapper.toggleClass("k-expand-padding",!r.options.spinners),r._text.prop("placeholder",r.options.placeholder),r._placeholder(r.options.placeholder),r.element.attr({"aria-valuemin":r.options.min!==i?r.options.min*r.options.factor:r.options.min,"aria-valuemax":r.options.max!==i?r.options.max*r.options.factor:r.options.max}),r.options.format=nt(r.options.format),n.value!==t&&r.value(n.value)},destroy:function(){var n=this;n._inputLabel&&(n._inputLabel.off(r),n.floatingLabel&&n.floatingLabel.destroy()),n.element.add(n._text).add(n._upArrow).add(n._downArrow).add(n._inputWrapper).off(r),n._upArrowEventHandler.destroy(),n._downArrowEventHandler.destroy(),n._form&&n._form.off("reset",n._resetHandler),s.fn.destroy.call(n)},min:function(n){return this._option("min",n)},max:function(n){return this._option("max",n)},step:function(n){return this._option("step",n)},value:function(n){var r,i=this;return n===t?i._value:(n=i._parse(n),r=i._adjust(n),n===r&&(i._update(n),i._old=i._value),t)},focus:function(){this._focusin()},_adjust:function(n){var f=this,u=f.options,t=u.min,r=u.max;return n===i?n:(t!==i&&n<t?n=t:r!==i&&n>r&&(n=r),n)},_arrows:function(){var i,t=this,o=function(){clearTimeout(t._spinning),i.removeClass(l)},r=t.options,e=r.spinners,f=t.element;i=f.siblings("."+v),i[0]||(i=n(d("increase",r.upArrowText)+d("decrease",r.downArrowText)).insertAfter(f),t._arrowsWrap=i.wrapAll('<span class="k-select"/>').parent()),e||(i.parent().toggle(e),t._inputWrapper.addClass("k-expand-padding")),t._upArrow=i.eq(0),t._upArrowEventHandler=new u.UserEvents(t._upArrow,{release:o}),t._downArrow=i.eq(1),t._downArrowEventHandler=new u.UserEvents(t._downArrow,{release:o})},_validation:function(){var t=this,i=t.element;t._validationIcon=n("<span class='"+v+" k-i-warning'></span>").hide().insertAfter(i)},_blur:function(){var n=this;n._toggleText(!0),n._change(n.element.val())},_click:function(n){var t=this;clearTimeout(t._focusing),t._focusing=setTimeout(function(){var e,l,u,c=n.target,a=h(c)[0],s=c.value.substring(0,a),o=t._format(t.options.format),r=o[","],i=0;r&&(l=RegExp("\\"+r,"g"),u=RegExp("(^(-)$)|(^(-)?([\\d\\"+r+"]+)(\\"+o[f]+")?(\\d+)?)")),u&&(e=u.exec(s)),e&&(i=e[0].replace(l,"").length,s.indexOf("(")!=-1&&t._value<0&&i++),t._focusin(),h(t.element[0],i)})},_change:function(n){var t=this,i=t.options.factor;i&&1!==i&&(n=u.parseFloat(n),null!==n&&(n/=i)),t._update(n),n=t._value,t._old!=n&&(t._old=n,t._typing||t.element.trigger(p),t.trigger(p)),t._typing=!1},_culture:function(n){return n||lt(this.options.culture)},_focusin:function(){var n=this;n._inputWrapper.addClass(k),n._toggleText(!1),n.element[0].focus()},_focusout:function(){var n=this;clearTimeout(n._focusing),n._inputWrapper.removeClass(k).removeClass(w),n._blur(),n._removeInvalidState()},_format:function(n,t){var i=this._culture(t).numberFormat;return n=n.toLowerCase(),n.indexOf("c")>-1?i=i.currency:n.indexOf("p")>-1&&(i=i.percent),i},_input:function(){var u,e=this,t=e.options,s="k-formatted-value",r=e.element.addClass(yt).show()[0],o=r.accessKey,h=e.wrapper;u=h.find(f+s),u[0]||(u=n('<input type="text"/>').insertBefore(r).addClass(s).attr("aria-hidden","true"));try{r.setAttribute("type","text")}catch(c){r.type="text"}u[0].title=r.title,u[0].tabIndex=r.tabIndex,u[0].style.cssText=r.style.cssText,u.prop("placeholder",t.placeholder),o&&(u.attr("accesskey",o),r.accessKey=""),e._text=u.addClass(r.className).attr({role:"spinbutton","aria-valuemin":t.min!==i?t.min*t.factor:t.min,"aria-valuemax":t.max!==i?t.max*t.factor:t.max,autocomplete:"off"})},_keydown:function(n){var i=this,r=n.keyCode;return r===o.NUMPAD_DOT&&(i._numPadDot=!0),r==o.DOWN?(i._step(-1),t):r==o.UP?(i._step(1),t):r==o.ENTER?(i._change(i.element.val()),t):(r!=o.TAB&&(i._typing=!0),i._cachedCaret=h(i.element),t)},_keyup:function(){this._removeInvalidState()},_inputHandler:function(){var r=this.element,n=r.val(),u=this.options.min,t=this._format(this.options.format),i=t[f],e=null!==u&&u>=0&&"-"===n.charAt(0);this._numPadDot&&i!==f&&(n=n.replace(f,i),this.element.val(n),this._numPadDot=!1),this._numericRegex(t).test(n)&&!e?this._oldText=n:(this._blinkInvalidState(),this.element.val(this._oldText),this._cachedCaret&&(h(r,this._cachedCaret[0]),this._cachedCaret=null))},_blinkInvalidState:function(){var n=this;n._addInvalidState(),clearTimeout(n._invalidStateTimeout),n._invalidStateTimeout=setTimeout(e(n._removeInvalidState,n),100)},_addInvalidState:function(){var n=this;n._inputWrapper.addClass(ft),n._validationIcon.show()},_removeInvalidState:function(){var n=this;n._inputWrapper.removeClass(ft),n._validationIcon.hide(),n._invalidStateTimeout=null},_numericRegex:function(n){var r=this,t=n[f],u=r.options.decimals,e="*";return t===f&&(t="\\"+t),u===i&&(u=n.decimals),0===u&&r.options.restrictDecimals?st:(r.options.restrictDecimals&&(e="{0,"+u+"}"),r._separator!==t&&(r._separator=t,r._floatRegExp=RegExp("^(-)?(((\\d+("+t+"\\d"+e+")?)|("+t+"\\d"+e+")))?$")),r._floatRegExp)},_paste:function(n){var t=this,r=n.target,e=r.value,u=t._format(t.options.format);setTimeout(function(){var n=t._parse(r.value);n===i?t._update(e):(r.value=(""+n).replace(f,u[f]),t._adjust(n)===n&&t._numericRegex(u).test(r.value)||t._update(e))})},_option:function(n,i){var r=this,f=r.element,u=r.options;return i===t?u[n]:(i=r._parse(i),(i||"step"!==n)&&(u[n]=i,f.add(r._text).attr("aria-value"+n,i),f.attr(n,i)),t)},_spin:function(n,t){var i=this;t=t||500,clearTimeout(i._spinning),i._spinning=setTimeout(function(){i._spin(n,50)},t),i._step(n)},_step:function(n){var t=this,r=t.element,f=t._value,i=t._parse(r.val())||0,u=t.options.decimals||2;at()!=r[0]&&t._focusin(),t.options.factor&&i&&(i/=t.options.factor),i=+(i+t.options.step*n).toFixed(u),i=t._adjust(i),t._update(i),t._typing=!1,f!==i&&t.trigger(rt)},_toggleHover:function(t){n(t.currentTarget).toggleClass(w,"mouseenter"===t.type)},_toggleText:function(n){var t=this;t._text.toggle(n),t.element.toggle(!n)},_parse:function(n,t){return vt(n,this._culture(t),this.options.format)},_round:function(n,t){var i=this.options.round?u._round:bt;return i(n,t)},_update:function(n){var s,t=this,o=t.options,c=o.factor,l=o.format,r=o.decimals,e=t._culture(),h=t._format(l,e);r===i&&(r=h.decimals),n=t._parse(n,e),s=n!==i,s&&(n=parseFloat(t._round(n,r),10)),t._value=n=t._adjust(n),t._placeholder(u.toString(n,l,e)),s?(c&&(n=parseFloat(t._round(n*c,r),10)),n=""+n,n.indexOf("e")!==-1&&(n=t._round(+n,r)),n=n.replace(f,h[f])):n=null,t.element.val(n),t._oldText=n,t.element.add(t._text).attr("aria-valuenow",n)},_placeholder:function(n){var t=this._text;t.val(n),ct||n||t.val(this.options.placeholder),t.attr("title",this.element.attr("title")||t.val())},_label:function(){var h,o,i=this,c=i.element,f=i.options,s=c.attr("id");null!==f.label&&(h=!!b(f.label)&&f.label.floating,o=b(f.label)?f.label.content:f.label,h&&(i._floatingLabelContainer=i.wrapper.wrap("<span></span>").parent(),i.floatingLabel=new u.ui.FloatingLabel(i._floatingLabelContainer,{widget:i})),u.isFunction(o)&&(o=o.call(i)),o||(o=""),s||(s=f.name+"_"+u.guid(),c.attr("id",s)),i._inputLabel=n("<label class='"+wt+"' for='"+s+"'>"+o+"</label>'").insertBefore(i.wrapper),i.element.attr("disabled")===t&&i.element.attr("readonly")===t&&i._inputLabel.on("click"+r,e(i.focus,i)))},_wrapper:function(){var t,u=this,r=u.element,i=r[0];t=r.parents(".k-numerictextbox"),t.is("span.k-numerictextbox")||(t=r.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(),t=t.wrap("<span/>").parent()),t[0].style.cssText=i.style.cssText,i.style.width="",u.wrapper=t.addClass("k-widget k-numerictextbox").addClass(i.className).removeClass("input-validation-error").css("display",""),u._inputWrapper=n(t[0].firstChild)},_reset:function(){var t=this,i=t.element,u=i.attr("form"),r=u?n("#"+u):i.closest("form");r[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(i[0].value),t.max(t._initialOptions.max),t.min(t._initialOptions.min)})},t._form=r.on("reset",t._resetHandler))}});g.plugin(ht)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.dropdownlist.min",["kendo.list.min","kendo.mobile.scroller.min","kendo.virtuallist.min"],n)}(function(){return function(n,t){function rt(n,t,i){for(var r,u=0,f=t.length-1;u<f;++u)r=t[u],r in n||(n[r]={}),n=n[r];n[t[f]]=i}function nt(n,t){return n>=t&&(n-=t),n}function et(n,t){for(var i=0;i<n.length;i++)if(n.charAt(i)!==t)return!1;return!0}var r=window.kendo,w=r.ui,ot=w.List,e=w.Select,s=r.support,k=r._activeElement,p=r.data.ObservableObject,f=r.keys,i=".kendoDropDownList",o=i+"FocusEvent",g="disabled",tt="readonly",l="change",it="k-state-focused",b="k-state-default",c="k-state-disabled",d="aria-disabled",st="click"+i+" touchend"+i,a="mouseenter"+i+" mouseleave"+i,h="tabindex",v="filter",y="accept",ft="The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel",u=n.proxy,ut=e.extend({init:function(f,o){var l,c,v,s=this,a=o&&o.index;s.ns=i,o=n.isArray(o)?{dataSource:o}:o,e.fn.init.call(s,f,o),o=s.options,f=s.element.on("focus"+i,u(s._focusHandler,s)),s._focusInputHandler=n.proxy(s._focusInput,s),s.optionLabel=n(),s._optionLabel(),s._inputTemplate(),s._reset(),s._prev="",s._word="",s._wrapper(),s._tabindex(),s.wrapper.data(h,s.wrapper.attr(h)),s._span(),s._popup(),s._mobile(),s._dataSource(),s._ignoreCase(),s._filterHeader(),s._aria(),s.wrapper.attr("aria-live","polite"),s._enable(),s._attachFocusHandlers(),s._oldIndex=s.selectedIndex=-1,a!==t&&(o.index=a),s._initialIndex=o.index,s.requireValueMapper(s.options),s._initList(),s._cascade(),s.one("set",function(n){!n.sender.listView.bound()&&s.hasOptionLabel()&&s._textAccessor(s._optionLabelText())}),o.autoBind?s.dataSource.fetch():s.selectedIndex===-1&&(c=o.text||"",c||(l=o.optionLabel,l&&0===o.index?c=l:s._isSelect&&(c=f.children(":selected").text())),s._textAccessor(c)),v=n(s.element).parents("fieldset").is(":disabled"),v&&s.enable(!1),s.listView.bind("click",function(n){n.preventDefault()}),r.notify(s)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",cascadeFromParentField:"",ignoreCase:!0,animation:{},filter:"none",minLength:1,enforceMinLength:!1,virtual:!1,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",autoWidth:!1,popup:null},events:["open","close",l,"select","filtering","dataBinding","dataBound","cascade","set","kendoKeydown"],setOptions:function(n){e.fn.setOptions.call(this,n),this.listView.setOptions(this._listOptions(n)),this._optionLabel(),this._inputTemplate(),this._accessors(),this._filterHeader(),this._enable(),this._aria(),!this.value()&&this.hasOptionLabel()&&this.select(0)},destroy:function(){var n=this;e.fn.destroy.call(n),n.wrapper.off(i),n.wrapper.off(o),n.element.off(i),n._inputWrapper.off(i),n._arrow.off(),n._arrow=null,n._arrowIcon=null,n.optionLabel.off(),n.filterInput&&n.filterInput.off(o)},open:function(){var n=this,t=!!n.dataSource.filter()&&n.dataSource.filter().filters.length>0;n.popup.visible()||(n.listView.bound()&&n._state!==y?n._allowOpening()&&(n._focusFilter=!0,n.popup.one("activate",n._focusInputHandler),n.popup._hovered=!0,n.popup.open(),n._resizeFilterInput(),n._focusItem()):(n._open=!0,n._state="rebind",n.filterInput&&(n.filterInput.val(""),n._prev=""),n.filterInput&&1!==n.options.minLength&&!t?(n.refresh(),n.popup.one("activate",n._focusInputHandler),n.popup.open(),n._resizeFilterInput()):n._filterSource()))},_focusInput:function(){this._focusElement(this.filterInput)},_resizeFilterInput:function(){var i,t,n=this.filterInput,u=this._prevent;n&&(i=this.filterInput[0]===k(),t=r.caret(this.filterInput[0])[0],this._prevent=!0,n.css("display","none").css("width",this.popup.element.css("width")).css("display","inline-block"),i&&(n.focus(),r.caret(n[0],t)),this._prevent=u)},_allowOpening:function(){return this.hasOptionLabel()||this.filterInput||e.fn._allowOpening.call(this)},toggle:function(n){this._toggle(n,!0)},current:function(n){var i;return n===t?(i=this.listView.focus(),!i&&0===this.selectedIndex&&this.hasOptionLabel()?this.optionLabel:i):(this._focus(n),t)},dataItem:function(i){var r=this,u=null;if(null===i)return i;if(i===t)u=r.listView.selectedDataItems()[0];else{if("number"!=typeof i){if(r.options.virtual)return r.dataSource.getByUid(n(i).data("uid"));i=i.hasClass("k-list-optionlabel")?-1:n(r.items()).index(i)}else r.hasOptionLabel()&&(i-=1);u=r.dataSource.flatView()[i]}return u||(u=r._optionLabelDataItem()),u},refresh:function(){this.listView.refresh()},text:function(n){var u,i=this,r=i.options.ignoreCase;return n=null===n?"":n,n===t?i._textAccessor():"string"!=typeof n?(i._textAccessor(n),t):(u=r?n.toLowerCase():n,i._select(function(n){return n=i._text(n),r&&(n=(n+"").toLowerCase()),n===u}).done(function(){i._textAccessor(i.dataItem()||n)}),t)},_clearFilter:function(){n(this.filterInput).val(""),e.fn._clearFilter.call(this)},value:function(n){var i=this,r=i.listView,f=i.dataSource;return n===t?(n=i._accessor()||i.listView.value()[0],n===t||null===n?"":n):(i.requireValueMapper(i.options,n),!n&&i.hasOptionLabel()||(i._initialIndex=null),this.trigger("set",{value:n}),i._request&&i.options.cascadeFrom&&i.listView.bound()?(i._valueSetter&&f.unbind(l,i._valueSetter),i._valueSetter=u(function(){i.value(n)},i),f.one(l,i._valueSetter),t):(i._isFilterEnabled()&&r.bound()&&r.isFiltered()?i._clearFilter():i._fetchData(),r.value(n).done(function(){i._old=i._valueBeforeCascade=i._accessor(),i._oldIndex=i.selectedIndex}),t))},hasOptionLabel:function(){return this.optionLabel&&!!this.optionLabel[0]},_optionLabel:function(){var i=this,e=i.options,o=e.optionLabel,f=e.optionLabelTemplate;return o?(f||(f="#:",f+="string"==typeof o?"data":r.expr(e.dataTextField,"data"),f+="#"),"function"!=typeof f&&(f=r.template(f)),i.optionLabelTemplate=f,i.hasOptionLabel()||(i.optionLabel=n('<div class="k-list-optionlabel"></div>').prependTo(i.list)),i.optionLabel.html(f(o)).off().on(st,u(i._click,i)).on(a,i._toggleHover),i.angular("compile",function(){return{elements:i.optionLabel,data:[{dataItem:i._optionLabelDataItem()}]}}),t):(i.optionLabel.off().remove(),i.optionLabel=n(),t)},_optionLabelText:function(){var n=this.options.optionLabel;return"string"==typeof n?n:this._text(n)},_optionLabelDataItem:function(){var i=this,r=i.options.optionLabel;return i.hasOptionLabel()?n.isPlainObject(r)?new p(r):i._assignInstance(i._optionLabelText(),""):t},_buildOptions:function(n){var r,u,f,i=this;i._isSelect&&(r=i.listView.value()[0],u=i._optionLabelDataItem(),f=u&&i._value(u),r!==t&&null!==r||(r=""),u&&(f!==t&&null!==f||(f=""),u='<option value="'+f+'">'+i._text(u)+"</option>"),i._options(n,u,r),r!==ot.unifyType(i._accessor(),typeof r)&&(i._customOption=null,i._custom(r)))},_listBound:function(){var t,n=this,r=n._initialIndex,u=n._state===v,i=n.dataSource.flatView();n._presetValue=!1,n._renderFooter(),n._renderNoData(),n._toggleNoData(!i.length),n._resizePopup(!0),n.popup.position(),n._buildOptions(i),n._makeUnselectable(),u||(n._open&&n.toggle(n._allowOpening()),n._open=!1,n._fetch||(i.length?(!n.listView.value().length&&r>-1&&null!==r&&n.select(r),n._initialIndex=null,t=n.listView.selectedDataItems()[0],t&&n.text()!==n._text(t)&&n._selectValue(t)):n._textAccessor()!==n._optionLabelText()&&(n.listView.value(""),n._selectValue(null),n._oldIndex=n.selectedIndex))),n._hideBusy(),n.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]),(this._presetValue||this._old&&this._oldIndex===-1)&&(this._oldIndex=this.selectedIndex)},_filterPaste:function(){this._search()},_attachFocusHandlers:function(){var n=this,t=n.wrapper;t.on("focusin"+o,u(n._focusinHandler,n)).on("focusout"+o,u(n._focusoutHandler,n)),n.filterInput&&n.filterInput.on("focusin"+o,u(n._focusinHandler,n)).on("focusout"+o,u(n._focusoutHandler,n))},_focusHandler:function(){this.wrapper.focus()},_focusinHandler:function(){this._inputWrapper.addClass(it),this._prevent=!1},_focusoutHandler:function(){var n=this,t=window.self!==window.top;n._prevent||(clearTimeout(n._typingTimeout),s.mobileOS.ios&&t?n._change():n._blur(),n._inputWrapper.removeClass(it),n._prevent=!0,n._open=!1,n.element.blur())},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(n){n.preventDefault(),this.popup.unbind("activate",this._focusInputHandler),this._focused=this.wrapper,this._prevent=!1,this._toggle()},_editable:function(n){var t=this,l=t.element,e=n.disable,s=n.readonly,f=t.wrapper.add(t.filterInput).off(i),o=t._inputWrapper.off(a);s||e?e?(f.removeAttr(h),o.addClass(c).removeClass(b)):o.addClass(b).removeClass(c):(l.removeAttr(g).removeAttr(tt),o.addClass(b).removeClass(c).on(a,t._toggleHover),f.attr(h,f.data(h)).attr(d,!1).on("keydown"+i,t,u(t._keydown,t)).on(r.support.mousedown+i,u(t._wrapperMousedown,t)).on("paste"+i,u(t._filterPaste,t)),t.wrapper.on("click"+i,u(t._wrapperClick,t)),t.filterInput?f.on("input"+i,u(t._search,t)):f.on("keypress"+i,u(t._keypress,t))),l.attr(g,e).attr(tt,s),f.attr(d,e)},_keydown:function(n){var o,u,s,i=this,r=n.keyCode,h=n.altKey,e=i.popup.visible();if(i.filterInput&&(o=i.filterInput[0]===k()),r===f.LEFT?(r=f.UP,u=!0):r===f.RIGHT&&(r=f.DOWN,u=!0),!u||!o){if(n.keyCode=r,(h&&r===f.UP||r===f.ESC)&&i._focusElement(i.wrapper),i._state===v&&r===f.ESC&&(i._clearFilter(),i._open=!1,i._state=y),r===f.ENTER&&i._typingTimeout&&i.filterInput&&e)return n.preventDefault(),t;if(r!==f.SPACEBAR||o||(i.toggle(!e),n.preventDefault()),u=i._move(n),!u){if((!e||!i.filterInput)&&(s=i._focus(),r===f.HOME?(u=!0,i._firstItem()):r===f.END&&(u=!0,i._lastItem()),u)){if(i.trigger("select",{dataItem:i._getElementDataItem(i._focus()),item:i._focus()}))return i._focus(s),t;i._select(i._focus(),!0).done(function(){e||i._blur()}),n.preventDefault()}h||u||!i.filterInput||i._search()}}},_matchText:function(n,i){var r=this.options.ignoreCase;return n!==t&&null!==n&&(n+="",r&&(n=n.toLowerCase()),0===n.indexOf(i))},_shuffleData:function(n,t){var i=this._optionLabelDataItem();return i&&(n=[i].concat(n)),n.slice(t).concat(n.slice(0,t))},_selectNext:function(){var e,f,r,n=this,t=n.dataSource.flatView(),u=t.length+(n.hasOptionLabel()?1:0),o=et(n._word,n._last),i=n.selectedIndex;for(i===-1?i=0:(i+=o?1:0,i=nt(i,u)),t=t.toJSON?t.toJSON():t.slice(),t=n._shuffleData(t,i),r=0;r<u&&(f=n._text(t[r]),!o||!n._matchText(f,n._last))&&!n._matchText(f,n._word);r++);r!==u&&(e=n._focus(),n._select(nt(i+r,u)).done(function(){var t=function(){n.popup.visible()||n._change()};n.trigger("select",{dataItem:n._getElementDataItem(n._focus()),item:n._focus()})?n._select(e).done(t):t()}))},_keypress:function(n){var t,i=this;0!==n.which&&n.keyCode!==r.keys.ENTER&&(t=String.fromCharCode(n.charCode||n.keyCode),i.options.ignoreCase&&(t=t.toLowerCase())," "===t&&n.preventDefault(),i._word+=t,i._last=t,i._search())},_popupOpen:function(){var n=this.popup;n.wrapper=r.wrap(n.element),n.element.closest(".km-root")[0]&&(n.wrapper.addClass("km-popup km-widget"),this.wrapper.addClass("km-widget"))},_popup:function(){e.fn._popup.call(this),this.popup.one("open",u(this._popupOpen,this))},_getElementDataItem:function(n){return n&&n[0]?n[0]===this.optionLabel[0]?this._optionLabelDataItem():this.listView.dataItemByIndex(this.listView.getElementIndex(n)):null},_click:function(i){var r=this,u=i.item||n(i.currentTarget);return i.preventDefault(),r.trigger("select",{dataItem:r._getElementDataItem(u),item:u})?(r.close(),t):(r._userTriggered=!0,r._select(u).done(function(){r._blur(),r._focusElement(r.wrapper)}),t)},_focusElement:function(n){var u=k(),f=this.wrapper,t=this.filterInput,r=n===t?f:t,i=s.mobileOS&&(s.touch||s.MSPointers||s.pointers);t&&t[0]===n[0]&&i||t&&(r[0]===u||this._focusFilter)&&(this._focusFilter=!1,this._prevent=!0,this._focused=n.focus())},_searchByWord:function(n){var t,i;n&&(t=this,i=t.options.ignoreCase,i&&(n=n.toLowerCase()),t._select(function(i){return t._matchText(t._text(i),n)}))},_inputValue:function(){return this.text()},_search:function(){var n=this,i=n.dataSource;if(clearTimeout(n._typingTimeout),n._isFilterEnabled())n._typingTimeout=setTimeout(function(){var t=n.filterInput.val();n._prev!==t&&(n._prev=t,n.search(t),n._resizeFilterInput()),n._typingTimeout=null},n.options.delay);else{if(n._typingTimeout=setTimeout(function(){n._word=""},n.options.delay),!n.listView.bound())return i.fetch().done(function(){n._selectNext()}),t;n._selectNext()}},_get:function(t){var r,f,i,u="function"==typeof t,e=u?n():n(t);if(this.hasOptionLabel()&&("number"==typeof t?t>-1&&(t-=1):e.hasClass("k-list-optionlabel")&&(t=-1)),u){for(r=this.dataSource.flatView(),i=0;i<r.length;i++)if(t(r[i])){t=i,f=!0;break}f||(t=-1)}return t},_firstItem:function(){this.hasOptionLabel()?this._focus(this.optionLabel):this.listView.focusFirst()},_lastItem:function(){this._resetOptionLabel(),this.listView.focusLast()},_nextItem:function(){var n;return this.optionLabel.hasClass("k-state-focused")?(this._resetOptionLabel(),this.listView.focusFirst(),n=1):n=this.listView.focusNext(),n},_prevItem:function(){var n;if(!this.optionLabel.hasClass("k-state-focused"))return n=this.listView.focusPrev(),this.listView.focus()||this.options.virtual||this._focus(this.optionLabel),n},_focusItem:function(){var i=this.options,r=this.listView,u=r.focus(),n=r.select();n=n[n.length-1],n===t&&i.highlightFirst&&!u&&(n=0),n!==t?r.focus(n):!i.optionLabel||i.virtual&&"dataItem"===i.virtual.mapValueTo?r.scrollToIndex(0):(this._focus(this.optionLabel),this._select(this.optionLabel),this.listView.content.scrollTop(0))},_resetOptionLabel:function(n){this.optionLabel.removeClass("k-state-focused"+(n||"")).removeAttr("id")},_focus:function(n){var i=this.listView,r=this.optionLabel;return n===t?(n=i.focus(),!n&&r.hasClass("k-state-focused")&&(n=r),n):(this._resetOptionLabel(),n=this._get(n),i.focus(n),n===-1&&(r.addClass("k-state-focused").attr("id",i._optionID),this._focused.add(this.filterInput).removeAttr("aria-activedescendant").attr("aria-activedescendant",i._optionID)),t)},_select:function(n,t){var i=this;return n=i._get(n),i.listView.select(n).done(function(){t||i._state!==v||(i._state=y),n===-1&&i._selectValue(null)})},_selectValue:function(n){var i=this,f=i.options.optionLabel,r=i.listView.select(),u="",e="";r=r[r.length-1],r===t&&(r=-1),this._resetOptionLabel(" k-state-selected"),n||0===n?(e=n,u=i._dataValue(n),f&&(r+=1)):f&&(i._focus(i.optionLabel.addClass("k-state-selected")),e=i._optionLabelText(),u="string"==typeof f?"":i._value(f),r=0),i.selectedIndex=r,null===u&&(u=""),i._textAccessor(e),i._accessor(u,r),i._triggerCascade()},_mobile:function(){var r=this,t=r.popup,n=s.mobileOS,i=t.element.parents(".km-root").eq(0);i.length&&n&&(t.options.animation.open.effects=n.android||n.meego?"fadeIn":n.ios||n.wp?"slideIn:up":t.options.animation.open.effects)},_filterHeader:function(){var t;this.filterInput&&(this.filterInput.off(i).parent().remove(),this.filterInput=null),this._isFilterEnabled()&&(t='<span class="k-icon k-i-zoom"></span>',this.filterInput=n('<input class="k-textbox"/>').attr({placeholder:this.element.attr("placeholder"),title:this.element.attr("title"),role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),this.list.prepend(n('<span class="k-list-filter" />').append(this.filterInput.add(t))))},_span:function(){var r,t=this,i=t.wrapper,u="span.k-input";r=i.find(u),r[0]||(i.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(t.element),r=i.find(u)),t.span=r,t._inputWrapper=n(i[0].firstChild),t._arrow=i.find(".k-select"),t._arrowIcon=t._arrow.find(".k-icon")},_wrapper:function(){var n,r=this,t=r.element,i=t[0];n=t.parent(),n.is("span.k-widget")||(n=t.wrap("<span />").parent(),n[0].style.cssText=i.style.cssText,n[0].title=i.title),r._focused=r.wrapper=n.addClass("k-widget k-dropdown").addClass(i.className).removeClass("input-validation-error").css("display","").attr({accesskey:t.attr("accesskey"),unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),t.hide().removeAttr("accesskey")},_clearSelection:function(n){this.select(n.value()?0:-1)},_inputTemplate:function(){var t=this,i=t.options.valueTemplate;if(i=i?r.template(i):n.proxy(r.template("#:this._text(data)#",{useWithBlock:!1}),t),t.valueTemplate=i,t.hasOptionLabel()&&!t.options.optionLabelTemplate)try{t.valueTemplate(t._optionLabelDataItem())}catch(u){throw Error(ft);}},_textAccessor:function(i){var e,r=null,o=this.valueTemplate,u=this._optionLabelText(),f=this.span;if(i===t)return f.text();n.isPlainObject(i)||i instanceof p?r=i:u&&u===i&&(r=this.options.optionLabel),r||(r=this._assignInstance(i,this._accessor())),this.hasOptionLabel()&&(r!==u&&this._text(r)!==u||(o=this.optionLabelTemplate,"string"!=typeof this.options.optionLabel||this.options.optionLabelTemplate||(r=u))),e=function(){return{elements:f.get(),data:[{dataItem:r}]}},this.angular("cleanup",e);try{f.html(o(r))}catch(s){f.html("")}this.angular("compile",e)},_preselect:function(n,t){n||t||(t=this._optionLabelText()),this._accessor(n),this._textAccessor(t),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(n),this._initialIndex=null,this._presetValue=!0},_assignInstance:function(n,t){var r=this.options.dataTextField,i={};return r?(rt(i,r.split("."),n),rt(i,this.options.dataValueField.split("."),t),i=new p(i)):i=n,i}});w.plugin(ut)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.binder.min",["kendo.core.min","kendo.data.min"],n)}(function(){return function(n,t){function w(t,u,f){return r.extend({init:function(n,t,i){var u=this;r.fn.init.call(u,n.element[0],t,i),u.widget=n,u._dataBinding=c(u.dataBinding,u),u._dataBound=c(u.dataBound,u),u._itemChange=c(u.itemChange,u)},itemChange:function(n){a(n.item[0],n.data,this._ns(n.ns),[n.data].concat(this.bindings[t]._parents()))},dataBinding:function(n){for(var u=this.widget,i=n.removedItems||u.items(),t=0,r=i.length;t<r;t++)b(i[t],!1)},_ns:function(t){t=t||i.ui;var r=[i.ui,i.dataviz.ui,i.mobile.ui];return r.splice(n.inArray(t,r),1),r.unshift(t),i.rolesFromNamespaces(r)},dataBound:function(n){var r,h,f,c,l=this.widget,e=n.addedItems||l.items(),s=l[u],o=i.data.HierarchicalDataSource;if(!(o&&s instanceof o)&&e.length)for(f=n.addedDataItems||s.flatView(),c=this.bindings[t]._parents(),r=0,h=f.length;r<h;r++)e[r]&&a(e[r],f[r],this._ns(n.ns),[f[r]].concat(c))},refresh:function(n){var e,h,s,c,o=this,r=o.widget;n=n||{},n.action||(o.destroy(),r.bind("dataBinding",o._dataBinding),r.bind("dataBound",o._dataBound),r.bind("itemChange",o._itemChange),e=o.bindings[t].get(),r[u]instanceof i.data.DataSource&&r[u]!=e&&(e instanceof i.data.DataSource?r[f](e):e&&e._dataSource?r[f](e._dataSource):(h=i.ui.Select&&r instanceof i.ui.Select,s=i.ui.MultiSelect&&r instanceof i.ui.MultiSelect,c=i.ui.DropDownTree&&r instanceof i.ui.DropDownTree,c?r.treeview[u].data(e):r[u].data(e),o.bindings.value&&(h||s)&&r.value(st(o.bindings.value.get(),r.options.dataValueField)))))},destroy:function(){var n=this.widget;n.unbind("dataBinding",this._dataBinding),n.unbind("dataBound",this._dataBound),n.unbind("itemChange",this._itemChange)}})}function pt(n,t){var r=i.initWidget(n,{},t);if(r)return new k(r)}function lt(n){var r,o,i,f,s,t,u,e={};for(u=n.match(it),r=0,o=u.length;r<o;r++)i=u[r],f=i.indexOf(":"),s=i.substring(0,f),t=i.substring(f+1),"{"==t.charAt(0)&&(t=lt(t)),e[s]=t;return e}function p(n,t,i){var r,u={};for(r in n)u[r]=new i(t,n[r]);return u}function a(n,t,r,f){var b,s,e,v,w,o,l,c,y;if(n&&!n.getAttribute("data-"+i.ns+"stop")&&(b=n.getAttribute("data-"+i.ns+"role"),e=n.getAttribute("data-"+i.ns+"bind"),v=[],w=!0,l={},f=f||[t],(b||e)&&nt(n,!1),b&&(c=pt(n,r)),e&&(e=lt(e.replace(vt,"")),c||(l=i.parseOptions(n,{textField:"",valueField:"",template:"",valueUpdate:u,valuePrimitive:!1,autoBind:!0},t),l.roles=r,c=new g(n,l)),c.source=t,o=p(e,f,h),l.template&&(o.template=new ct(f,"",l.template)),o.click&&(e.events=e.events||{},e.events.click=e.click,o.click.destroy(),delete o.click),o.source&&(w=!1),e.attr&&(o.attr=p(e.attr,f,h)),e.style&&(o.style=p(e.style,f,h)),e.events&&(o.events=p(e.events,f,ht)),e.css&&(o.css=p(e.css,f,h)),c.bind(o)),c&&(n.kendoBindingTarget=c),y=n.children,w&&y&&!n.getAttribute("data-"+i.ns+"stop"))){for(s=0;s<y.length;s++)v[s]=y[s];for(s=0;s<v.length;s++)a(v[s],t,r,f)}}function ot(t,r){var u,e,f,o=i.rolesFromNamespaces([].slice.call(arguments,2));for(r=i.observable(r),t=n(t),u=0,e=t.length;u<e;u++)f=t[u],1===f.nodeType&&a(f,r,o)}function nt(t,r){var u,f=t.kendoBindingTarget;f&&(f.destroy(),tt?delete t.kendoBindingTarget:t.removeAttribute?t.removeAttribute("kendoBindingTarget"):t.kendoBindingTarget=null),r&&(u=i.widgetInstance(n(t)),u&&typeof u.destroy===wt&&u.destroy())}function b(n,t){nt(n,t),yt(n,t)}function yt(n,t){var i,u,r=n.children;if(r)for(i=0,u=r.length;i<u;i++)b(r[i],t)}function bt(t){var i,r;for(t=n(t),i=0,r=t.length;i<r;i++)b(t[i],!1)}function kt(n,t){var r=n.element,i=r[0].kendoBindingTarget;i&&ot(r,i.source,t)}function st(n,t){var u,i,f=[],r=0;if(!t)return n;if(n instanceof e){for(u=n.length;r<u;r++)i=n[r],f[r]=i.get?i.get(t):i[t];n=f}else n instanceof o&&(n=n.get(t));return n}var h,ht,ct,r,v,y,g,k,it,vt,i=window.kendo,d=i.Observable,o=i.data.ObservableObject,e=i.data.ObservableArray,at={}.toString,f={},rt=i.Class,c=n.proxy,s="value",ut="source",ft="events",l="checked",et="css",tt=!0,wt="function",u="change";!function(){var n=document.createElement("a");try{delete n.test}catch(t){tt=!1}}(),h=d.extend({init:function(n,t){var i=this;d.fn.init.call(i),i.source=n[0],i.parents=n,i.path=t,i.dependencies={},i.dependencies[t]=!0,i.observable=i.source instanceof d,i._access=function(n){i.dependencies[n.field]=!0},i.observable&&(i._change=function(n){i.change(n)},i.source.bind(u,i._change))},_parents:function(){var r,t=this.parents,i=this.get();return i&&"function"==typeof i.parent&&(r=i.parent(),n.inArray(r,t)<0&&(t=[r].concat(t))),t},change:function(n){var r,i,f=n.field,t=this;if("this"===t.path)t.trigger(u,n);else for(r in t.dependencies)if(0===r.indexOf(f)&&(i=r.charAt(f.length),!i||"."===i||"["===i)){t.trigger(u,n);break}},start:function(n){n.bind("get",this._access)},stop:function(n){n.unbind("get",this._access)},get:function(){var i=this,n=i.source,e=0,f=i.path,r=n;if(!i.observable)return r;for(i.start(i.source),r=n.get(f);r===t&&n;)n=i.parents[++e],n instanceof o&&(r=n.get(f));if(r===t)for(n=i.source;r===t&&n;)n=n.parent(),n instanceof o&&(r=n.get(f));return"function"==typeof r&&(e=f.lastIndexOf("."),e>0&&(n=n.get(f.substring(0,e))),i.start(n),r=n!==i.source?r.call(n,i.source):r.call(n),i.stop(n)),n&&n!==i.source&&(i.currentSource=n,n.unbind(u,i._change).bind(u,i._change)),i.stop(i.source),r},set:function(n){var t=this.currentSource||this.source,r=i.getter(this.path)(t);"function"==typeof r?t!==this.source?r.call(t,this.source,n):r.call(t,n):t.set(this.path,n)},destroy:function(){this.observable&&(this.source.unbind(u,this._change),this.currentSource&&this.currentSource.unbind(u,this._change)),this.unbind()}}),ht=h.extend({get:function(){for(var n=this.source,i=this.path,r=0,t=n.get(i);!t&&n;)n=this.parents[++r],n instanceof o&&(t=n.get(i));return c(t,n)}}),ct=h.extend({init:function(n,t,i){var r=this;h.fn.init.call(r,n,t),r.template=i},render:function(n){var t;return this.start(this.source),t=i.render(this.template,n),this.stop(this.source),t}}),r=rt.extend({init:function(n,t,i){this.element=n,this.bindings=t,this.options=i},bind:function(n,t){var i=this;n=t?n[t]:n,n.bind(u,function(n){i.refresh(t||n)}),i.refresh(t)},destroy:function(){}}),v=r.extend({dataType:function(){var n=this.element.getAttribute("data-type")||this.element.type||"text";return n.toLowerCase()},parsedValue:function(){return this._parseValue(this.element.value,this.dataType())},_parseValue:function(n,t){return"date"==t?n=i.parseDate(n,"yyyy-MM-dd"):"datetime-local"==t?n=i.parseDate(n,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"]):"number"==t?n=i.parseFloat(n):"boolean"==t&&(n=n.toLowerCase(),n=null!==i.parseFloat(n)?!!i.parseFloat(n):"true"===n.toLowerCase()),n}}),f.attr=r.extend({refresh:function(n){this.element.setAttribute(n,this.bindings.attr[n].get())}}),f.css=r.extend({init:function(n,t,i){r.fn.init.call(this,n,t,i),this.classes={}},refresh:function(t){var i=n(this.element),u=this.bindings.css[t],r=this.classes[t]=u.get();r?i.addClass(t):i.removeClass(t)}}),f.style=r.extend({refresh:function(n){this.element.style[n]=this.bindings.style[n].get()||""}}),f.enabled=r.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}}),f.readonly=r.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly")}}),f.disabled=r.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}}),f.events=r.extend({init:function(n,t,i){r.fn.init.call(this,n,t,i),this.handlers={}},refresh:function(t){var r=n(this.element),u=this.bindings.events[t],i=this.handlers[t];i&&r.off(t,i),i=this.handlers[t]=u.get(),r.on(t,u.source,i)},destroy:function(){var t,i=n(this.element);for(t in this.handlers)i.off(t,this.handlers[t])}}),f.text=r.extend({refresh:function(){var t=this.bindings.text.get(),r=this.element.getAttribute("data-format")||"";null==t&&(t=""),n(this.element).text(i.toString(t,r))}}),f.visible=r.extend({refresh:function(){this.element.style.display=this.bindings.visible.get()?"":"none"}}),f.invisible=r.extend({refresh:function(){this.element.style.display=this.bindings.invisible.get()?"none":""}}),f.html=r.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),f.value=v.extend({init:function(t,i,r){v.fn.init.call(this,t,i,r),this._change=c(this.change,this),this.eventName=r.valueUpdate||u,n(this.element).on(this.eventName,this._change),this._initChange=!1},change:function(){this._initChange=this.eventName!=u,this.bindings[s].set(this.parsedValue()),this._initChange=!1},refresh:function(){var n,t;this._initChange||(n=this.bindings[s].get(),null==n&&(n=""),t=this.dataType(),"date"==t?n=i.toString(n,"yyyy-MM-dd"):"datetime-local"==t&&(n=i.toString(n,"yyyy-MM-ddTHH:mm:ss")),this.element.value=n),this._initChange=!1},destroy:function(){n(this.element).off(this.eventName,this._change)}}),f.source=r.extend({init:function(n,t,u){r.fn.init.call(this,n,t,u);var f=this.bindings.source.get();f instanceof i.data.DataSource&&u.autoBind!==!1&&f.fetch()},refresh:function(n){var t=this,r=t.bindings.source.get();r instanceof e||r instanceof i.data.DataSource?(n=n||{},"add"==n.action?t.add(n.index,n.items):"remove"==n.action?t.remove(n.index,n.items):"itemchange"!=n.action&&t.render()):t.render()},container:function(){var n=this.element;return"table"==n.nodeName.toLowerCase()&&(n.tBodies[0]||n.appendChild(document.createElement("tbody")),n=n.tBodies[0]),n},template:function(){var n=this.options,t=n.template,r=this.container().nodeName.toLowerCase();return t||(t="select"==r?n.valueField||n.textField?i.format('<option value="#:{0}#">#:{1}#</option>',n.valueField||n.textField,n.textField||n.valueField):"<option>#:data#</option>":"tbody"==r?"<tr><td>#:data#</td></tr>":"ul"==r||"ol"==r?"<li>#:data#</li>":"#:data#",t=i.template(t)),t},add:function(t,r){var s,u,h,f,e=this.container(),o=e.cloneNode(!1),c=e.children[t];if(n(o).html(i.render(this.template(),r)),o.children.length)for(s=this.bindings.source._parents(),u=0,h=r.length;u<h;u++)f=o.children[0],e.insertBefore(f,c||null),a(f,r[u],this.options.roles,[r[u]].concat(s))},remove:function(n,t){for(var i,r=this.container(),u=0;u<t.length;u++)i=r.children[n],b(i,!0),i.parentNode==r&&r.removeChild(i)},render:function(){var f,r,o,t=this.bindings.source.get(),u=this.container(),s=this.template();if(null!=t)if(t instanceof i.data.DataSource&&(t=t.view()),t instanceof e||"[object Array]"===at.call(t)||(t=[t]),this.bindings.template){if(yt(u,!0),n(u).html(this.bindings.template.render(t)),u.children.length)for(f=this.bindings.source._parents(),r=0,o=t.length;r<o;r++)a(u.children[r],t[r],this.options.roles,[t[r]].concat(f))}else n(u).html(i.render(s,t))}}),f.input={checked:v.extend({init:function(t,i,r){v.fn.init.call(this,t,i,r),this._change=c(this.change,this),n(this.element).change(this._change)},change:function(){var t,r,i,u=this.element,n=this.value();if("radio"==u.type)n=this.parsedValue(),this.bindings[l].set(n);else if("checkbox"==u.type)if(t=this.bindings[l].get(),t instanceof e){if(n=this.parsedValue(),n instanceof Date){for(i=0;i<t.length;i++)if(t[i]instanceof Date&&+t[i]==+n){r=i;break}}else r=t.indexOf(n);r>-1?t.splice(r,1):t.push(n)}else this.bindings[l].set(n)},refresh:function(){var o,f,n=this.bindings[l].get(),r=n,s=this.dataType(),u=this.element;if("checkbox"==u.type)if(r instanceof e){if(o=-1,n=this.parsedValue(),n instanceof Date){for(f=0;f<r.length;f++)if(r[f]instanceof Date&&+r[f]==+n){o=f;break}}else o=r.indexOf(n);u.checked=o>=0}else u.checked=r;else"radio"==u.type&&("date"==s?n=i.toString(n,"yyyy-MM-dd"):"datetime-local"==s&&(n=i.toString(n,"yyyy-MM-ddTHH:mm:ss")),u.checked=null!==n&&t!==n&&u.value===""+n)},value:function(){var n=this.element,t=n.value;return"checkbox"==n.type&&(t=n.checked),t},destroy:function(){n(this.element).off(u,this._change)}})},f.select={source:f.source.extend({refresh:function(r){var f,u=this,o=u.bindings.source.get();o instanceof e||o instanceof i.data.DataSource?(r=r||{},"add"==r.action?u.add(r.index,r.items):"remove"==r.action?u.remove(r.index,r.items):"itemchange"!=r.action&&r.action!==t||(u.render(),u.bindings.value&&u.bindings.value&&(f=st(u.bindings.value.get(),n(u.element).data("valueField")),null===f?u.element.selectedIndex=-1:u.element.value=f))):u.render()}}),value:v.extend({init:function(t,i,r){v.fn.init.call(this,t,i,r),this._change=c(this.change,this),n(this.element).change(this._change)},parsedValue:function(){for(var t,n,f=this.dataType(),r=[],i=0,u=this.element.options.length;i<u;i++)n=this.element.options[i],n.selected&&(t=n.attributes.value,t=t&&t.specified?n.value:n.text,r.push(this._parseValue(t,f)));return r},change:function(){for(var f,h,l,n,y,w,u=[],v=this.element,c=this.options.valueField||this.options.textField,p=this.options.valuePrimitive,r=0,a=v.options.length;r<a;r++)h=v.options[r],h.selected&&(n=h.attributes.value,n=n&&n.specified?h.value:h.text,u.push(c?n:this._parseValue(n,this.dataType())));if(c)for(f=this.bindings.source.get(),f instanceof i.data.DataSource&&(f=f.view()),l=0;l<u.length;l++)for(r=0,a=f.length;r<a;r++)if(y=f[r].get(c),w=y+""===u[l]){u[l]=f[r];break}n=this.bindings[s].get(),n instanceof e?n.splice.apply(n,[0,n.length].concat(u)):this.bindings[s].set(p||!(n instanceof o||null===n||n===t)&&c?u[0].get(c):u[0])},refresh:function(){var t,h,r,a=this.element,f=a.options,n=this.bindings[s].get(),u=n,l=this.options.valueField||this.options.textField,v=!1,c=this.dataType();for(u instanceof e||(u=new e([n])),a.selectedIndex=-1,r=0;r<u.length;r++)for(n=u[r],l&&n instanceof o&&(n=n.get(l)),"date"==c?n=i.toString(u[r],"yyyy-MM-dd"):"datetime-local"==c&&(n=i.toString(u[r],"yyyy-MM-ddTHH:mm:ss")),t=0;t<f.length;t++)h=f[t].value,""===h&&""!==n&&(h=f[t].text),null!=n&&h==""+n&&(f[t].selected=!0,v=!0)},destroy:function(){n(this.element).off(u,this._change)}})},f.widget={events:r.extend({init:function(n,t,i){r.fn.init.call(this,n.element[0],t,i),this.widget=n,this.handlers={}},refresh:function(n){var i=this.bindings.events[n],t=this.handlers[n];t&&this.widget.unbind(n,t),t=i.get(),this.handlers[n]=function(n){n.data=i.source,t(n),n.data===i.source&&delete n.data},this.widget.bind(n,this.handlers[n])},destroy:function(){var n;for(n in this.handlers)this.widget.unbind(n,this.handlers[n])}}),checked:r.extend({init:function(n,t,i){r.fn.init.call(this,n.element[0],t,i),this.widget=n,this._change=c(this.change,this),this.widget.bind(u,this._change)},change:function(){this.bindings[l].set(this.value())},refresh:function(){this.widget.check(this.bindings[l].get()===!0)},value:function(){var t=this.element,n=t.value;return"on"!=n&&"off"!=n&&"checkbox"!=this.element.type||(n=t.checked),n},destroy:function(){this.widget.unbind(u,this._change)}}),start:r.extend({init:function(n,t,i){r.fn.init.call(this,n.element[0],t,i),this._change=c(this.change,this),this.widget=n,this.widget.bind(u,this._change)},change:function(){this.bindings.start.set(this.widget.range().start)},refresh:function(){var n=this,i=this.bindings.start.get(),t=n.widget._range?n.widget._range.end:null;this.widget.range({start:i,end:t})},destroy:function(){this.widget.unbind(u,this._change)}}),end:r.extend({init:function(n,t,i){r.fn.init.call(this,n.element[0],t,i),this._change=c(this.change,this),this.widget=n,this.widget.bind(u,this._change)},change:function(){this.bindings.end.set(this.widget.range().end)},refresh:function(){var n=this,i=this.bindings.end.get(),t=n.widget._range?n.widget._range.start:null;this.widget.range({start:t,end:i})},destroy:function(){this.widget.unbind(u,this._change)}}),visible:r.extend({init:function(n,t,i){r.fn.init.call(this,n.element[0],t,i),this.widget=n},refresh:function(){var n=this.bindings.visible.get();this.widget.wrapper[0].style.display=n?"":"none"}}),invisible:r.extend({init:function(n,t,i){r.fn.init.call(this,n.element[0],t,i),this.widget=n},refresh:function(){var n=this.bindings.invisible.get();this.widget.wrapper[0].style.display=n?"none":""}}),enabled:r.extend({init:function(n,t,i){r.fn.init.call(this,n.element[0],t,i),this.widget=n},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:r.extend({init:function(n,t,i){r.fn.init.call(this,n.element[0],t,i),this.widget=n},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:w("source","dataSource","setDataSource"),value:r.extend({init:function(t,i,f){r.fn.init.call(this,t.element[0],i,f),this.widget=t,this._change=n.proxy(this.change,this),this.widget.first(u,this._change);var s=this.bindings.value.get();this._valueIsObservableObject=!f.valuePrimitive&&(null==s||s instanceof o),this._valueIsObservableArray=s instanceof e,this._initChange=!1},_source:function(){var n;return this.widget.dataItem&&(n=this.widget.dataItem(),n&&n instanceof o)?[n]:(this.bindings.source&&(n=this.bindings.source.get()),(!n||n instanceof i.data.DataSource)&&(n=this.widget.dataSource.flatView()),n)},change:function(){var i,c,r,f,e,h,s,n=this.widget.value(),u=this.options.dataValueField||this.options.dataTextField,l="[object Array]"===at.call(n),o=this._valueIsObservableObject,t=[];if(this._initChange=!0,u)if(""===n&&(o||this.options.valuePrimitive))n=null;else{for(s=this._source(),l&&(c=n.length,t=n.slice(0)),e=0,h=s.length;e<h;e++)if(r=s[e],f=r.get(u),l){for(i=0;i<c;i++)if(f==t[i]){t[i]=r;break}}else if(f==n){n=o?r:f;break}t[0]&&(n=this._valueIsObservableArray?t:o||!u?t[0]:t[0].get(u))}this.bindings.value.set(n),this._initChange=!1},refresh:function(){var i,r,h,s,n,u,f,l,c;if(!this._initChange){if(i=this.widget,r=i.options,h=r.dataTextField,s=r.dataValueField||h,n=this.bindings.value.get(),u=r.text||"",f=0,c=[],n===t&&(n=null),s)if(n instanceof e){for(l=n.length;f<l;f++)c[f]=n[f].get(s);n=c}else n instanceof o&&(u=n.get(h),n=n.get(s));r.autoBind!==!1||r.cascadeFrom||!i.listView||i.listView.bound()?i.value(n):(h!==s||u||(u=n),u||!n&&0!==n||!r.valuePrimitive?i._preselect(n,u):i.value(n))}this._initChange=!1},destroy:function(){this.widget.unbind(u,this._change)}}),dropdowntree:{value:r.extend({init:function(t,i,f){r.fn.init.call(this,t.element[0],i,f),this.widget=t,this._change=n.proxy(this.change,this),this.widget.first(u,this._change),this._initChange=!1},change:function(){var c,a,h,f,u,l,b,o,v,i=this,r=i.bindings[s].get(),w=i.options.valuePrimitive,k=i.widget.treeview.select(),d=i.widget._isMultipleSelection()?i.widget._getAllChecked():i.widget.treeview.dataItem(k)||i.widget.value(),n=w||i.widget.options.autoBind===!1?i.widget.value():d,p=this.options.dataValueField||this.options.dataTextField;if(n=n.slice?n.slice(0):n,i._initChange=!0,r instanceof e){for(c=[],a=n.length,h=0,f=0,u=r[h],l=!1;u!==t;){for(v=!1,f=0;f<a;f++)if(w?l=n[f]==u:(o=n[f],o=o.get?o.get(p):o,l=o==(u.get?u.get(p):u)),l){n.splice(f,1),a-=1,v=!0;break}v?h+=1:(c.push(u),y(r,h,1),b=h),u=r[h]}y(r,r.length,0,n),c.length&&r.trigger("change",{action:"remove",items:c,index:b}),n.length&&r.trigger("change",{action:"add",items:n,index:r.length-1})}else i.bindings[s].set(n);i._initChange=!1},refresh:function(){if(!this._initChange){var h,r,i=this.options,s=this.widget,u=i.dataValueField||i.dataTextField,n=this.bindings.value.get(),c=n,t=0,f=[];if(u)if(n instanceof e){for(h=n.length;t<h;t++)r=n[t],f[t]=r.get?r.get(u):r;n=f}else n instanceof o&&(n=n.get(u));i.autoBind===!1&&i.valuePrimitive!==!0?s._preselect(c,n):s.value(n)}},destroy:function(){this.widget.unbind(u,this._change)}})},gantt:{dependencies:w("dependencies","dependencies","setDependenciesDataSource")},multiselect:{value:r.extend({init:function(t,i,f){r.fn.init.call(this,t.element[0],i,f),this.widget=t,this._change=n.proxy(this.change,this),this.widget.first(u,this._change),this._initChange=!1},change:function(){var c,a,h,f,r,l,w,o,v,u=this,i=u.bindings[s].get(),b=u.options.valuePrimitive,n=b?u.widget.value():u.widget.dataItems(),p=this.options.dataValueField||this.options.dataTextField;if(n=n.slice(0),u._initChange=!0,i instanceof e){for(c=[],a=n.length,h=0,f=0,r=i[h],l=!1;r!==t;){for(v=!1,f=0;f<a;f++)if(b?l=n[f]==r:(o=n[f],o=o.get?o.get(p):o,l=o==(r.get?r.get(p):r)),l){n.splice(f,1),a-=1,v=!0;break}v?h+=1:(c.push(r),y(i,h,1),w=h),r=i[h]}y(i,i.length,0,n),c.length&&i.trigger("change",{action:"remove",items:c,index:w}),n.length&&i.trigger("change",{action:"add",items:n,index:i.length-1})}else u.bindings[s].set(n);u._initChange=!1},refresh:function(){if(!this._initChange){var c,u,r=this.options,s=this.widget,f=r.dataValueField||r.dataTextField,n=this.bindings.value.get(),l=n,i=0,h=[];if(n===t&&(n=null),f)if(n instanceof e){for(c=n.length;i<c;i++)u=n[i],h[i]=u.get?u.get(f):u;n=h}else n instanceof o&&(n=n.get(f));r.autoBind!==!1||r.valuePrimitive===!0||s._isBound()?s.value(n):s._preselect(l,n)}},destroy:function(){this.widget.unbind(u,this._change)}})},scheduler:{source:w("source","dataSource","setDataSource").extend({dataBound:function(n){var t,f,i,e,r=this.widget,u=n.addedItems||r.items();if(u.length)for(i=n.addedDataItems||r.dataItems(),e=this.bindings.source._parents(),t=0,f=i.length;t<f;t++)a(u[t],i[t],this._ns(n.ns),[i[t]].concat(e))}})},grid:{source:w("source","dataSource","setDataSource").extend({dataBound:function(n){var t,f,e,i,u=this.widget,r=n.addedItems||u.items();if(r.length)for(i=n.addedDataItems||u.dataItems(),e=this.bindings.source._parents(),t=0,f=i.length;t<f;t++)a(r[t],i[t],this._ns(n.ns),[i[t]].concat(e))}})}},y=function(n,t,i,r){var e,s,o,u,f;if(r=r||[],i=i||0,e=r.length,s=n.length,o=[].slice.call(n,t+i),u=o.length,e){for(e=t+e,f=0;t<e;t++)n[t]=r[f],f++;n.length=e}else if(i)for(n.length=t,i+=t;t<i;)delete n[--i];if(u){for(u=t+u,f=0;t<u;t++)n[t]=o[f],f++;n.length=u}for(t=n.length;t<s;)delete n[t],t++},g=rt.extend({init:function(n,t){this.target=n,this.options=t,this.toDestroy=[]},bind:function(n){var t,o,e,f,h,u,r=this instanceof k,i=this.binders();for(t in n)t==s?o=!0:t==ut?e=!0:t!=ft||r?t==l?h=!0:t==et?u=!0:this.applyBinding(t,n,i):f=!0;e&&this.applyBinding(ut,n,i),o&&this.applyBinding(s,n,i),h&&this.applyBinding(l,n,i),f&&!r&&this.applyBinding(ft,n,i),u&&!r&&this.applyBinding(et,n,i)},binders:function(){return f[this.target.nodeName.toLowerCase()]||{}},applyBinding:function(n,t,i){var e,r=i[n]||f[n],o=this.toDestroy,u=t[n];if(r)if(r=new r(this.target,t,this.options),o.push(r),u instanceof h)r.bind(u),o.push(u);else for(e in u)r.bind(u,e),o.push(u[e]);else if("template"!==n)throw Error("The "+n+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element");},destroy:function(){for(var t=this.toDestroy,n=0,i=t.length;n<i;n++)t[n].destroy()}}),k=g.extend({binders:function(){return f.widget[this.target.options.name.toLowerCase()]||{}},applyBinding:function(n,t,i){var e,r=i[n]||f.widget[n],o=this.toDestroy,u=t[n];if(!r)throw Error("The "+n+" binding is not supported by the "+this.target.options.name+" widget");if(r=new r(this.target,t,this.target.options),o.push(r),u instanceof h)r.bind(u),o.push(u);else for(e in u)r.bind(u,e),o.push(u[e])}}),it=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,vt=/\s/g,i.unbind=bt,i.bind=ot,i.data.binders=f,i.data.Binder=r,i.notify=kt,i.observable=function(n){return n instanceof o||(n=new o(n)),n},i.observableHierarchy=function(n){function r(n){for(var i,t=0;t<n.length;t++)n[t]._initChildren(),i=n[t].children,i.fetch(),n[t].items=i.data(),r(n[t].items)}var t=i.data.HierarchicalDataSource.create(n);return t.fetch(),r(t.data()),t._data._dataSource=t,t._data}}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.filtermenu.min",["kendo.datepicker.min","kendo.numerictextbox.min","kendo.dropdownlist.min","kendo.binder.min"],n)}(function(){return function(n,t){function g(t,i){t.filters&&(t.filters=n.grep(t.filters,function(n){return g(n,i),n.filters?n.filters.length:n.field!=i}))}function tt(n){var i,u,t,e,f,r;if(n&&n.length)for(r=[],i=0,u=n.length;i<u;i++)t=n[i],f=""!==t.text?t.text||t.value||t:t.text,e=null==t.value?t.text||t:t.value,r[i]={text:f,value:e};return r}function et(t,i){return n.grep(t,function(t){return t.filters?(t.filters=n.grep(t.filters,function(n){return n.field!=i}),t.filters.length):t.field!=i})}function it(t,i){t.filters&&(t.filters=n.grep(t.filters,function(n){return it(n,i),n.filters?n.filters.length:n.field==i&&"eq"==n.operator}))}function nt(i){return"and"==i.logic&&i.filters.length>1?[]:i.filters?n.map(i.filters,function(n){return nt(n)}):i.value!==t?[i.value]:[]}function b(n,r){for(var f,u,h=i.getter(r,!0),s=[],e=0,o={};e<n.length;)f=n[e++],u=h(f),u===t||o.hasOwnProperty(u)||(s.push(f),o[u]=!0);return s}function lt(n,t){return function(i){var r=n(i);return b(r,t)}}var i=window.kendo,l=i.ui,r=n.proxy,ut=i.support,u=ut.browser.chrome?"disabled":"off",c="kendoPopup",p="init",v="open",rt="refresh",e="change",f=".kendoFilterMenu",y="Is equal to",w="Is not equal to",yt={number:"numerictextbox",date:"datepicker"},ct={string:"text",number:"number",date:"date"},k=i.isFunction,h=l.Widget,ht='<div class="k-filter-menu-container"><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div class="k-action-buttons"><button type="submit" title="#=messages.filter#" class="k-button k-primary">#=messages.filter#</button><button type="reset" title="#=messages.clear#" class="k-button">#=messages.clear#</button></div></div>',st='<div class="k-filter-menu-container"><div class="k-filter-help-text">#=messages.info#</div><label><input class="k-textbox" data-#=ns#bind="value: filters[0].value" name="filters[0].value"/></label><div class="k-action-buttons"><button type="submit" title="#=messages.filter#" class="k-button k-primary">#=messages.filter#</button><button type="reset" title="#=messages.clear#" class="k-button">#=messages.clear#</button></div></div>',vt='<div class="k-filter-menu-container"><div class="k-filter-help-text">#=messages.info#</div><select title="#=messages.operator#" data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select title="#=messages.value#" data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true"></select>#}else{#<input title="#=messages.value#" data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select title="#=messages.logic#" class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select title="#=messages.additionalOperator#" data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select title="#=messages.additionalValue#" data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true"></select>#}else{#<input title="#=messages.additionalValue#" data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div class="k-action-buttons"><button type="submit" title="#=messages.filter#" class="k-button k-primary">#=messages.filter#</button><button type="reset" title="#=messages.clear#" class="k-button">#=messages.clear#</button></div></div>',at='<div data-#=ns#role="view" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><a href="\\#" class="k-header-cancel k-link" title="#=messages.cancel#" aria-label="#=messages.cancel#"><span class="k-icon k-i-arrow-chevron-left"></span></a>#=messages.filter# #=messages.into# #=title#<a href="\\#" class="k-header-done k-link" title="#=messages.done#" aria-label="#=messages.done#"><span class="k-icon k-i-check"></span></a></div><form title="#=messages.title#" class="k-filter-menu"><ul class="k-reset"><li><span class="k-list-title k-filter-help-text">#=messages.info#</span><ul class="k-listgroup k-listgroup-flush"><li class="k-item k-listgroup-item"><label class="k-listgroup-form-row k-label"><span class="k-listgroup-form-field-label k-filter-operator-text">#=messages.operator#</span><span class="k-listgroup-form-field-wrapper"><select id="operator_#=filterMenuGuid#" title="#=messages.operator#" class="k-filter-operator" data-#=ns#bind="value: filters[0].operator" autocomplete="'+u+'" >#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></span></label></li><li class="k-item k-listgroup-item"><label class="k-listgroup-form-row k-label"><span class="k-listgroup-form-field-label k-filter-input-text">#=messages.value#</span><span class="k-listgroup-form-field-wrapper">#if(values){#<select id="value_#=filterMenuGuid#" title="#=messages.value#" data-#=ns#bind="value:filters[0].value" autocomplete="'+u+'" ><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input id="value_#=filterMenuGuid#" title="#=messages.value#" data-#=ns#bind="value:filters[0].value" class="k-value-input" type="#=inputType#" autocomplete="'+u+'" />#}#</span></label></li></ul>#if(extra){#<ul class="k-listgroup k-listgroup-flush"><li class="k-item k-listgroup-item"><label class="k-listgroup-form-row k-label"><span class="k-listgroup-form-field-label k-filter-logic-and-text">#=messages.and#</span><span class="k-listgroup-form-field-wrapper"><input id="and_#=filterMenuGuid#" title="#=messages.and#" type="radio" name="logic"data-#=ns#bind="checked: logic" value="and" autocomplete="'+u+'" /></span></label></li><li class="k-item k-listgroup-item"><label class="k-listgroup-form-row k-label"><span class="k-listgroup-form-field-label k-filter-logic-or-text">#=messages.or#</span><span class="k-listgroup-form-field-wrapper"><input id="or_#=filterMenuGuid#" title="#=messages.or#" type="radio" name="logic" data-#=ns#bind="checked: logic" value="or" autocomplete="'+u+'" /></span></label></li></ul><ul class="k-listgroup k-listgroup-flush"><li class="k-item k-listgroup-item"><label class="k-listgroup-form-row k-label"><span class="k-listgroup-form-field-label k-filter-operator-text">#=messages.additionalOperator#</span><span class="k-listgroup-form-field-wrapper"><select id="additionalOperator_#=filterMenuGuid#" title="#=messages.additionalOperator#" class="k-filter-operator" data-#=ns#bind="value: filters[1].operator" autocomplete="'+u+'" >#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></span></label></li><li class="k-item k-listgroup-item"><label class="k-listgroup-form-row k-label"><span class="k-listgroup-form-field-label k-filter-input-text">#=messages.additionalValue#</span><span class="k-listgroup-form-field-wrapper">#if(values){#<select id="additionalValue_#=filterMenuGuid#" title="#=messages.additionalValue#" data-#=ns#bind="value:filters[1].value" autocomplete="'+u+'" ><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input id="additionalValue_#=filterMenuGuid#" title="#=messages.additionalValue#" data-#=ns#bind="value:filters[1].value" class="k-value-input" type="#=inputType#" autocomplete="'+u+'" />#}#</span></label></li></ul>#}#</li><li class="k-item k-clear-wrap"><span class="k-list-title">&nbsp;</span><ul class="k-listgroup k-listgroup-flush"><li class="k-listgroup-item"><span class="k-link k-label k-clear" title="#=messages.clear#" aria-label="#=messages.clear#">#=messages.clear#</span></li></ul></li></ul></form></div>',ft='<div data-#=ns#role="view" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><a href="\\#" class="k-header-cancel k-link" title="#=messages.cancel#" aria-label="#=messages.cancel#"><span class="k-icon k-i-arrow-chevron-left"></span></a>#=messages.filter# #=messages.into# #=title#<a href="\\#" class="k-header-done k-link" title="#=messages.done#" aria-label="#=messages.done#"><span class="k-icon k-i-check"></span></a></div><form title="#=messages.title#" class="k-filter-menu"><ul class="k-reset"><li><span class="k-list-title k-filter-help-text">#=messages.info#</span><ul class="k-listgroup k-listgroup-flush k-multicheck-bool-wrap"><li class="k-item k-listgroup-item"><label class="k-listgroup-form-row k-label"><span class="k-listgroup-form-field-label k-item-title">#=messages.isTrue#</span><span class="k-listgroup-form-field-wrapper"></span><input id="true_#=filterMenuGuid#" title="#=messages.isTrue#" type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value" autocomplete="'+u+'" /></span></label></li><li class="k-item k-listgroup-item"><label class="k-listgroup-form-row k-label"><span for="false_#=filterMenuGuid#" class="k-listgroup-form-field-label k-item-title">#=messages.isFalse#</span><span class="k-listgroup-form-field-wrapper"><input id="false_#=filterMenuGuid#" title="#=messages.isFalse#" type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value" autocomplete="'+u+'" /></span></label></li></ul></li><li class="k-item k-clear-wrap"><span class="k-list-title">&nbsp;</span><ul class="k-listgroup k-listgroup-flush"><li class="k-listgroup-item"><span class="k-link k-label k-clear" title="#=messages.clear#" aria-label="#=messages.clear#">#=messages.clear#</span></li></ul></li></ul></form></div>',s=h.extend({init:function(t,u){var v,y,c,s,o=this,l="string";h.fn.init.call(o,t,u),v=o.operators=u.operators||{},t=o.element,u=o.options,u.appendToElement||(c=t.addClass("k-with-icon k-filterable").find(".k-grid-filter"),c[0]||(c=t.prepend('<a class="k-grid-filter" href="#" title="'+u.messages.filter+'" aria-label="'+u.messages.filter+'"><span class="k-icon k-i-filter"></span></a>').find(".k-grid-filter")),c.attr("tabindex",-1).on("click"+f,r(o._click,o))),o.link=c||n(),o.dataSource=a.create(u.dataSource),o.field=u.field||t.attr(i.attr("field")),o.model=o.dataSource.reader.model,o._parse=function(n){return null!=n?n+"":n},o.model&&o.model.fields&&(s=o.model.fields[o.field],s&&(l=s.type||"string",s.parse&&(o._parse=r(s.parse,s)))),u.values&&(l="enums"),o.type=l,v=v[l]||u.operators[l];for(y in v)break;o._defaultFilter=function(){return{field:o.field,operator:y||"eq",value:""}},o._refreshHandler=r(o.refresh,o),o.dataSource.bind(e,o._refreshHandler),u.appendToElement?o._init():o.refresh()},_init:function(){var e,t=this,u=t.options.ui,o=k(u);t.pane=t.options.pane,t.pane&&(t._isMobile=!0),o||(e=u||yt[t.type]),t._isMobile?t._createMobileForm(e):t._createForm(e),t.form.on("submit"+f,r(t._submit,t)).on("reset"+f,r(t._reset,t)),o&&t.form.find(".k-textbox").removeClass("k-textbox").each(function(){u(n(this))}),t.form.find("["+i.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+i.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+i.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+i.attr("role")+"=datepicker]").removeClass("k-textbox"),t.refresh(),t.trigger(p,{field:t.field,container:t.form}),i.cycleForm(t.form)},_createForm:function(t){var u=this,e=u.options,s=u.operators||{},o=u.type,h=k(u.options.ui);s=s[o]||e.operators[o],u.form=n('<form title="'+u.options.messages.title+'" class="k-filter-menu"/>').html(i.template("boolean"===o?h?st:ht:vt)({field:u.field,format:e.format,ns:i.ns,messages:e.messages,extra:e.extra,operators:s,type:o,role:t,values:tt(e.values)})),e.appendToElement?(u.element.append(u.form),u.popup=u.element.closest(".k-popup").data(c)):u.popup=u.form[c]({anchor:u.link,open:r(u._open,u),activate:r(u._activate,u),close:function(){u.options.closeCallback&&u.options.closeCallback(u.element)}}).data(c),u.form.on("keydown"+f,r(u._keydown,u))},_createMobileForm:function(t){var r=this,u=r.options,e=r.operators||{},o=i.guid(),f=r.type;e=e[f]||u.operators[f],r.form=n("<div />").html(i.template("boolean"===f?ft:at)({field:r.field,title:u.title||r.field,format:u.format,ns:i.ns,messages:u.messages,extra:u.extra,operators:e,filterMenuGuid:o,type:f,role:t,inputType:ct[f],values:tt(u.values)})),r.view=r.pane.append(r.form.html()),r.form=r.view.element.find("form"),r.view.element.on("click",".k-header-done",function(n){r.form.submit(),n.preventDefault()}).on("click",".k-header-cancel",function(n){r._closeForm(),n.preventDefault()}).on("click",".k-clear",function(n){r._mobileClear(),n.preventDefault()}),r.view.bind("showStart",function(){r.refresh()})},refresh:function(){var n=this,u=n.dataSource.filter()||{filters:[],logic:"and"},r=[n._defaultFilter()],t=n._defaultFilter().operator;(n.options.extra||"isnull"!==t&&"isnullorempty"!==t&&"isnotnullorempty"!==t&&"isnotnull"!==t&&"isempty"!==t&&"isnotempty"!==t)&&r.push(n._defaultFilter()),n.filterModel=i.observable({logic:"and",filters:r}),n.form&&i.bind(n.form.children().first(),n.filterModel),n._bind(u)?n.link.addClass("k-state-active"):n.link.removeClass("k-state-active")},destroy:function(){var n=this;h.fn.destroy.call(n),n.form&&(i.unbind(n.form),i.destroy(n.form),n.form.unbind(f),n.popup&&(n.popup.destroy(),n.popup=null),n.form=null),n.view&&(n.view.purge(),n.view=null),n.link.unbind(f),n._refreshHandler&&(n.dataSource.unbind(e,n._refreshHandler),n.dataSource=null),n.element=n.link=n._refreshHandler=n.filterModel=null},_bind:function(n){for(var i,t,r=this,h=n.filters,u=!1,o=0,f=r.filterModel,e=0,s=h.length;e<s;e++)t=h[e],t.field==r.field?(f.set("logic",n.logic),i=f.filters[o],i||(f.filters.push({field:r.field}),i=f.filters[o]),i.set("value",r._parse(t.value)),i.set("operator",t.operator),o++,u=!0):t.filters&&(u=u||r._bind(t));return u},_stripFilters:function(t){return n.grep(t,function(n){return""!==n.value&&null!=n.value||"isnull"===n.operator||"isnotnull"===n.operator||"isempty"===n.operator||"isnotempty"===n.operator||"isnullorempty"==n.operator||"isnotnullorempty"==n.operator})},_merge:function(n){var f,r,e,u=this,o=n.logic||"and",i=this._stripFilters(n.filters),t=u.dataSource.filter()||{filters:[],logic:"and"};for(g(t,u.field),r=0,e=i.length;r<e;r++)f=i[r],f.value=u._parse(f.value);return i.length&&(t.filters.length?(n.filters=i,"and"!==t.logic&&(t.filters=[{logic:t.logic,filters:t.filters}],t.logic="and"),t.filters.push(i.length>1?n:i[0])):(t.filters=i,t.logic=o)),t},filter:function(n){var t=this._stripFilters(n.filters);t.length&&this.trigger("change",{filter:{logic:n.logic,filters:t},field:this.field})||(n=this._merge(n),n.filters.length&&this.dataSource.filter(n))},clear:function(){var n=this,t=n.dataSource.filter()||{filters:[]};this.trigger("change",{filter:null,field:n.field})||n._removeFilter(t)},_mobileClear:function(){var i,e,o,f,u,t=this,r=t.view.element;"boolean"===t.type?(i=r.find("[type='radio']:checked"),e=i.val(),i.val(""),i.trigger("change"),i.val(e),i.prop("checked",!1)):(o=r.find("select"),o.each(function(t,i){var r=n(i);r.val(r.find("option:first").val()),r.trigger("change")}),"string"!==t.type&&"date"!==t.type&&"number"!==t.type||(f=r.find(".k-value-input"),f.each(function(t,i){var r=n(i);r.val(""),r.trigger("change")})),t.options.extra&&(u=r.find("[name=logic]").first(),u.prop("checked",!0),u.trigger("change")))},_removeFilter:function(t){var i=this;t.filters=n.grep(t.filters,function(n){return n.filters?(n.filters=et(n.filters,i.field),n.filters.length):n.field!=i.field}),t.filters.length||(t=null),i.dataSource.filter(t)},_submit:function(t){var i,u,r;t.preventDefault(),t.stopPropagation(),i=this.filterModel.toJSON(),u=n.grep(i.filters,function(n){return""!==n.value&&null!==n.value}),this._checkForNullOrEmptyFilter(i)||u&&u.length?this.filter(i):(r=this.dataSource.filter(),r&&(r.filters.push(i),i=r),this._removeFilter(i)),this._closeForm()},_checkForNullOrEmptyFilter:function(n){var i,r,t;return!!(n&&n.filters&&n.filters.length)&&(i=!1,r=!1,n.filters[0]&&(t=n.filters[0].operator,i="isnull"==t||"isnotnull"==t||"isnotempty"==t||"isempty"==t||"isnullorempty"==t||"isnotnullorempty"==t),n.filters[1]&&(t=n.filters[1].operator,r="isnull"==t||"isnotnull"==t||"isnotempty"==t||"isempty"==t||"isnullorempty"==t||"isnotnullorempty"==t),!this.options.extra&&i||this.options.extra&&(i||r))},_reset:function(){this.clear(),this.options.search&&this.container&&this.container.find("label").parent().show(),this._closeForm()},_closeForm:function(){this._isMobile?this.pane.navigate("",this.options.animations.right):this.popup.close()},_click:function(n){n.preventDefault(),n.stopPropagation(),this.popup||this.pane||this._init(),this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle()},_open:function(){var t;n(".k-filter-menu").not(this.form).each(function(){t=n(this).data(c),t&&t.close()})},_activate:function(){this.form.find(":kendoFocusable:first").focus(),this.trigger(v,{field:this.field,container:this.form})},_keydown:function(n){n.keyCode==i.keys.ESC&&this.popup.close()},events:[p,"change",v],options:{name:"FilterMenu",extra:!0,appendToElement:!1,type:"string",operators:{string:{eq:y,neq:w,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with",isnull:"Is null",isnotnull:"Is not null",isempty:"Is empty",isnotempty:"Is not empty",isnullorempty:"Has no value",isnotnullorempty:"Has value"},number:{eq:y,neq:w,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than",isnull:"Is null",isnotnull:"Is not null"},date:{eq:y,neq:w,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before",isnull:"Is null",isnotnull:"Is not null"},enums:{eq:y,neq:w,isnull:"Is null",isnotnull:"Is not null"}},messages:{info:"Show items with value that:",title:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-",operator:"Operator",value:"Value",additionalValue:"Additional value",additionalOperator:"Additional operator",logic:"Filters logic",cancel:"Cancel",done:"Done",into:"in"},animations:{left:"slide",right:"slide:right"}}}),o=".kendoFilterMultiCheck",a=i.data.DataSource,ot='<div data-#=ns#role="view" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><a href="\\#" class="k-header-cancel k-link" title="#=messages.cancel#" aria-label="#=messages.cancel#"><span class="k-icon k-i-arrow-chevron-left"></span></a>#=messages.filter# #=messages.into# #=title#<a href="\\#" class="k-header-done k-link" title="#=messages.done#" aria-label="#=messages.done#"><span class="k-icon k-i-check"></span></a></div><form class="k-filter-menu"><ul class="k-reset">#if(search){#<li class="k-textbox k-space-right"><input placeholder="#=messages.search#" title="#=messages.search#" autocomplete="'+u+'"  /><span class="k-icon k-i-zoom"></span></li>#}#<li class="k-filter-tools"><span style="#=checkAll ? "" : "visibility: hidden;" #" class="k-label k-select-all" title="#=messages.checkAll#" aria-label="#=messages.checkAll#">#=messages.checkAll#</span><span class="k-label k-clear-all" title="#=messages.clearAll#" aria-label="#=messages.clearAll#">#=messages.clearAll#</span></li>#if(messages.selectedItemsFormat){#<li><div class="k-filter-selected-items"></div></li>#}#<li><ul class="k-multicheck-wrap k-listgroup k-listgroup-flush"></ul></li></ul></form></div>',d=h.extend({init:function(t,u){var f,o;h.fn.init.call(this,t,u),u=this.options,this.element=n(t),f=this.field=this.options.field||this.element.attr(i.attr("field")),o=u.checkSource,this._foreignKeyValues()?(this.checkSource=a.create(u.values),this.checkSource.fetch()):u.forceUnique?(o=n.extend(!0,{},u.dataSource.options),delete o.pageSize,this.checkSource=a.create(o),this.checkSource.reader.data=lt(this.checkSource.reader.data,this.field)):this.checkSource=a.create(o),this.dataSource=u.dataSource,this.model=this.dataSource.reader.model,this._parse=function(n){return n+""},this.model&&this.model.fields&&(f=this.model.fields[this.field],f&&("number"==f.type?this._parse=function(n){return"string"==typeof n&&"null"===n.toLowerCase()?null:parseFloat(n)}:f.parse&&(this._parse=r(f.parse,f)),this.type=f.type||"string")),u.appendToElement?this._init():this._createLink(),this._refreshHandler=r(this.refresh,this),this.dataSource.bind(e,this._refreshHandler)},_createLink:function(){var t=this.element,n=t.addClass("k-with-icon k-filterable").find(".k-grid-filter");n[0]||(n=t.prepend('<a class="k-grid-filter" href="#" title="'+this.options.messages.filter+'" aria-label="'+this.options.messages.filter+'"><span class="k-icon k-i-filter"></span></a>').find(".k-grid-filter")),this._link=n.attr("tabindex",-1).on("click"+f,r(this._click,this))},_init:function(){var n=this,i=this.options.forceUnique,t=this.options;this.pane=t.pane,this.pane&&(this._isMobile=!0),this._createForm(),this._foreignKeyValues()?this.refresh():i&&!this.checkSource.options.serverPaging&&this.dataSource.data().length?(this.checkSource.data(b(this.dataSource.data(),this.field)),this.refresh()):(this._attachProgress(),this.checkSource.fetch(function(){n.refresh.call(n)})),this.options.forceUnique||(this.checkChangeHandler=function(){n.container.empty(),n.refresh()},this.checkSource.bind(e,this.checkChangeHandler)),this.form.on("keydown"+o,r(this._keydown,this)).on("submit"+o,r(this._filter,this)).on("reset"+o,r(this._reset,this)),this.trigger(p,{field:this.field,container:this.form})},_attachProgress:function(){var n=this;this._progressHandler=function(){l.progress(n.container,!0)},this._progressHideHandler=function(){l.progress(n.container,!1)},this.checkSource.bind("progress",this._progressHandler).bind("change",this._progressHideHandler)},_input:function(){var n=this;n._clearTypingTimeout(),n._typingTimeout=setTimeout(function(){n.search()},100)},_clearTypingTimeout:function(){this._typingTimeout&&(clearTimeout(this._typingTimeout),this._typingTimeout=null)},search:function(){var t,r,u,f=this.options.ignoreCase,n=this.searchTextBox[0].value,i=this.container.find("label");for(f&&(n=n.toLowerCase()),t=0,this.options.checkAll&&i.length&&(this._isMobile?this.view.element.find(".k-select-all")[0].style.visibility=n?"hidden":"":(i[0].parentNode.style.display=n?"none":"",t++));t<i.length;)r=i[t],u=r.textContent||r.innerText,f&&(u=u.toLowerCase()),r.parentNode.style.display=u.indexOf(n)>=0?"":"none",t++},_activate:function(){this.form.find(":kendoFocusable:first").focus(),this.trigger(v,{field:this.field,container:this.form})},_createForm:function(){var e,u=this.options,f="",t=this;this._isMobile||(f+="<div class='k-filter-menu-container'>",u.search&&(f+="<div class='k-textbox k-space-right'><input placeholder='"+u.messages.search+"'/><span class='k-icon k-i-zoom'></span></div>"),f+="<ul class='k-reset k-multicheck-wrap'></ul>",u.messages.selectedItemsFormat&&(f+="<div class='k-filter-selected-items'>"+i.format(u.messages.selectedItemsFormat,0)+"</div>"),f+="<div class='k-action-buttons'>",f+="<button type='submit' class='k-button k-primary'>"+u.messages.filter+"</button>",f+="<button type='reset' class='k-button'>"+u.messages.clear+"</button>",f+="</div>",f+="</div>",this.form=n('<form class="k-filter-menu"/>').html(f),this.container=this.form.find(".k-multicheck-wrap")),this._isMobile?(t.form=n("<div />").html(i.template(ot)({field:t.field,title:u.title||t.field,ns:i.ns,messages:u.messages,search:u.search,checkAll:u.checkAll})),t.view=t.pane.append(t.form.html()),t.form=t.view.element.find("form"),e=this.view.element,this.container=e.find(".k-multicheck-wrap"),e.on("click",".k-header-done",function(n){t.form.submit(),n.preventDefault()}).on("click",".k-header-cancel",function(n){t._closeForm(),n.preventDefault()}).on("click",".k-clear-all",function(n){t._mobileCheckAll(!1),n.preventDefault()}).on("click",".k-select-all",function(n){t._mobileCheckAll(!0),n.preventDefault()}),t.view.bind("showStart",function(){t.refresh()})):u.appendToElement?(this.popup=this.element.closest(".k-popup").data(c),this.element.append(this.form)):t.popup=t.form.kendoPopup({anchor:t._link,open:r(t._open,t),activate:r(t._activate,t),close:function(){t.options.closeCallback&&t.options.closeCallback(t.element)}}).data(c),u.search&&(this.searchTextBox=this.form.find(".k-textbox > input"),this.searchTextBox.on("input",r(this._input,this)))},createCheckAllItem:function(){var u=this.options,f=i.template(u.itemTemplate({field:"all",mobile:this._isMobile})),t=n(f({all:u.messages.checkAll}));this.container.prepend(t),this.checkBoxAll=t.find(":checkbox").eq(0).addClass("k-check-all"),this.checkAllHandler=r(this.checkAll,this),this.checkBoxAll.on(e+o,this.checkAllHandler)},updateCheckAllState:function(){if(this.options.messages.selectedItemsFormat&&this.form.find(".k-filter-selected-items").text(i.format(this.options.messages.selectedItemsFormat,this.container.find(":checked:not(.k-check-all)").length)),this.checkBoxAll){var n=this.container.find(":checkbox:not(.k-check-all)").length==this.container.find(":checked:not(.k-check-all)").length;this.checkBoxAll.prop("checked",n)}},refresh:function(n){var r=this.options.forceUnique,t=this.dataSource,i=this.getFilterArray();this._link&&this._link.toggleClass("k-state-active",0!==i.length),this.form&&(n&&r&&n.sender===t&&!t.options.serverPaging&&("itemchange"==n.action||"add"==n.action||"remove"==n.action||t.options.autoSync&&"sync"===n.action)&&!this._foreignKeyValues()&&(this.checkSource.data(b(this.dataSource.data(),this.field)),this.container.empty()),this.container.is(":empty")&&this.createCheckBoxes(),this.checkValues(i),this.trigger(rt))},getFilterArray:function(){var i,t=n.extend(!0,{},{filters:[],logic:"and"},this.dataSource.filter());return it(t,this.field),i=nt(t)},createCheckBoxes:function(){var n,s,f,t=this.options,u={field:this.field,format:t.format,mobile:this._isMobile,type:this.type};this.options.forceUnique?this._foreignKeyValues()?(n=this.checkSource.data(),u.valueField="value",u.field="text"):n=this.checkSource._isServerGrouped()?b(this.checkSource._flatData(this.checkSource.data()),this.field):this.checkSource.data():n=this.checkSource.view(),s=i.template(t.itemTemplate(u)),f=i.render(s,n),t.checkAll&&!this._isMobile&&this.createCheckAllItem(),this.container.on(e+o,":checkbox",r(this.updateCheckAllState,this)),this.container.append(f)},checkAll:function(){var n=this.checkBoxAll.is(":checked");this.container.find(":checkbox").prop("checked",n)},checkValues:function(t){var i=this;n(n.grep(this.container.find(":checkbox").prop("checked",!1),function(r){var f,u,e=!1;if(!n(r).is(".k-check-all"))for(f=i._parse(n(r).val()),u=0;u<t.length;u++)if(e="date"==i.type?t[u]&&f?t[u].getTime()==f.getTime():null===t[u]&&null===f:t[u]==f)return e})).prop("checked",!0),this.updateCheckAllState()},_mobileCheckAll:function(t){var r=this,i=r.container.find(":checkbox");i.each(function(i,r){var u=n(r);u.prop("checked",t),u.trigger("change")})},_filter:function(t){var i,r;t.preventDefault(),t.stopPropagation(),i={logic:"or"},r=this,i.filters=n.map(this.form.find(":checkbox:checked:not(.k-check-all)"),function(t){return{value:n(t).val(),operator:"eq",field:r.field}}),i.filters.length&&this.trigger("change",{filter:i,field:r.field})||(i=this._merge(i),i.filters.length?this.dataSource.filter(i):this.clear(),this._closeForm())},_stripFilters:function(t){return n.grep(t,function(n){return null!=n.value})},_foreignKeyValues:function(){var n=this.options;return n.values&&!n.checkSource},destroy:function(){var n=this;h.fn.destroy.call(n),n.form&&(i.unbind(n.form),i.destroy(n.form),n.form.unbind(o),n.popup&&(n.popup.destroy(),n.popup=null),n.form=null,n.container&&(n.container.unbind(o),n.container=null),n.checkBoxAll&&n.checkBoxAll.unbind(o)),n.view&&(n.view.purge(),n.view=null),n._link&&n._link.unbind(f),n._refreshHandler&&(n.dataSource.unbind(e,n._refreshHandler),n.dataSource=null),n.checkChangeHandler&&n.checkSource.unbind(e,n.checkChangeHandler),n._progressHandler&&n.checkSource.unbind("progress",n._progressHandler),n._progressHideHandler&&n.checkSource.unbind("change",n._progressHideHandler),this._clearTypingTimeout(),this.searchTextBox=null,n.element=n.checkSource=n.container=n.checkBoxAll=n._link=n._refreshHandler=n.checkAllHandler=null},options:{name:"FilterMultiCheck",itemTemplate:function(n){var f=n.field,r=n.format,i=n.valueField,e=n.mobile,u="";return i===t&&(i=f),"date"==n.type&&(u=":yyyy-MM-ddTHH:mm:sszzz"),e?"<li class='k-item k-listgroup-item'><label class='k-label k-listgroup-form-row'><span class='k-listgroup-form-field-label k-item-title '>#:kendo.format('"+(r?r:"{0}")+"', "+f+")#</span><span class=\"k-listgroup-form-field-wrapper\"><input type='checkbox' value='#:kendo.format('{0"+u+"}',"+i+")#'/></span></label></li>":"<li class='k-item'><label class='k-label'><input type='checkbox' value='#:kendo.format('{0"+u+"}',"+i+")#'/><span>#:kendo.format('"+(r?r:"{0}")+"', "+f+")#</span></label></li>"},checkAll:!0,search:!1,ignoreCase:!0,appendToElement:!1,messages:{checkAll:"Select All",clearAll:"Clear All",clear:"Clear",filter:"Filter",search:"Search",cancel:"Cancel",selectedItemsFormat:"{0} items selected",done:"Done",into:"in"},forceUnique:!0,animations:{left:"slide",right:"slide:right"}},events:[p,rt,"change",v]});n.extend(d.fn,{_click:s.fn._click,_keydown:s.fn._keydown,_reset:s.fn._reset,_closeForm:s.fn._closeForm,_removeFilter:s.fn._removeFilter,clear:s.fn.clear,_merge:s.fn._merge}),l.plugin(s),l.plugin(d)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.autocomplete.min",["kendo.list.min","kendo.mobile.scroller.min","kendo.virtuallist.min"],n)}(function(){return function(n,t){function s(n,t,i){return i?t.substring(0,n).split(i).length-1:0}function it(n,t,i){return t.split(i)[s(n,t,i)]}function nt(n,t,i,r,u){var f=t.split(r);return f.splice(s(n,t,r),1,i),r&&""!==f[f.length-1]&&f.push(""),f.join(u)}var e=window.kendo,ot=e.support,o=e.caret,a=e._activeElement,b=ot.placeholder,w=e.ui,u=w.List,r=e.keys,ft=e.data.DataSource,k="aria-disabled",d="aria-readonly",c="change",h="k-state-default",p="disabled",v="readonly",y="k-state-focused",ut="k-state-selected",l="k-state-disabled",et="off",rt="k-state-hover",i=".kendoAutoComplete",g="mouseenter"+i+" mouseleave"+i,f=n.proxy,tt=u.extend({init:function(t,r){var s,h,o=this;o.ns=i,r=n.isArray(r)?{dataSource:r}:r,u.fn.init.call(o,t,r),t=o.element,r=o.options,r.placeholder=r.placeholder||t.attr("placeholder"),b&&t.attr("placeholder",r.placeholder),o._wrapper(),o._loader(),o._clearButton(),o._dataSource(),o._ignoreCase(),t[0].type="text",s=o.wrapper,o._popup(),t.addClass("k-input").on("keydown"+i,f(o._keydown,o)).on("keypress"+i,f(o._keypress,o)).on("input"+i,f(o._search,o)).on("paste"+i,f(o._search,o)).on("focus"+i,function(){o._prev=o._accessor(),o._oldText=o._prev,o._placeholder(!1),s.addClass(y)}).on("focusout"+i,function(){o._change(),o._placeholder(),o.close(),s.removeClass(y)}).attr({autocomplete:et,role:"textbox","aria-haspopup":!0}),o._clear.on("click"+i+" touchend"+i,f(o._clearValue,o)),o._enable(),o._old=o._accessor(),t[0].id&&t.attr("aria-owns",o.ul[0].id),o._aria(),o._placeholder(),o._initList(),h=n(o.element).parents("fieldset").is(":disabled"),h&&o.enable(!1),o.listView.bind("click",function(n){n.preventDefault()}),o._resetFocusItemHandler=n.proxy(o._resetFocusItem,o),e.notify(o),o._toggleCloseVisibility()},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",dataTextField:"",minLength:1,enforceMinLength:!1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{},virtual:!1,value:null,clearButton:!0,autoWidth:!1,popup:null},_dataSource:function(){var n=this;n.dataSource&&n._refreshHandler?n._unbindDataSource():(n._progressHandler=f(n._showBusy,n),n._errorHandler=f(n._hideBusy,n)),n.dataSource=ft.create(n.options.dataSource).bind("progress",n._progressHandler).bind("error",n._errorHandler)},setDataSource:function(n){this.options.dataSource=n,this._dataSource(),this.listView.setDataSource(this.dataSource)},events:["open","close",c,"select","filtering","dataBinding","dataBound"],setOptions:function(n){var t=this._listOptions(n);u.fn.setOptions.call(this,n),this.listView.setOptions(t),this._accessors(),this._aria(),this._clearButton()},_listOptions:function(t){var i=u.fn._listOptions.call(this,n.extend(t,{skipUpdateOnBind:!0}));return i.dataValueField=i.dataTextField,i.selectedItemChange=null,i},_editable:function(n){var u=this,f=u.element,e=u.wrapper.off(i),r=n.readonly,t=n.disable;r||t?(e.addClass(t?l:h).removeClass(t?h:l),f.attr(p,t).attr(v,r).attr(k,t).attr(d,r)):(e.addClass(h).removeClass(l).on(g,u._toggleHover),f.removeAttr(p).removeAttr(v).attr(k,!1).attr(d,!1))},close:function(){var t=this,n=t.listView.focus();n&&n.removeClass(ut),t.popup.close()},destroy:function(){var n=this;n.element.off(i),n._clear.off(i),n.wrapper.off(i),u.fn.destroy.call(n)},refresh:function(){this.listView.refresh()},select:function(n){this._select(n)},search:function(t){var u,i=this,r=i.options,s=r.ignoreCase,e=i._separator(),f=i.dataSource.options.accentFoldingFiltering;t=t||i._accessor(),clearTimeout(i._typingTimeout),e&&(t=it(o(i.element)[0],t,e)),u=t.length,(!r.enforceMinLength&&!u||u>=r.minLength)&&(i._open=!0,i._mute(function(){this.listView.value([])}),i._filterSource({value:s?f?t.toLocaleLowerCase(f):t.toLowerCase():t,operator:r.filter,field:r.dataTextField,ignoreCase:s}),i.one("close",n.proxy(i._unifySeparators,i))),i._toggleCloseVisibility()},suggest:function(n){var c,f=this,p=f._last,i=f._accessor(),y=f.element[0],e=o(y)[0],l=f._separator(),v=i.split(l),b=s(e,i,l),w=e,h=f.dataSource.options.accentFoldingFiltering;return p==r.BACKSPACE||p==r.DELETE?(f._last=t,t):(n=n||"","string"!=typeof n&&(n[0]&&(n=f.dataSource.view()[u.inArray(n[0],f.ul[0])]),n=n?f._text(n):""),e<=0&&(e=(h?i.toLocaleLowerCase(h):i.toLowerCase()).indexOf(h?n.toLocaleLowerCase(h):n.toLowerCase())+1),c=i.substring(0,e).lastIndexOf(l),c=c>-1?e-(c+l.length):e,i=v[b].substring(0,c),n&&(n=""+n,c=(h?n.toLocaleLowerCase(h):n.toLowerCase()).indexOf(h?i.toLocaleLowerCase(h):i.toLowerCase()),c>-1&&(n=n.substring(c+i.length),w=e+n.length,i+=n),l&&""!==v[v.length-1]&&v.push("")),v[b]=i,f._accessor(v.join(l||"")),y===a()&&o(y,e,w),t)},value:function(n){return n===t?this._accessor():(this.listView.value(n),this._accessor(n),this._old=this._accessor(),this._oldText=this._accessor(),this._toggleCloseVisibility(),t)},_click:function(n){var u=n.item,i=this,r=i.element,f=i.listView.dataItemByIndex(i.listView.getElementIndex(u));return n.preventDefault(),i._active=!0,i.trigger("select",{dataItem:f,item:u})?(i.close(),t):(i._oldText=r.val(),i._select(u).done(function(){i._blur(),o(r,r.val().length)}),t)},_clearText:n.noop,_resetFocusItem:function(){var n=this.options.highlightFirst?0:-1;this.options.virtual&&this.listView.scrollTo(0),this.listView.focus(n)},_listBound:function(){var r,n=this,e=n.popup,o=n.options,f=n.dataSource.flatView(),i=f.length,s=n.dataSource._group.length,u=n.element[0]===a();n._renderFooter(),n._renderNoData(),n._toggleNoData(!i),n._toggleHeader(!!s&&!!i),n._resizePopup(),e.position(),i&&o.suggest&&u&&n._inputValue()&&n.suggest(f[0]),n._open&&(n._open=!1,r=n._allowOpening()?"open":"close",n._typingTimeout&&!u&&(r="close"),i&&(n._resetFocusItem(),o.virtual&&n.popup.unbind("activate",n._resetFocusItemHandler).one("activate",n._resetFocusItemHandler)),e[r](),n._typingTimeout=t),n._touchScroller&&n._touchScroller.reset(),n._hideBusy(),n._makeUnselectable(),n.trigger("dataBound")},_mute:function(n){this._muted=!0,n.call(this),this._muted=!1},_listChange:function(){var n=this._active||this.element[0]===a();n&&!this._muted&&this._selectValue(this.listView.selectedDataItems()[0])},_selectValue:function(n){var i=this._separator(),t="";n&&(t=this._text(n)),null===t&&(t=""),i&&(t=nt(o(this.element)[0],this._accessor(),t,i,this._defaultSeparator())),this._prev=t,this._accessor(t),this._placeholder()},_unifySeparators:function(){return this._accessor(this.value().split(this._separator()).join(this._defaultSeparator())),this},_preselect:function(n,t){this._inputValue(t),this._accessor(n),this._old=this.oldText=this._accessor(),this.listView.setValue(n),this._placeholder()},_change:function(){var n=this,t=n._unifySeparators().value(),i=t!==u.unifyType(n._old,typeof t),f=i&&!n._typing,r=n._oldText!==t;n._old=t,n._oldText=t,(f||r)&&n.element.trigger(c),i&&n.trigger(c),n.typing=!1,n._toggleCloseVisibility()},_accessor:function(n){var r=this,i=r.element[0];return n===t?(n=i.value,i.className.indexOf("k-readonly")>-1&&n===r.options.placeholder?"":n):(i.value=null===n?"":n,r._placeholder(),t)},_keydown:function(n){var s,o,t=this,i=n.keyCode,e=t.listView,f=t.popup.visible(),u=e.focus();if(t._last=i,i===r.DOWN)f?this._move(u?"focusNext":"focusFirst"):t.value()&&t._filterSource({value:t.ignoreCase?t.value().toLowerCase():t.value(),operator:t.options.filter,field:t.options.dataTextField,ignoreCase:t.ignoreCase}).done(function(){t._allowOpening()&&(t._resetFocusItem(),t.popup.open())}),n.preventDefault();else if(i===r.UP)f&&this._move(u?"focusPrev":"focusLast"),n.preventDefault();else if(i===r.HOME)this._move("focusFirst");else if(i===r.END)this._move("focusLast");else if(i===r.ENTER||i===r.TAB){if(i===r.ENTER&&f&&n.preventDefault(),f&&u){if(s=e.dataItemByIndex(e.getElementIndex(u)),t.trigger("select",{dataItem:s,item:u}))return;this._select(u)}this._blur()}else i===r.ESC?(f?n.preventDefault():t._clearValue(),t.close()):!t.popup.visible()||i!==r.PAGEDOWN&&i!==r.PAGEUP?(t.popup._hovered=!0,t._search()):(n.preventDefault(),o=i===r.PAGEDOWN?1:-1,e.scrollWith(o*e.screenHeight()))},_keypress:function(){this._oldText=this.element.val(),this._typing=!0},_move:function(n){this.listView[n](),this.options.suggest&&this.suggest(this.listView.focus())},_hideBusy:function(){var n=this;clearTimeout(n._busy),n._loading.hide(),n.element.attr("aria-busy",!1),n._busy=null,n._showClear()},_showBusy:function(){var n=this;n._busy||(n._busy=setTimeout(function(){n.element.attr("aria-busy",!0),n._loading.show(),n._hideClear()},100))},_placeholder:function(n){if(!b){var r,f=this,u=f.element,i=f.options.placeholder;if(i){if(r=u.val(),n===t&&(n=!r),n||(i=r!==i?r:""),r===f._old&&!n)return;u.toggleClass("k-readonly",n).val(i),i||u[0]!==document.activeElement||o(u[0],0,0)}}},_separator:function(){var n=this.options.separator;return n instanceof Array?RegExp(n.join("|"),"gi"):n},_defaultSeparator:function(){var n=this.options.separator;return n instanceof Array?n[0]:n},_inputValue:function(){return this.element.val()},_search:function(){var n=this;clearTimeout(n._typingTimeout),n._typingTimeout=setTimeout(function(){n._prev!==n._accessor()&&(n._prev=n._accessor(),n.search())},n.options.delay)},_select:function(n){var t=this;return t._active=!0,t.listView.select(n).done(function(){t._active=!1})},_loader:function(){this._loading=n('<span class="k-icon k-i-loading" style="display:none"></span>').insertAfter(this.element)},_clearButton:function(){u.fn._clearButton.call(this),this.options.clearButton&&(this._clear.insertAfter(this.element),this.wrapper.addClass("k-autocomplete-clearable"))},_toggleHover:function(t){n(t.currentTarget).toggleClass(rt,"mouseenter"===t.type)},_toggleCloseVisibility:function(){this.value()?this._showClear():this._hideClear()},_wrapper:function(){var t,i=this,r=i.element,u=r[0];t=r.parent(),t.is("span.k-widget")||(t=r.wrap("<span />").parent()),t.attr("tabindex",-1),t.attr("role","presentation"),t[0].style.cssText=u.style.cssText,r.css({width:"",height:u.style.height}),i._focused=i.element,i.wrapper=t.addClass("k-widget k-autocomplete").addClass(u.className).removeClass("input-validation-error"),i._inputWrapper=n(t[0])},_clearValue:function(){u.fn._clearValue.call(this),this.element.focus()}});w.plugin(tt)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.filtercell.min",["kendo.autocomplete.min","kendo.datepicker.min","kendo.numerictextbox.min","kendo.combobox.min","kendo.dropdownlist.min"],n)}(function(){return function(n,t){function u(t){var i="string"==typeof t?t:t.operator;return n.inArray(i,b)>-1}function y(t,i){var u,f,r=[];if(n.isPlainObject(t))if(t.hasOwnProperty("filters"))r=t.filters;else if(t.field==i)return t;for(n.isArray(t)&&(r=t),u=0;u<r.length;u++)if(f=y(r[u],i))return f}function v(t,i){t.filters&&(t.filters=n.grep(t.filters,function(n){return v(n,i),n.filters?n.filters.length:n.field!=i}))}function k(n,t){var r=i.getter(t,!0);return function(t){for(var u,i,o=n(t),s=[],f=0,e={};f<o.length;)u=o[f++],i=r(u),e.hasOwnProperty(i)||(s.push(u),e[i]=!0);return s}}var i=window.kendo,p=i.ui,l=i.data.DataSource,a=p.Widget,r="change",c="boolean",h="enums",e="string",f="Is equal to",o="Is not equal to",s=n.proxy,b=["isnull","isnotnull","isempty","isnotempty","isnullorempty","isnotnullorempty"],w=a.extend({init:function(f,o){var d,l,g,nt,it,tt,v,w,p,k,rt,b,y;if(f=n(f).addClass("k-filtercell"),d=this.wrapper=n("<span/>").appendTo(f),l=this,it=o,w=l.operators=o.operators||{},p=l.input=n("<input/>").attr(i.attr("bind"),"value: value").appendTo(d),k=o?o.suggestDataSource:null,k&&(o=n.extend({},o,{suggestDataSource:{}})),a.fn.init.call(l,f[0],o),k&&(l.options.suggestDataSource=k),o=l.options,g=l.dataSource=o.dataSource,l.model=g.reader.model,v=o.type=e,rt=i.getter("reader.model.fields",!0)(g)||{},b=rt[o.field],b&&b.type&&(v=o.type=b.type),o.values&&(o.type=v=h),w=w[v]||o.operators[v],!it.operator)for(tt in w){o.operator=tt;break}l._parse=function(n){return null!=n?n+"":n},l.model&&l.model.fields&&(y=l.model.fields[o.field],y&&y.parse&&(l._parse=s(y.parse,y))),l.defaultOperator=o.operator,l.viewModel=nt=i.observable({operator:o.operator,value:null,operatorVisible:function(){var n=this.get("value");return null!==n&&n!==t&&"undefined"!=n||u(this.get("operator"))&&!l._clearInProgress}}),nt.bind(r,s(l.updateDsFilter,l)),v==e&&l.initSuggestDataSource(o),null!==o.inputWidth&&(p.addClass("k-sized-input"),p.width(o.inputWidth)),p.attr("aria-label",l._getColumnTitle()),p.attr("title",l._getColumnTitle()),l._setInputType(o,v),v!=c&&o.showOperators!==!1?l._createOperatorDropDown(w):(n('<div unselectable="on" />').css("display","none").text("eq").appendTo(d),d.addClass("k-operator-hidden")),l._createClearIcon(),i.bind(this.wrapper,nt),v==e&&(o.template||l.setAutoCompleteSource()),v==h&&l.setComboBoxSource(l.options.values),l._refreshUI(),l._refreshHandler=s(l._refreshUI,l),l.dataSource.bind(r,l._refreshHandler)},_setInputType:function(t,r){var o,v,a,l,s,u=this,f=u.input;"function"==typeof t.template?(t.template.call(u.viewModel,{element:u.input,dataSource:u.suggestDataSource}),u._angularItems("compile")):r==e?f.attr(i.attr("role"),"autocomplete").attr(i.attr("text-field"),t.dataTextField||t.field).attr(i.attr("filter"),t.suggestionOperator).attr(i.attr("delay"),t.delay).attr(i.attr("min-length"),t.minLength).attr(i.attr("value-primitive"),!0):"date"==r?f.attr(i.attr("role"),"datepicker"):r==c?(f.remove(),o=n("<input type='radio'/>"),v=u.wrapper,a=i.guid(),l=n("<label/>").text(t.messages.isTrue).append(o),o.attr(i.attr("bind"),"checked:value").attr("name",a).val("true"),s=l.clone().text(t.messages.isFalse),o.clone().val("false").appendTo(s),v.append([l,s])):"number"==r?f.attr(i.attr("role"),"numerictextbox").attr("title",u._getColumnTitle()):r==h&&f.attr(i.attr("role"),"combobox").attr(i.attr("text-field"),"text").attr(i.attr("suggest"),!0).attr(i.attr("filter"),"contains").attr(i.attr("value-field"),"value").attr(i.attr("value-primitive"),!0)},_getColumnTitle:function(){var n=this.options.column;return n?n.title||n.field:""},_createOperatorDropDown:function(t){var u,r,e=[],f=this.viewModel;for(u in t)e.push({text:t[u],value:u});r=n('<input class="k-dropdown-operator" '+i.attr("bind")+'="value: operator"/>').appendTo(this.wrapper),this.operatorDropDown=r.kendoDropDownList({dataSource:e,dataTextField:"text",dataValueField:"value",open:function(){this.popup.element.width(150)},valuePrimitive:!0}).data("kendoDropDownList"),f.bind("change",function(){var n=t[f.operator];r.attr("aria-label",n)}),this.operatorDropDown.wrapper.find(".k-i-arrow-60-down").removeClass("k-i-arrow-60-down").addClass("k-i-filter")},initSuggestDataSource:function(n){var i=n.suggestDataSource;i instanceof l||(!n.customDataSource&&i&&(i.group=t),i=this.suggestDataSource=l.create(i)),n.customDataSource||(i._pageSize=t,i.reader.data=k(i.reader.data,this.options.field)),this.suggestDataSource=i},setAutoCompleteSource:function(){var n=this.input.data("kendoAutoComplete");n&&n.setDataSource(this.suggestDataSource)},setComboBoxSource:function(n){var i=l.create({data:n}),t=this.input.data("kendoComboBox");t&&!this.options.template&&t.setDataSource(i)},_refreshUI:function(){var i=this,t=y(i.dataSource.filter(),this.options.field)||{},r=i.viewModel;i.manuallyUpdatingVM=!0,t=n.extend(!0,{},t),i.options.type==c&&r.value!==t.value&&i.wrapper.find(":radio").prop("checked",!1),t.operator&&r.set("operator",t.operator),r.set("value",t.value),i.manuallyUpdatingVM=!1},updateDsFilter:function(i){var e,s,o,c,f=this,h=f.viewModel;f.manuallyUpdatingVM||"operator"==i.field&&h.value===t&&!u(h)||"operator"==i.field&&f._clearInProgress&&null!==h.value||(e=n.extend({},f.viewModel.toJSON(),{field:f.options.field}),s={logic:"and",filters:[]},o=!1,(e.value!==t&&null!==e.value||u(e)&&!this._clearInProgress)&&(s.filters.push(e),o=f.trigger(r,{filter:s,field:f.options.field})),(f._clearInProgress||null===e.value)&&(o=f.trigger(r,{filter:null,field:f.options.field})),o||(c=f._merge(s),f.dataSource.filter(c.filters.length?c:{})))},_merge:function(t){var o,f,s,e=this,h=t.logic||"and",r=t.filters,i=e.dataSource.filter()||{filters:[],logic:"and"};for(v(i,e.options.field),f=0,s=r.length;f<s;f++)o=r[f],o.value=e._parse(o.value);return r=n.grep(r,function(n){return""!==n.value&&null!==n.value||u(n)}),r.length&&(i.filters.length?(t.filters=r,"and"!==i.logic&&(i.filters=[{logic:i.logic,filters:i.filters}],i.logic="and"),i.filters.push(r.length>1?t:r[0])):(i.filters=r,i.logic=h)),i},_createClearIcon:function(){var t=this;n("<button type='button' class='k-button k-button-icon' title = "+t.options.messages.clear+"/>").attr("aria-label",t.options.messages.clear).attr(i.attr("bind"),"visible:operatorVisible").html("<span class='k-icon k-i-filter-clear'></span>").click(s(t.clearFilter,t)).appendTo(t.wrapper)},clearFilter:function(){this._clearInProgress=!0,u(this.viewModel.operator)&&this.viewModel.set("operator",this.defaultOperator),this.viewModel.set("value",null),this._clearInProgress=!1},_angularItems:function(n){var i=this.wrapper.closest("th").get(),t=this.options.column;this.angular(n,function(){return{elements:i,data:[{column:t}]}})},destroy:function(){var n=this;n.filterModel=null,n.operatorDropDown=null,n._angularItems("cleanup"),n._refreshHandler&&(n.dataSource.bind(r,n._refreshHandler),n._refreshHandler=null),i.unbind(n.element),a.fn.destroy.call(n),i.destroy(n.element)},events:[r],options:{name:"FilterCell",delay:200,minLength:1,inputWidth:null,values:t,customDataSource:!1,field:"",dataTextField:"",type:"string",suggestDataSource:null,suggestionOperator:"startswith",operator:"eq",showOperators:!0,template:null,messages:{isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",operator:"Operator"},operators:{string:{eq:f,neq:o,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with",isnull:"Is null",isnotnull:"Is not null",isempty:"Is empty",isnotempty:"Is not empty",isnullorempty:"Has no value",isnotnullorempty:"Has value"},number:{eq:f,neq:o,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than",isnull:"Is null",isnotnull:"Is not null"},date:{eq:f,neq:o,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before",isnull:"Is null",isnotnull:"Is not null"},enums:{eq:f,neq:o,isnull:"Is null",isnotnull:"Is not null"}}}});p.plugin(w)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.pager.min",["kendo.data.min"],n)}(function(){return function(n,t){function a(n,t,r,u,f){return n({idx:t,text:r,ns:i.ns,numeric:u,title:f||""})}function p(n,t,i,r){return n({idx:t,text:i||t,selected:r||!1})}function e(n,t,i){return it({className:n.substring(1),text:t,wrapClassName:i||""})}function o(n,t,r,u){n.find(t).parent().attr(i.attr("page"),r).attr("tabindex",-1).toggleClass("k-state-disabled",u)}function g(n,t){o(n,l,1,t<=1)}function k(n,t){o(n,v,Math.max(1,t-1),t<=1)}function b(n,t,i){o(n,h,Math.min(i,t+1),t>=i)}function d(n,t,i){o(n,c,i,t>=i)}var i=window.kendo,nt=i.ui,s=nt.Widget,f=n.proxy,l=".k-i-arrow-end-left",c=".k-i-arrow-end-right",v=".k-i-arrow-60-left",h=".k-i-arrow-60-right",y="k-pager-md k-pager-sm",u="change",r=".kendoPager",w="click",ut="keydown",ft="disabled",et="down",tt=Number.MAX_VALUE,it=i.template('<a href="\\#" aria-label="#=text#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #"></span></a>'),rt=s.extend({init:function(t,o){var p,y,tt,it,a=this,nt=null;s.fn.init.call(a,t,o),o=a.options,a._createDataSource(o),a.linkTemplate=i.template(a.options.linkTemplate),a.selectTemplate=i.template(a.options.selectTemplate),a.currentPageTemplate=i.template(a.options.currentPageTemplate),a.numericSelectItemTemplate=i.template(a.options.numericSelectItemTemplate),p=a.page(),y=a.totalPages(),a._refreshHandler=f(a.refresh,a),a.dataSource.bind(u,a._refreshHandler),a.downEvent=i.applyEventMap(et,i.guid()),o.previousNext&&(a.element.find(l).length||(a.element.append(e(l,o.messages.first,"k-pager-first")),g(a.element,p,y)),a.element.find(v).length||(a.element.append(e(v,o.messages.previous)),k(a.element,p,y))),o.numeric&&(a._numericWrap||(a._numericWrap=a.element.find(".k-pager-numbers-wrap"),0===a._numericWrap.length&&(a._numericWrap=n("<div class='k-pager-numbers-wrap' />").appendTo(a.element))),a._numericSelect||(a._numericSelect=a._numericWrap.find(".k-dropdown"),0===a._numericSelect.length&&(a._numericSelect=n("<select class='k-dropdown' />").appendTo(a._numericWrap))),a.list||(a.list=a._numericWrap.find(".k-pager-numbers"),0===a.list.length&&(a.list=n('<ul class="k-pager-numbers" />').appendTo(a._numericWrap))),o.dataSource&&!o.dataSource.total()&&(a._numericSelect.empty().append("<option value='0' />"),a.list.empty().append(a.selectTemplate({text:0})))),o.input&&(a.element.find(".k-pager-input").length||a.element.append('<span class="k-pager-input k-label">'+o.messages.page+'<input class="k-textbox">'+i.format(o.messages.of,y)+"</span>"),a.element.on(ut+r,".k-pager-input input",f(a._keydown,a))),o.previousNext&&(a.element.find(h).length||(a.element.append(e(h,o.messages.next)),b(a.element,p,y)),a.element.find(c).length||(a.element.append(e(c,o.messages.last,"k-pager-last")),d(a.element,p,y))),o.pageSizes&&(a.element.find(".k-pager-sizes").length||(tt=o.pageSizes.length?o.pageSizes:["all",5,10,20],it=n.map(tt,function(n){return n.toLowerCase&&"all"===n.toLowerCase()?"<option value='all'>"+o.messages.allPages+"</option>":"<option>"+n+"</option>"}),n('<span class="k-pager-sizes k-label"><select></select>'+o.messages.itemsPerPage+"</span>").appendTo(a.element).find("select").html(it.join("")).end().appendTo(a.element)),a.element.find(".k-pager-sizes select").val(a.pageSize()),i.ui.DropDownList&&a.element.find(".k-pager-sizes select").show().kendoDropDownList(),a.element.on(u+r,".k-pager-sizes select",f(a._change,a))),o.refresh&&(a.element.find(".k-pager-refresh").length||a.element.append('<a href="#" class="k-pager-refresh k-link" title="'+o.messages.refresh+'" aria-label="'+o.messages.refresh+'"><span class="k-icon k-i-reload"></span></a>'),a.element.on(w+r,".k-pager-refresh",f(a._refreshClick,a))),o.info&&(a.element.find(".k-pager-info").length||a.element.append('<span class="k-pager-info k-label" />')),a.element.on(w+r,"a",f(a._click,a)).on(u+r,"select.k-dropdown",f(a._numericSelectChange,a)).addClass("k-pager-wrap k-widget k-floatwrap"),o.autoBind&&a.refresh(),a._resizeHandler=f(a.resize,a,!0),n(window).on("resize"+r,a._resizeHandler),nt=a._getWidthSizeClass(a.element.width()),nt&&a.element.addClass(nt),i.notify(a)},destroy:function(){var t=this;s.fn.destroy.call(t),t.element.off(r),t.dataSource.unbind(u,t._refreshHandler),t._refreshHandler=null,n(window).off("resize"+r,this._resizeHandler),i.destroy(t.element),t.element=t.list=null},events:[u],options:{name:"Pager",selectTemplate:'<li><span class="k-link k-state-selected">#=text#</span></li>',currentPageTemplate:'<li class="k-current-page"><span class="k-link k-pager-nav">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#</a></li>',numericItemTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#</a></li>',numericSelectItemTemplate:'<option value="#= idx #" #if (selected) {# selected="selected" #}#>#= text #</option>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,responsive:!0,messages:{allPages:"All",display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh",morePages:"More pages"}},setDataSource:function(n){var t=this;t.dataSource.unbind(u,t._refreshHandler),t.dataSource=t.options.dataSource=n,n.bind(u,t._refreshHandler),t.options.autoBind&&n.fetch()},_resize:function(n){var i,t;n.width&&(i=this._getWidthSizeClass(n.width),t=this.element,i?t.hasClass(i)||(t.removeClass(y),t.addClass(i)):t.removeClass(y))},_createDataSource:function(n){this.dataSource=i.data.DataSource.create(n.dataSource)},refresh:function(t){var e,rt,ut,et,ot,w,r=this,c=1,f=r.page(),o="",l="",u=r.options,s=r.pageSize(),st=r._collapsedTotal(),v=r.dataSource._isGroupPaged()?r.dataSource.groupsTotal():r.dataSource.total(),h=r.totalPages(),nt=r.linkTemplate,it=r.numericSelectItemTemplate,y=u.buttonCount;if(!t||"itemchange"!=t.action){if(u.numeric){for(f>y&&(ut=f%y,c=0===ut?f-y+1:f-ut+1),rt=Math.min(c+y-1,h),c>1&&(o+=a(nt,c-1,"...",!1,u.messages.morePages),l+=p(it,c-1,u.messages.morePages)),e=c;e<=rt;e++)o+=a(e==f?r.selectTemplate:nt,e,e,!0),l+=p(it,e,e,e==f);rt<h&&(o+=a(nt,e,"...",!1,u.messages.morePages),l+=p(it,e,u.messages.morePages)),""===o&&(o=r.selectTemplate({text:0}),l=n("<option value='0' />")),r.list.html(o),r._numericSelect.html(l)}u.info&&(o=v>0?i.format(u.messages.display,r.dataSource.options.endless?1:Math.min((f-1)*(r.dataSource.pageSize()||0)+1,st),Math.min(f*s,st),v):u.messages.empty,r.element.find(".k-pager-info").html(o)),u.input&&r.element.find(".k-pager-input").html(r.options.messages.page+'<input class="k-textbox" aria-label="'+f+'">'+i.format(u.messages.of,h)).find("input").val(f).attr(ft,v<1).toggleClass("k-state-disabled",v<1),u.previousNext&&(g(r.element,f,h),k(r.element,f,h),b(r.element,f,h),d(r.element,f,h)),u.pageSizes&&(et=r.element.find(".k-pager-sizes option[value='all']").length>0,ot=et&&(s===this.dataSource.total()||s==tt),w=s,ot&&(s="all",w=u.messages.allPages),r.element.find(".k-pager-sizes select").val(s).attr("aria-label",s).filter("["+i.attr("role")+"=dropdownlist]").kendoDropDownList("value",s).kendoDropDownList("text",w))}},_collapsedTotal:function(){return this.dataSource.total()},_keydown:function(n){if(n.keyCode===i.keys.ENTER){var r=this.element.find(".k-pager-input").find("input"),t=parseInt(r.val(),10);(isNaN(t)||t<1||t>this.totalPages())&&(t=this.page()),r.val(t),this.page(t)}},_refreshClick:function(n){n.preventDefault(),this.dataSource.read()},_change:function(n){var r=n.currentTarget.value,u=parseInt(r,10),i=this.dataSource;isNaN(u)?"all"==(r+"").toLowerCase()&&(i._pageSize=t,i._take=t,i._skip=0,i.fetch()):i.pageSize(u)},_numericSelectChange:function(n){var t=n.currentTarget,r=t.value,i=parseInt(r,10);t.blur(),this.page(i)},_click:function(t){var r=n(t.currentTarget);t.preventDefault(),r.is(".k-state-disabled")||this.page(parseInt(r.attr(i.attr("page")),10))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/(this.pageSize()||1))},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(n){return n?(this.trigger("pageChange",{index:n})||(this.dataSource.page(n),this.trigger(u,{index:n})),t):this.dataSource.total()>0?this.dataSource.page():0},_getWidthSizeClass:function(n){var i=this,t=y.split(" ");return i.options.responsive?n<=480?t[1]:n<=600?t[0]:null:null}});nt.plugin(rt)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.draganddrop.min",["kendo.core.min","kendo.userevents.min"],n)}(function(){return function(n,t){function ri(t,i){try{return n.contains(t,i)||t==i}catch(r){return!1}}function p(n,t){return parseInt(n.css(t),10)||0}function dt(n,t){return Math.min(Math.max(n,t.min),t.max)}function gt(n,t){var f=tt(n),s=i._outerWidth,h=i._outerHeight,r=f.left+p(n,"borderLeftWidth")+p(n,"paddingLeft"),u=f.top+p(n,"borderTopWidth")+p(n,"paddingTop"),o=r+n.width()-s(t,!0),e=u+n.height()-h(t,!0);return{x:{min:r,max:o},y:{min:u,max:e}}}function fi(i,r,u){for(var o,e,f=0,h=r&&r.length,s=u&&u.length;i&&i.parentNode;){for(f=0;f<h;f++)if(o=r[f],o.element[0]===i)return{target:o,targetElement:i};for(f=0;f<s;f++)if(e=u[f],n.contains(e.element[0],i)&&b.matchesSelector.call(i,e.options.filter))return{target:e,targetElement:i};i=i.parentNode}return t}function bt(n,t){var r,u=t.options.group,i=n[u];if(h.fn.destroy.call(t),i.length>1){for(r=0;r<i.length;r++)if(i[r]==t){i.splice(r,1);break}}else i.length=0,delete n[u]}function kt(n){var t,u,r,i=nt()[0];return n[0]===i?(u=i.scrollTop,r=i.scrollLeft,{top:u,left:r,bottom:u+v.height(),right:r+v.width()}):(t=n.offset(),t.bottom=t.top+n.height(),t.right=t.left+n.width(),t)}function nt(){return n(i.support.browser.edge||i.support.browser.safari?e.body:e.documentElement)}function pt(t){var r,u=nt();if(!t||t===e.body||t===e.documentElement)return u;for(r=n(t)[0];r&&!i.isScrollable(r)&&r!==e.body;)r=r.parentNode;return r===e.body?u:n(r)}function wt(n,t,i){var u={x:0,y:0},r=50;return n-i.left<r?u.x=-(r-(n-i.left)):i.right-n<r&&(u.x=r-(i.right-n)),t-i.top<r?u.y=-(r-(t-i.top)):i.bottom-t<r&&(u.y=r-(i.bottom-t)),u}var f,g,at,l,vt,yt,i=window.kendo,b=i.support,e=window.document,v=n(window),ui=i.Class,h=i.ui.Widget,o=i.Observable,oi=i.UserEvents,u=n.proxy,r=n.extend,tt=i.getOffset,w={},s={},c={},k=i.elementUnderCursor,it="keyup",a="change",ct="dragstart",lt="hold",et="drag",ut="dragend",st="dragcancel",ot="hintDestroyed",d="dragenter",y="dragleave",ht="drop",ei=o.extend({init:function(t,r){var f=this,e=t[0];f.capture=!1,e.addEventListener?(n.each(i.eventMap.down.split(" "),function(){e.addEventListener(this,u(f._press,f),!0)}),n.each(i.eventMap.up.split(" "),function(){e.addEventListener(this,u(f._release,f),!0)})):(n.each(i.eventMap.down.split(" "),function(){e.attachEvent(this,u(f._press,f))}),n.each(i.eventMap.up.split(" "),function(){e.attachEvent(this,u(f._release,f))})),o.fn.init.call(f),f.bind(["press","release"],r||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(n){var t=this;t.trigger("press"),t.capture&&n.preventDefault()},_release:function(n){var t=this;t.trigger("release"),t.capture&&(n.preventDefault(),t.cancelCapture())}}),rt=o.extend({init:function(t){var i=this;o.fn.init.call(i),i.forcedEnabled=!1,n.extend(i,t),i.scale=1,i.horizontal?(i.measure="offsetWidth",i.scrollSize="scrollWidth",i.axis="x"):(i.measure="offsetHeight",i.scrollSize="scrollHeight",i.axis="y")},makeVirtual:function(){n.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(n,t){this._virtualMin===n&&this._virtualMax===t||(this._virtualMin=n,this._virtualMax=t,this.update())},outOfBounds:function(n){return n>this.max||n<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(n){this.scale=n},update:function(n){var t=this,u=t.virtual?t._virtualMax:t.getTotal(),r=u*t.scale,i=t.getSize();(0!==u||t.forcedEnabled)&&(t.max=t.virtual?-t._virtualMin:0,t.size=i,t.total=r,t.min=Math.min(t.max,i-r),t.minScale=i/u,t.centerOffset=(r-i)/2,t.enabled=t.forcedEnabled||r>i,n||t.trigger(a,t))}}),ni=o.extend({init:function(n){var t=this;o.fn.init.call(t),t.x=new rt(r({horizontal:!0},n)),t.y=new rt(r({horizontal:!1},n)),t.container=n.container,t.forcedMinScale=n.minScale,t.maxScale=n.maxScale||100,t.bind(a,n)},rescale:function(n){this.x.rescale(n),this.y.rescale(n),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var n=this;n.x.update(),n.y.update(),n.enabled=n.x.enabled||n.y.enabled,n.minScale=n.forcedMinScale||Math.min(n.x.minScale,n.y.minScale),n.fitScale=Math.max(n.x.minScale,n.y.minScale),n.trigger(a)}}),ft=o.extend({init:function(n){var t=this;r(t,n),o.fn.init.call(t)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(n){var t=this,i=t.dimension,f=t.axis,u=t.movable,r=u[f]+n;i.enabled&&((r<i.min&&n<0||r>i.max&&n>0)&&(n*=t.resistance),u.translateAxis(f,n),t.trigger(a,t))}}),ii=ui.extend({init:function(t){var e,f,o,u,i=this;r(i,{elastic:!0},t),o=i.elastic?.5:0,u=i.movable,i.x=e=new ft({axis:"x",dimension:i.dimensions.x,resistance:o,movable:u}),i.y=f=new ft({axis:"y",dimension:i.dimensions.y,resistance:o,movable:u}),i.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart:function(n){i.gesture=n,i.offset=i.dimensions.container.offset()},press:function(t){n(t.event.target).closest("a").is("[data-navigate-on-press=true]")&&t.sender.cancel()},gesturechange:function(n){var s,r,o,l=i.gesture,a=l.center,c=n.center,t=n.distance/l.distance,v=i.dimensions.minScale,h=i.dimensions.maxScale;u.scale<=v&&t<1&&(t+=.8*(1-t)),u.scale*t>=h&&(t=h/u.scale),r=u.x+i.offset.left,o=u.y+i.offset.top,s={x:(r-a.x)*t+c.x-r,y:(o-a.y)*t+c.y-o},u.scaleWith(t),e.dragMove(s.x),f.dragMove(s.y),i.dimensions.rescale(u.scale),i.gesture=n,n.preventDefault()},move:function(n){n.event.target.tagName.match(/textarea|input/i)||(e.dimension.enabled||f.dimension.enabled?(e.dragMove(n.x.delta),f.dragMove(n.y.delta),n.preventDefault()):n.touch.skip())},end:function(n){n.preventDefault()}})}}),ti=b.transitions.prefix+"Transform";g=b.hasHW3D?function(n,t,i){return"translate3d("+n+"px,"+t+"px,0) scale("+i+")"}:function(n,t,i){return"translate("+n+"px,"+t+"px) scale("+i+")"},at=o.extend({init:function(t){var i=this;o.fn.init.call(i),i.element=n(t),i.element[0].style.webkitTransformOrigin="left top",i.x=0,i.y=0,i.scale=1,i._saveCoordinates(g(i.x,i.y,i.scale))},translateAxis:function(n,t){this[n]+=t,this.refresh()},scaleTo:function(n){this.scale=n,this.refresh()},scaleWith:function(n){this.scale*=n,this.refresh()},translate:function(n){this.x+=n.x,this.y+=n.y,this.refresh()},moveAxis:function(n,t){this[n]=t,this.refresh()},moveTo:function(n){r(this,n),this.refresh()},refresh:function(){var t,n=this,u=n.x,r=n.y;n.round&&(u=Math.round(u),r=Math.round(r)),t=g(u,r,n.scale),t!=n.coordinates&&(i.support.browser.msie&&i.support.browser.version<10?(n.element[0].style.position="absolute",n.element[0].style.left=n.x+"px",n.element[0].style.top=n.y+"px"):n.element[0].style[ti]=t,n._saveCoordinates(t),n.trigger(a))},_saveCoordinates:function(n){this.coordinates=n}}),l=h.extend({init:function(n,t){var r,i=this;h.fn.init.call(i,n,t),r=i.options.group,r in s?s[r].push(i):s[r]=[i]},events:[d,y,ht],options:{name:"DropTarget",group:"default"},destroy:function(){bt(s,this)},_trigger:function(n,t){var u=this,i=w[u.options.group];if(i)return u.trigger(n,r({},t.event,{draggable:i,dropTarget:t.dropTarget}))},_over:function(n){this._trigger(d,n)},_out:function(n){this._trigger(y,n)},_drop:function(n){var i=this,t=w[i.options.group];t&&(t.dropped=!i._trigger(ht,n))}}),l.destroyGroup=function(n){var i,t=s[n]||c[n];if(t){for(i=0;i<t.length;i++)h.fn.destroy.call(t[i]);t.length=0,delete s[n],delete c[n]}},l._cache=s,vt=l.extend({init:function(n,t){var r,i=this;h.fn.init.call(i,n,t),r=i.options.group,r in c?c[r].push(i):c[r]=[i]},destroy:function(){bt(c,this)},options:{name:"DropTargetArea",group:"default",filter:null}}),yt=h.extend({init:function(n,t){var r=this;h.fn.init.call(r,n,t),r._activated=!1,r.userEvents=new oi(r.element,{global:!0,allowSelection:!0,filter:r.options.filter,threshold:r.options.distance,start:u(r._start,r),hold:u(r._hold,r),move:u(r._drag,r),end:u(r._end,r),cancel:u(r._cancel,r),select:u(r._select,r)}),i.support.touch&&r.element.find(r.options.filter).css("touch-action","none"),r._afterEndHandler=u(r._afterEnd,r),r._captureEscape=u(r._captureEscape,r)},events:[lt,ct,et,ut,st,ot],options:{name:"Draggable",distance:i.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,autoScroll:!1,dropped:!1},cancelHold:function(){this._activated=!1},_captureEscape:function(n){var t=this;n.keyCode===i.keys.ESC&&(t._trigger(st,{event:n}),t.userEvents.cancel())},_updateHint:function(t){var i,r=this,o=r.options,u=r.boundaries,e=o.axis,f=r.options.cursorOffset;f?i={left:t.x.location+f.left,top:t.y.location+f.top}:(r.hintOffset.left+=t.x.delta,r.hintOffset.top+=t.y.delta,i=n.extend({},r.hintOffset)),u&&(i.top=dt(i.top,u.y),i.left=dt(i.left,u.x)),"x"===e?delete i.top:"y"===e&&delete i.left,r.hint.css(i)},_shouldIgnoreTarget:function(t){var i=this.options.ignore;return i&&n(t).is(i)},_select:function(n){this._shouldIgnoreTarget(n.event.target)||n.preventDefault()},_start:function(r){var s,u=this,f=u.options,h=f.container?n(f.container):null,o=f.hint;return this._shouldIgnoreTarget(r.touch.initialTouch)||f.holdToDrag&&!u._activated?(u.userEvents.cancel(),t):(u.currentTarget=r.target,u.currentTargetOffset=tt(u.currentTarget),o&&(u.hint&&u.hint.stop(!0,!0).remove(),u.hint=i.isFunction(o)?n(o.call(u,u.currentTarget)):o,s=tt(u.currentTarget),u.hintOffset=s,u.hint.css({position:"absolute",zIndex:2e4,left:s.left,top:s.top}).appendTo(e.body),u.angular("compile",function(){u.hint.removeAttr("ng-repeat");for(var t=n(r.target);!t.data("$$kendoScope")&&t.length;)t=t.parent();return{elements:u.hint.get(),scopeFrom:t.data("$$kendoScope")}})),w[f.group]=u,u.dropped=!1,h&&(u.boundaries=gt(h,u.hint)),n(e).on(it,u._captureEscape),u._trigger(ct,r)&&(u.userEvents.cancel(),u._afterEnd()),u.userEvents.capture(),t)},_hold:function(n){this.currentTarget=n.target,this._trigger(lt,n)?this.userEvents.cancel():this._activated=!0},_drag:function(t){var i,r;t.preventDefault(),i=this._elementUnderCursor(t),this.options.autoScroll&&this._cursorElement!==i&&(this._scrollableParent=pt(i),this._cursorElement=i),this._lastEvent=t,this._processMovement(t,i),this.options.autoScroll&&this._scrollableParent[0]&&(r=wt(t.x.location,t.y.location,kt(this._scrollableParent)),this._scrollCompenstation=n.extend({},this.hintOffset),this._scrollVelocity=r,0===r.y&&0===r.x?(clearInterval(this._scrollInterval),this._scrollInterval=null):this._scrollInterval||(this._scrollInterval=setInterval(n.proxy(this,"_autoScroll"),50))),this.hint&&this._updateHint(t)},_processMovement:function(i,u){this._withDropTarget(u,function(u,e){if(!u)return f&&(f._trigger(y,r(i,{dropTarget:n(f.targetElement)})),f=null),t;if(f){if(e===f.targetElement)return;f._trigger(y,r(i,{dropTarget:n(f.targetElement)}))}u._trigger(d,r(i,{dropTarget:n(e)})),f=r(u,{targetElement:e})}),this._trigger(et,r(i,{dropTarget:f,elementUnderCursor:u}))},_autoScroll:function(){var l,s,o,c,h,r,u,i,n=this._scrollableParent[0],t=this._scrollVelocity,f=this._scrollCompenstation;n&&(l=this._elementUnderCursor(this._lastEvent),this._processMovement(this._lastEvent,l),c=n===nt()[0],c?(s=e.body.scrollHeight>v.height(),o=e.body.scrollWidth>v.width()):(s=n.offsetHeight<=n.scrollHeight,o=n.offsetWidth<=n.scrollWidth),h=n.scrollTop+t.y,r=s&&h>0&&h<n.scrollHeight,u=n.scrollLeft+t.x,i=o&&u>0&&u<n.scrollWidth,r&&(n.scrollTop+=t.y),i&&(n.scrollLeft+=t.x),this.hint&&c&&(i||r)&&(r&&(f.top+=t.y),i&&(f.left+=t.x),this.hint.css(f)))},_end:function(t){this._withDropTarget(this._elementUnderCursor(t),function(i,u){i&&(i._drop(r({},t,{dropTarget:n(u)})),f=null)}),this._cancel(this._trigger(ut,t))},_cancel:function(n){var t=this;t._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),t._activated=!1,t.hint&&!t.dropped?setTimeout(function(){t.hint.stop(!0,!0),n?t._afterEndHandler():t.hint.animate(t.currentTargetOffset,"fast",t._afterEndHandler)},0):t._afterEnd()},_trigger:function(n,t){var i=this;return i.trigger(n,r({},t.event,{x:t.x,y:t.y,currentTarget:i.currentTarget,initialTarget:t.touch?t.touch.initialTouch:null,dropTarget:t.dropTarget,elementUnderCursor:t.elementUnderCursor}))},_elementUnderCursor:function(n){var t=k(n),i=this.hint;return i&&ri(i[0],t)&&(i.hide(),t=k(n),t||(t=k(n)),i.show()),t},_withDropTarget:function(n,t){var i,f=this.options.group,u=s[f],r=c[f];(u&&u.length||r&&r.length)&&(i=fi(n,u,r),i?t(i.target,i.targetElement):t())},destroy:function(){var n=this;h.fn.destroy.call(n),n._afterEnd(),n.userEvents.destroy(),this._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),n.currentTarget=null},_afterEnd:function(){var t=this;t.hint&&t.hint.remove(),delete w[t.options.group],t.trigger("destroy"),t.trigger(ot),n(e).off(it,t._captureEscape)}}),i.ui.plugin(l),i.ui.plugin(vt),i.ui.plugin(yt),i.TapCapture=ei,i.containerBoundaries=gt,r(i.ui,{Pane:ii,PaneDimensions:ni,Movable:at}),i.ui.Draggable.utils={autoScrollVelocity:wt,scrollableViewPort:kt,findScrollableParent:pt}}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.reorderable.min",["kendo.core.min","kendo.draganddrop.min"],n)}(function(){return function(n){function e(t,i){t=n(t),i?t.find(".k-drag-status").removeClass("k-i-plus").addClass("k-i-cancel"):t.find(".k-drag-status").removeClass("k-i-cancel").addClass("k-i-plus")}var i=window.kendo,o=i._outerWidth,c=i._outerHeight,r=i.getOffset,u=i.ui.Widget,f="change",h="k-reorderable",s=u.extend({init:function(t,s){var a,l=this,v=i.guid()+"-reorderable";u.fn.init.call(l,t,s),t=l.element.addClass(h),s=l.options,l.draggable=a=s.draggable||new i.ui.Draggable(t,{group:v,autoScroll:!0,filter:s.filter,hint:s.hint}),l.reorderDropCue=n('<div class="k-reorder-cue"></div></div>'),t.find(a.options.filter).kendoDropTarget({group:a.options.group,dragenter:function(n){var t,f,u,i;l._draggable&&(t=this.element,u=!l._dropTargetAllowed(t)||l._isLastDraggable(),e(n.draggable.hint,u),u||(f=r(t),i=f.left,s.inSameContainer&&!s.inSameContainer({source:t,target:l._draggable,sourceIndex:l._index(t),targetIndex:l._index(l._draggable)})?l._dropTarget=t:l._index(t)>l._index(l._draggable)&&(i+=o(t)),l.reorderDropCue.css({height:c(t),top:f.top,left:i}).appendTo(document.body)))},dragleave:function(n){e(n.draggable.hint,!0),l.reorderDropCue.remove(),l._dropTarget=null},drop:function(){var n,t;l._dropTarget=null,l._draggable&&(n=this.element,t=l._draggable,l._dropTargetAllowed(n)&&!l._isLastDraggable()&&l.trigger(f,{element:l._draggable,target:n,oldIndex:l._index(t),newIndex:l._index(n),position:r(l.reorderDropCue).left>r(n).left?"after":"before"}))}}),a.bind(["dragcancel","dragend","dragstart","drag"],{dragcancel:function(){l.reorderDropCue.remove(),l._draggable=null,l._elements=null},dragend:function(){l.reorderDropCue.remove(),l._draggable=null,l._elements=null},dragstart:function(n){l._draggable=n.currentTarget,l._elements=l.element.find(l.draggable.options.filter)},drag:function(n){var t,i;l._dropTarget&&!this.hint.find(".k-drag-status").hasClass("k-i-cancel")&&(t=r(l._dropTarget).left,i=o(l._dropTarget),l.reorderDropCue.css(n.pageX>t+i/2?{left:t+i}:{left:t}))}})},options:{name:"Reorderable",filter:"*"},events:[f],_isLastDraggable:function(){var n,r=this.options.inSameContainer,i=this._draggable[0],u=this._elements.get(),t=!1;if(!r)return!1;for(;!t&&u.length>0;)n=u.pop(),t=i!==n&&r({source:i,target:n,sourceIndex:this._index(i),targetIndex:this._index(n)});return!t},_dropTargetAllowed:function(n){var i=this.options.inSameContainer,r=this.options.dragOverContainers,t=this._draggable;return t[0]!==n[0]&&(!i||!r||!!i({source:t,target:n,sourceIndex:this._index(t),targetIndex:this._index(n)})||r(this._index(t),this._index(n)))},_index:function(n){return this._elements.index(n)},destroy:function(){var t=this;u.fn.destroy.call(t),t.element.find(t.draggable.options.filter).each(function(){var t=n(this);t.data("kendoDropTarget")&&t.data("kendoDropTarget").destroy()}),t.draggable&&(t.draggable.destroy(),t.draggable.element=t.draggable=null),t.elements=t.reorderDropCue=t._elements=t._draggable=null}});i.ui.plugin(s)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.resizable.min",["kendo.core.min","kendo.draganddrop.min"],n)}(function(){return function(n,t){var f=window.kendo,c=f.ui,e=c.Widget,r=n.proxy,u=f.isFunction,l=n.extend,i="horizontal",a="vertical",o="start",h="resize",s="resizeend",v=e.extend({init:function(n,t){var u=this;e.fn.init.call(u,n,t),u.orientation=u.options.orientation.toLowerCase()!=a?i:a,u._positionMouse=u.orientation==i?"x":"y",u._position=u.orientation==i?"left":"top",u._sizingDom=u.orientation==i?"outerWidth":"outerHeight",u.draggable=new c.Draggable(t.draggableElement||n,{distance:1,filter:t.handle,drag:r(u._resize,u),dragcancel:r(u._cancel,u),dragstart:r(u._start,u),dragend:r(u._stop,u)}),u.userEvents=u.draggable.userEvents},events:[h,s,o],options:{name:"Resizable",orientation:i},resize:function(){},_max:function(n){var r=this,f=r.hint?r.hint[r._sizingDom]():0,i=r.options.max;return u(i)?i(n):i!==t?r._initialElementPosition+i-f:i},_min:function(n){var r=this,i=r.options.min;return u(i)?i(n):i!==t?r._initialElementPosition+i:i},_start:function(t){var i=this,r=i.options.hint,f=n(t.currentTarget);i._initialElementPosition=f.position()[i._position],i._initialMousePosition=t[i._positionMouse].startLocation,r&&(i.hint=u(r)?n(r(f)):r,i.hint.css({position:"absolute"}).css(i._position,i._initialElementPosition).appendTo(i.element)),i.trigger(o,t),i._maxPosition=i._max(t),i._minPosition=i._min(t),n(document.body).css("cursor",f.css("cursor"))},_resize:function(n){var r,i=this,f=i._maxPosition,u=i._minPosition,e=i._initialElementPosition+(n[i._positionMouse].location-i._initialMousePosition);r=u!==t?Math.max(u,e):e,i.position=r=f!==t?Math.min(f,r):r,i.hint&&i.hint.toggleClass(i.options.invalidClass||"",r==f||r==u).css(i._position,r),i.resizing=!0,i.trigger(h,l(n,{position:r}))},_stop:function(t){var i=this;i.hint&&i.hint.remove(),i.resizing=!1,i.trigger(s,l(t,{position:i.position})),n(document.body).css("cursor","")},_cancel:function(n){var i=this;i.hint&&(i.position=t,i.hint.css(i._position,i._initialElementPosition),i._stop(n))},destroy:function(){var n=this;e.fn.destroy.call(n),n.draggable&&n.draggable.destroy()},press:function(n){if(n){var i=n.position(),t=this;t.userEvents.press(i.left,i.top,n[0]),t.targetPosition=i,t.target=n}},move:function(n){var r=this,f=r._position,i=r.targetPosition,u=r.position;u===t&&(u=i[f]),i[f]=u+n,r.userEvents.move(i.left,i.top)},end:function(){this.userEvents.end(),this.target=this.position=t}});f.ui.plugin(v)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.columnsorter.min",["kendo.core.min"],n)}(function(){return function(n,t){function p(r){var e=r.find("tr:not(.k-filter-row)"),u=i.attr("index"),f=e.find("th["+u+"]:visible");return f.sort(function(i,r){var e,f;return i=n(i),r=n(r),e=i.attr(u),f=r.attr(u),e===t&&(e=n(i).index()),f===t&&(f=n(r).index()),e=parseInt(e,10),f=parseInt(f,10),e>f?1:e<f?-1:0}),f}function w(n){var t=null;return n.is("th")&&(t=n.closest("table"),t.parent().hasClass("k-grid-header-wrap")?t=t.closest(".k-grid").find(".k-grid-content > table"):t.parent().hasClass("k-grid-header-locked")&&(t=t.closest(".k-grid").find(".k-grid-content-locked > table"))),t}var i=window.kendo,l=i.ui,e=l.Widget,u="dir",r="asc",a="single",s="field",f="desc",h=".kendoColumnSorter",c=".k-link",o="aria-sort",v=n.proxy,y=e.extend({init:function(n,t){var u,i=this;e.fn.init.call(i,n,t),i._refreshHandler=v(i.refresh,i),i.dataSource=i.options.dataSource.bind("change",i._refreshHandler),i.directions=i.options.initialDirection===r?[r,f]:[f,r],u=i.element.find(c),u[0]||(u=i.element.wrapInner('<a class="k-link" href="#"/>').find(c)),i.link=u,i.element.on("click"+h,v(i._click,i))},options:{name:"ColumnSorter",mode:a,allowUnsort:!0,compare:null,filter:"",initialDirection:r,showIndexes:!1},events:["change"],destroy:function(){var n=this;e.fn.destroy.call(n),n.element.off(h),n.dataSource.unbind("change",n._refreshHandler),n._refreshHandler=n.element=n.link=n.dataSource=null},refresh:function(e){if(!e||"itemchange"!==e.action&&"sync"!==e.action){var l,y,k,b,v,c=this,d=c.dataSource.sort()||[],h=c.element,g=h.attr(i.attr(s)),a=(c.dataSource._sortFields||{})[g];h.removeAttr(i.attr(u)),h.removeAttr(o),a&&(l=a.dir,h.attr(i.attr(u),l),v=a.index),h.is("th")&&a&&(y=w(h),y&&(h.attr(i.attr("index"))?(k=p(h.closest("table")),b=k.index(h)):b=h.parent().children(":visible").index(h),y.find("col:not(.k-group-col):not(.k-hierarchy-col)").eq(b).toggleClass("k-sorted",l!==t))),h.toggleClass("k-sorted",l!==t),h.find(".k-i-sort-asc-sm,.k-i-sort-desc-sm,.k-sort-order").remove(),l===r?(n('<span class="k-icon k-i-sort-asc-sm" />').appendTo(c.link),h.attr(o,"ascending")):l===f&&(n('<span class="k-icon k-i-sort-desc-sm" />').appendTo(c.link),h.attr(o,"descending")),c.options.showIndexes&&d.length>1&&v&&n('<span class="k-sort-order" />').html(v).appendTo(c.link)}},_toggleSortDirection:function(n){var i=this.directions;return n===i[i.length-1]&&this.options.allowUnsort?t:i[0]===n?i[1]:i[0]},_click:function(n){var e,y,r=this,c=r.element,l=c.attr(i.attr(s)),o=c.attr(i.attr(u)),h=r.options,v=null===r.options.compare?t:r.options.compare,f=r.dataSource.sort()||[];if(n.preventDefault(),(!h.filter||c.is(h.filter))&&(o=this._toggleSortDirection(o),!this.trigger("change",{sort:{field:l,dir:o,compare:v}}))){if(h.mode===a)f=[{field:l,dir:o,compare:v}];else if("multiple"===h.mode){for(e=0,y=f.length;e<y;e++)if(f[e].field===l){f.splice(e,1);break}f.push({field:l,dir:o,compare:v})}this.dataSource.options.endless&&(this.dataSource.options.endless=null,c.closest(".k-grid").getKendoGrid()._endlessPageSize=r.dataSource.options.pageSize,this.dataSource.pageSize(r.dataSource.options.pageSize)),this.dataSource.sort(f)}}});l.plugin(y)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.sortable.min",["kendo.draganddrop.min"],n)}(function(){return function(n,t){function w(t,i){try{return n.contains(t,i)||t==i}catch(r){return!1}}function g(n){return n.clone()}function d(n){return n.clone().removeAttr("id").css("visibility","hidden")}var i=window.kendo,u=i.ui.Widget,v=i._outerWidth,a=i._outerHeight,p="start",y="beforeMove",l="move",r="end",f="change",c="cancel",h="sort",o="remove",s="receive",k=">*",e=-1,b=u.extend({init:function(n,t){var i=this;u.fn.init.call(i,n,t),i.options.placeholder||(i.options.placeholder=d),i.options.hint||(i.options.hint=g),i.draggable=i._createDraggable()},events:[p,y,l,r,f,c],options:{name:"Sortable",hint:null,placeholder:null,filter:k,holdToDrag:!1,disabled:null,container:null,connectWith:null,handler:null,cursorOffset:null,axis:null,ignore:null,autoScroll:!1,cursor:"auto",moveOnDragEnter:!1},destroy:function(){this.draggable.destroy(),u.fn.destroy.call(this)},_createDraggable:function(){var r=this,u=r.element,t=r.options;return new i.ui.Draggable(u,{filter:t.filter,hint:i.isFunction(t.hint)?t.hint:n(t.hint),holdToDrag:t.holdToDrag,container:t.container?n(t.container):null,cursorOffset:t.cursorOffset,axis:t.axis,ignore:t.ignore,autoScroll:t.autoScroll,dragstart:n.proxy(r._dragstart,r),dragcancel:n.proxy(r._dragcancel,r),drag:n.proxy(r._drag,r),dragend:n.proxy(r._dragend,r)})},_dragstart:function(t){var r=this.draggedElement=t.currentTarget,e=this.options.disabled,f=this.options.handler,u=this.options.placeholder,o=this.placeholder=n(i.isFunction(u)?u.call(this,r):u);e&&r.is(e)?t.preventDefault():f&&!n(t.initialTarget).is(f)?t.preventDefault():this.trigger(p,{item:r,draggableEvent:t})?t.preventDefault():(r.css("display","none"),r.before(o),this._setCursor())},_dragcancel:function(){this._cancel(),this.trigger(c,{item:this.draggedElement}),this._resetCursor()},_drag:function(i){var l,h,f,e,v,y=this.draggedElement,r=this._findTarget(i),a={left:i.x.location,top:i.y.location},o={x:i.x.delta,y:i.y.delta},c=this.options.axis,u=this.options.moveOnDragEnter,s={item:y,list:this,draggableEvent:i};if("x"===c||"y"===c)return this._movementByAxis(c,a,o[c],s),t;if(r){if(l=this._getElementCenter(r.element),h={left:Math.round(a.left-l.left),top:Math.round(a.top-l.top)},n.extend(s,{target:r.element}),r.appendToBottom)return this._movePlaceholder(r,null,s),t;if(r.appendAfterHidden&&this._movePlaceholder(r,"next",s),this._isFloating(r.element)?o.x<0&&u||!u&&h.left<0?f="prev":(o.x>0&&u||!u&&h.left>0)&&(f="next"):o.y<0&&u||!u&&h.top<0?f="prev":(o.y>0&&u||!u&&h.top>0)&&(f="next"),f){for(v="prev"===f?jQuery.fn.prev:jQuery.fn.next,e=v.call(r.element);e.length&&!e.is(":visible");)e=v.call(e);e[0]!=this.placeholder[0]&&this._movePlaceholder(r,f,s)}}},_dragend:function(i){var l,w,u,v,a=this.placeholder,c=this.draggedElement,p=this.indexOf(c),y=this.indexOf(a),b=this.options.connectWith;return this._resetCursor(),u={action:h,item:c,oldIndex:p,newIndex:y,draggableEvent:i},y>=0?w=this.trigger(r,u):(l=a.parents(b).getKendoSortable(),u.action=o,v=n.extend({},u,{action:s,oldIndex:e,newIndex:l.indexOf(a)}),w=!(!this.trigger(r,u)&&!l.trigger(r,v))),w||y===p?(this._cancel(),t):(a.replaceWith(c),c.show(),this.draggable.dropped=!0,u={action:this.indexOf(c)!=e?h:o,item:c,oldIndex:p,newIndex:this.indexOf(c),draggableEvent:i},this.trigger(f,u),l&&(v=n.extend({},u,{action:s,oldIndex:e,newIndex:l.indexOf(c)}),l.trigger(f,v)),t)},_findTarget:function(i){var f,u,r=this._findElementUnderCursor(i),e=this.options.connectWith;return n.contains(this.element[0],r)?(f=this.items(),u=f.filter(r)[0]||f.has(r)[0],u?{element:n(u),sortable:this}:null):this.element[0]==r&&this._isEmpty()?{element:this.element,sortable:this,appendToBottom:!0}:this.element[0]==r&&this._isLastHidden()?(u=this.items().eq(0),{element:u,sortable:this,appendAfterHidden:!0}):e?this._searchConnectedTargets(r,i):t},_findElementUnderCursor:function(n){var t=i.elementUnderCursor(n),r=n.sender;return w(r.hint[0],t)&&(r.hint.hide(),t=i.elementUnderCursor(n),t||(t=i.elementUnderCursor(n)),r.hint.show()),t},_searchConnectedTargets:function(t,i){for(var r,o,f,e=n(this.options.connectWith),u=0;u<e.length;u++)if(r=e.eq(u).getKendoSortable(),n.contains(e[u],t)){if(r)return o=r.items(),f=o.filter(t)[0]||o.has(t)[0],f?(r.placeholder=this.placeholder,{element:n(f),sortable:r}):null}else if(e[u]==t){if(r&&r._isEmpty())return{element:e.eq(u),sortable:r,appendToBottom:!0};if(this._isCursorAfterLast(r,i))return f=r.items().last(),{element:f,sortable:r}}},_isCursorAfterLast:function(n,t){var r,e,u=n.items().last(),f={left:t.x.location,top:t.y.location};return r=i.getOffset(u),r.top+=a(u),r.left+=v(u),e=this._isFloating(u)?r.left-f.left:r.top-f.top,e<0},_movementByAxis:function(t,i,r,u){var e,o="x"===t?i.left:i.top,f=r<0?this.placeholder.prev():this.placeholder.next(),s=this.items();f.length&&!f.is(":visible")&&(f=r<0?f.prev():f.next()),s.filter(f).length&&(n.extend(u,{target:f}),e=this._getElementCenter(f),e&&(e="x"===t?e.left:e.top),f.length&&r<0&&o-e<0?this._movePlaceholder({element:f,sortable:this},"prev",u):f.length&&r>0&&o-e>0&&this._movePlaceholder({element:f,sortable:this},"next",u))},_movePlaceholder:function(n,t,i){var r=this.placeholder;n.sortable.trigger(y,i)||(t?"prev"===t?n.element.before(r):"next"===t&&n.element.after(r):n.element.append(r),n.sortable.trigger(l,i))},_setCursor:function(){var i,t=this.options.cursor;t&&"auto"!==t&&(i=n(document.body),this._originalCursorType=i.css("cursor"),i.css({cursor:t}),this._cursorStylesheet||(this._cursorStylesheet=n("<style>* { cursor: "+t+" !important; }</style>")),this._cursorStylesheet.appendTo(i))},_resetCursor:function(){this._originalCursorType&&(n(document.body).css("cursor",this._originalCursorType),this._originalCursorType=null,this._cursorStylesheet.remove())},_getElementCenter:function(n){var t=n.length?i.getOffset(n):null;return t&&(t.top+=a(n)/2,t.left+=v(n)/2),t},_isFloating:function(n){var r=/left|right/.test(n.css("float")),i=/inline|table-cell/.test(n.css("display")),t=/flex/.test(n.parent().css("display"))&&(/row|row-reverse/.test(n.parent().css("flex-direction"))||!n.parent().css("flex-direction"));return r||i||t},_cancel:function(){this.draggedElement.show(),this.placeholder.remove(),this.draggable.dropped=!0},_items:function(){var t,n=this.options.filter;return t=n?this.element.find(n):this.element.children()},indexOf:function(n){var i=this._items(),t=this.placeholder,r=this.draggedElement;return t&&n[0]==t[0]?i.not(r).index(n):i.not(t).index(n)},items:function(){var t=this.placeholder,n=this._items();return t&&(n=n.not(t)),n},_isEmpty:function(){return!this.items().length},_isLastHidden:function(){return 1===this.items().length&&this.items().is(":hidden")}});i.ui.plugin(b)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("util/text-metrics.min",["kendo.core.min"],n)}(function(){!function(n){function c(n){return(n+"").replace(u,f)}function h(n){var t,i=[];for(t in n)i.push(t+n[t]);return i.sort().join("")}function s(n){for(var t=2166136261,i=0;i<n.length;++i)t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t^=n.charCodeAt(i);return t>>>0}function o(){return{width:0,height:0,baseline:0}}function l(n,i,r){return t.current.measure(n,i,r)}var r,u,f,e,i,t;window.kendo.util=window.kendo.util||{},r=kendo.Class.extend({init:function(n){this._size=n,this._length=0,this._map={}},put:function(n,t){var r=this._map,i={key:n,value:t};r[n]=i,this._head?(this._tail.newer=i,i.older=this._tail,this._tail=i):this._head=this._tail=i,this._length>=this._size?(r[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++},get:function(n){var t=this._map[n];if(t)return t===this._head&&t!==this._tail&&(this._head=t.newer,this._head.older=null),t!==this._tail&&(t.older&&(t.older.newer=t.newer,t.newer.older=t.older),t.older=this._tail,t.newer=null,this._tail.newer=t,this._tail=t),t.value}}),u=/\r?\n|\r|\t/g,f=" ",e={baselineMarkerSize:1},"undefined"!=typeof document&&(i=document.createElement("div"),i.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;"),t=kendo.Class.extend({init:function(t){this._cache=new r(1e3),this.options=n.extend({},e,t)},measure:function(n,t,r){var w,v,p,f,u,a,l,e,y;if(void 0===r&&(r={}),!n)return o();if(w=h(t),v=s(n+w),p=this._cache.get(v))return p;f=o(),u=r.box||i,a=this._baselineMarker().cloneNode(!1);for(l in t)e=t[l],void 0!==e&&(u.style[l]=e);return y=r.normalizeText!==!1?c(n):n+"",u.textContent=y,u.appendChild(a),document.body.appendChild(u),y.length&&(f.width=u.offsetWidth-this.options.baselineMarkerSize,f.height=u.offsetHeight,f.baseline=a.offsetTop+this.options.baselineMarkerSize),f.width>0&&f.height>0&&this._cache.put(v,f),u.parentNode.removeChild(u),f},_baselineMarker:function(){var n=document.createElement("div");return n.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",n}}),t.current=new t,kendo.deepExtend(kendo.util,{LRUCache:r,TextMetrics:t,measureText:l,objectKey:h,hashKey:s,normalizeText:c})}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),function(n,t){t("kendo.grid.min",["kendo.data.min","kendo.columnsorter.min","kendo.editable.min","kendo.window.min","kendo.filtermenu.min","kendo.columnmenu.min","kendo.groupable.min","kendo.pager.min","kendo.selectable.min","kendo.sortable.min","kendo.reorderable.min","kendo.resizable.min","kendo.ooxml.min","kendo.excel.min","kendo.pane.min","kendo.progressbar.min","kendo.pdf.min","kendo.dialog.min","kendo.pane.min","kendo.switch.min"],n)}(function(){return function(n,t){function dr(n,t){return"["+i.attr(n)+"="+t+"]"}function sr(n){return Array(n+1).join('<td class="k-group-cell">&nbsp;</td>')}function gt(n){var t,i=" ";if(n){if(typeof n===w)return n;for(t in n)""!==n[t]&&(i+=t+'="'+n[t]+'"')}return i}function ho(t,i){n("th, th .k-grid-filter, th .k-link",t).add(document.body).css("cursor",i)}function kt(t,i,r,u,f){var e,o=i;for(i=n(),f=f||1,e=0;e<f;e++)i=i.add(t.eq(o+e));"number"==typeof r?i[u?"insertBefore":"insertAfter"](t.eq(r)):i.appendTo(r)}function st(t,i,r){return n(t).add(i).find(r)}function bs(n,t,i){var f,s,u,o;for(i=ii(i)?i:[i],f=0,s=i.length;f<s;f++)u=i[f],v(u)&&u.click&&(o=u.name||u.text,t.on(p+r,"a.k-grid-"+(o||"").replace(/\s/g,""),{commandName:o},e(u.click,n)))}function ro(n,t,r,u,e){return hi(n,function(n){var s,o;return n=typeof n===w?{field:n}:n,n.parentIds=e,vt(n)&&!r||(n.attributes=di(n.attributes),n.footerAttributes=di(n.footerAttributes),n.headerAttributes=di(n.headerAttributes),s=!0),o=i.guid(),n.headerAttributes=f({headers:e},n.headerAttributes),n.headerAttributes.id?o=n.headerAttributes.id:n.headerAttributes=f({id:o},n.headerAttributes),n.columns&&(n.columns=ro(n.columns,t,s,n.locked,e?e+" "+o:o)),f({encoded:t,hidden:s,locked:u},n)})}function of(n,t){var i=[];return tf(n,t,i),i[i.length-1]}function tf(n,t,i){var r,u;for(i=i||[],r=0;r<t.length;r++){if(n===t[r])return!0;if(t[r].columns){if(u=i.length,i.push(t[r]),tf(n,t[r].columns,i))return!0;i.splice(u,i.length-u)}}return!1}function nh(n,t){ve(n,t,t)}function ve(n,t,i){var r=i?te:di;n.hidden=!t,n.attributes=r(n.attributes),n.footerAttributes=r(n.footerAttributes),n.headerAttributes=r(n.headerAttributes)}function ls(n,t){iu(n);var i=n._hideByMedia;ve(n,t,i?n.matchesMedia:t)}function iu(n){n.matchesMedia=we(n)}function we(n){return n&&(fi(n.media)||!fi(n.media)&&i.matchesMedia(n.media))}function oi(){return"none"!==this.style.display}function ys(t){return"none"!==n(t)[0].style.display}function vt(n){return o([n]).length>0}function o(n){return a(n,function(n){var t=!n.hidden&&n.matchesMedia!==!1;return t&&n.columns&&(t=o(n.columns).length>0),t})}function le(n){for(var t,i=[],r=0;r<n.length;r++){if(t=n[r],!fi(t.media)){if(!fi(t.minScreenWidth))throw Error("Using 'media' and 'minScreenWidth' options at the same time is not supported.");i.push(t)}t.columns&&(i=i.concat(le(t.columns)))}return i}function fi(n){return t===n}function ws(t){return n(t).map(function(){return this.toArray()})}function fs(n,t,i){var u=pi(l(t)),r=pi(rt(t)),f=n.rowSpan;n.rowSpan=i?u>r?f-(u-r)||1:f+(r-u):u>r?f+(u-r):f-(r-u)||1}function se(t,i,r,u,f,e,o,s){var l,a,h=pi(t),c=pi([i]);h>c&&(l=Array(o+1).join('<th class="k-group-cell k-header" scope="col">&nbsp;</th>'),a=e.children(":not(.k-filter-row)"),n(Array(h-c+1).join("<tr>"+l+"</tr>")).insertAfter(a.last())),bh(e,h-c),fe(r,u,f,e,s)}function he(t,r,f){var e,l,a,s,v,h,o,c;for(f=f||0,a=r,r=u(r),s={},v=t.find(">tr:not(.k-filter-row)"),h=function(){var t=n(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")},o=0,c=r.length;o<c;o++)e=ri(r[o],a),s[e.row]||(s[e.row]=v.eq(e.row).find(".k-header").filter(h)),l=s[e.row].eq(e.cell),l.attr(i.attr("index"),f+o);return r.length}function pi(n){for(var r,u=1,i=0,t=0;t<n.length;t++)n[t].columns&&(r=pi(n[t].columns),r>i&&(i=r));return u+i}function fe(t,i,r,u,f){for(var o,h=gu(t[0],i),l=r.find(">tr:not(.k-filter-row):eq("+h.row+")>th.k-header"),s=n(),c=h.cell,e=0;e<t.length;e++)s=s.add(l.eq(c+e));for(u.find(">tr:not(.k-filter-row)").eq(h.row)[f](s),o=[],e=0;e<t.length;e++)t[e].columns&&(o=o.concat(t[e].columns));o.length&&fe(o,i,r,u,f)}function ri(n,t,i,r){var f,u;for(i=i||0,r=r||{},r[i]=r[i]||0,u=0;u<t.length;u++){if(t[u]==n){f={cell:r[i],row:i};break}if(t[u].columns&&(f=ri(n,t[u].columns,i+1,r)))break;r[i]++}return f}function ah(n,t,i,r){var u,f,e=!!i.locked;do u=n[t],t+=r?1:-1,f=!!u.locked;while(u&&t>-1&&t<n.length&&u!=i&&!u.columns&&f===e);return u}function oe(n,t,i,r,u){var s,e,f,c,o;return t.columns?(t=t.columns,t[r?0:t.length-1]):(s=of(t,n),e=s?s.columns:n,f=h(t,e),0===f&&r?f++:f==e.length-1&&!r||!i.locked&&!t.columns&&!r?f--:(f>0||0===f&&!r)&&f++,c=h(i,e),t=ah(e,f,i,c>f),o=h(t,u),(!t.columns||o&&o!==e.length-1)&&t&&t!=i&&t.columns?oe(n,t,i,r,u):null)}function gu(n,t,i,r){var f,u;for(i=i||0,r=r||{},r[i]=r[i]||0,u=0;u<t.length;u++){if(t[u]==n){f={cell:r[i],row:i};break}if(t[u].columns&&(f=gu(n,t[u].columns,i+1,r)))break;t[u].hidden||r[i]++}return f}function wr(n){var t=ot(l(n));return t.concat(ot(rt(n)))}function kr(n,t,i,r){var f=n[i],e=n[r],u=of(f,t);return t=u?u.columns:t,h(e,t)}function ot(n){for(var r=[],i=[],t=0;t<n.length;t++)r.push(n[t]),n[t].columns&&(i=i.concat(n[t].columns));return i.length&&(r=r.concat(ot(i))),r}function ei(n){for(var i,r=0,t=0;t<n.length;t++)i=n[t],i.columns?r+=ei(i.columns):i.hidden&&r++;return r}function ff(n){for(var i=0,t=0,r=n.length;t<r;t++)n[t].hidden||(i+=parseInt(n[t].width,10));return i}function de(n){for(var i,r=0,t=0,u=n.length;t<u;t++)i=n[t].style.width,i&&i.indexOf("%")==-1&&(r+=parseInt(i,10));return r}function wh(n,t){for(var u,r=n.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)"),i=0;i<r.length;i++)u=r[i].rowSpan,u>1&&(r[i].rowSpan=u-t||1)}function bh(n,t){for(var r=n.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)"),i=0;i<r.length;i++)r[i].rowSpan+=t}function sf(t){for(var u=t.find("tr:not(.k-filter-row)"),f=u.filter(function(){return!n(this).children().length}).remove().length,r=u.find("th:not(.k-group-cell,.k-hierarchy-cell)"),i=0;i<r.length;i++)r[i].rowSpan>1&&(r[i].rowSpan-=f);return u.length-f}function pr(n,t,i,r,u){for(var o,e=[],f=0,s=n.length;f<s;f++)o=i[r]||[],o.push(t.eq(u+f)),i[r]=o,n[f].columns&&(e=e.concat(n[f].columns));e.length&&pr(e,t,i,r+1,u+n.length)}function l(n){return a(n,function(n){return n.locked})}function rt(n){return a(n,function(n){return!n.locked})}function nr(n){return a(n,function(n){return!n.locked&&vt(n)})}function ar(n){return a(n,function(n){return n.locked&&vt(n)})}function tt(n){for(var i=[],t=0;t<n.length;t++)n[t].hidden||(n[t].columns?i=i.concat(tt(n[t].columns)):i.push(n[t]));return i}function rf(n){for(var i=[],t=0;t<n.length;t++)n[t].columns&&(i=i.concat(n[t].columns));return i}function u(n){for(var i=[],t=0;t<n.length;t++)n[t].columns?i=i.concat(u(n[t].columns)):i.push(n[t]);return i}function uh(n){var t,i=[];for(n=u(n),t=0;t<n.length;t++)"string"==typeof n[t]?i.push(n[t]):n[t].field&&i.push(n[t].field);return i}function it(r){var e,f=r.find(">tr:not(.k-filter-row)"),o=function(){var t=n(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")},u=n();return f.length>1&&(u=f.find("th").filter(o).filter(function(){return this.rowSpan>1})),u=u.add(f.last().find("th").filter(o)),e=i.attr("index"),u.sort(function(i,r){var f,u;return i=n(i),r=n(r),f=i.attr(e),u=r.attr(e),f===t&&(f=n(i).index()),u===t&&(u=n(r).index()),f=parseInt(f,10),u=parseInt(u,10),f>u?1:f<u?-1:0}),u}function ne(t){var a,e,r,u,s,i,f,v=t.closest("table"),o=n().add(t),l=t.closest("tr"),h=v.find("tr:not(.k-filter-row)"),c=h.index(l);if(c>0){for(a=h.eq(c-1),e=a.find("th:not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return!n(this).attr("rowspan")}),r=0,u=l.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(t),s=t.prevAll(":not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return this.colSpan>1}),i=0;i<s.length;i++)r+=s[i].colSpan||1;for(u+=Math.max(r-1,0),r=0,i=0;i<e.length;i++)if(f=e.eq(i),r+=f.attr("data-colspan")?f[0].getAttribute("data-colspan"):1,u>=i&&u<r){o=ne(f).add(o);break}}return o}function wi(t){var u,f,r,h,v,c,e,y=t.closest("thead"),o=n().add(t),a=t.closest("tr"),l=y.find("tr:not(.k-filter-row)"),p=l.index(a)+t[0].rowSpan,s=i.attr("colspan");if(p<=l.length-1){for(u=a.next(),f=t.prevAll(":not(.k-group-cell,.k-hierarchy-cell)"),f=f.filter(function(){return!this.rowSpan||1===this.rowSpan}),h=0,r=0;r<f.length;r++)h+=parseInt(f.eq(r).attr(s),10)||1;for(v=u.find("th:not(.k-group-cell,.k-hierarchy-cell)"),c=parseInt(t.attr(s),10)||1,r=0;r<c;)u=v.eq(r+h),o=o.add(wi(u)),e=parseInt(u.attr(s),10),e>1&&(c-=e-1),r++}return o}function gf(t,i,r,u){var f,e=t;return u&&t.empty(),ds?t[0].innerHTML=r:(f=document.createElement("div"),f.innerHTML="<table><tbody>"+r+"</tbody></table>",t=f.firstChild.firstChild,i[0].replaceChild(t,e[0]),t=n(t)),t}function di(n){n=n||{};var t=n.style;return t?(t=t.replace(/display:[^;]*/i,"display:none"),t.match(/display:/i)||(t=t.replace(/(.*)?/i,"display:none;$1"))):t="display:none",f({},n,{style:t})}function fh(n){n=n||{};var t=n.style||"";return t.indexOf("display:none")!==-1}function te(n){n=n||{};var t=n.style;return t&&(n.style=t.replace(/(display\s*:\s*none\s*;?)*/gi,"")),n}function ti(t,r,u,f){var o,e=t.find(">colgroup"),h=hi(r,function(n){return o=n.width,o&&0!==parseInt(o,10)?i.format('<col style="width:{0}"/>',typeof o===w?o:o+"px"):"<col />"});(u||e.find(".k-hierarchy-col").length)&&h.splice(0,0,'<col class="k-hierarchy-col" />'),e.length&&e.remove(),e=n(Array(f+1).join('<col class="k-group-col">')+h.join("")),e.is("colgroup")||(e=n("<colgroup/>").append(e)),t.prepend(e),s.msie&&8==s.version&&(t.css("display","inline-table"),window.setTimeout(function(){t.css("display","")},1))}function eh(n,t){for(var f=0,r=n.find("th:not(.k-group-cell)"),i=0,u=t.length;i<u;i++)t[i].locked&&(r.eq(i).insertBefore(r.eq(f)),r=n.find("th:not(.k-group-cell)"),f++)}function bf(n){for(var i,r={},t=0,u=n.length;t<u;t++)i=n[t],r[i.value]=i.text;return r}function wf(n,t,r,u){var e=r&&r.length&&v(r[0])&&"value"in r[0],f=e?bf(r)[n]:n;return f=null!=f?f:"",t?i.format(t,f):u===!1?f:i.htmlEncode(f)}function wt(n,t,i){for(var u,f=0,r=n[f];r;){if(u=!!i||"none"!==r.style.display,u&&!ks.test(r.className)&&--t<0){r.style.display=i?"":"none";break}r=n[++f]}}function df(t,i){for(var r,u,f=0,e=t.length;f<e;f+=1)u=t.eq(f),u.is(".k-grouping-row,.k-detail-row")?(r=u.children(":not(.k-group-cell):first,.k-detail-cell").last(),r.attr("colspan",parseInt(r.attr("colspan"),10)-1)):(u.hasClass("k-grid-edit-row")&&(r=u.children(".k-edit-container")[0])&&(r=n(r),r.attr("colspan",parseInt(r.attr("colspan"),10)-1),r.find("col").eq(i).remove(),u=r.find("tr:first")),wt(u[0].cells,i,!1))}function ef(n){for(var t,i=[],r=0;r<n.length&&(t=n[r],"field"in t&&"value"in t&&"items"in t);r++)i.push(t),t.hasSubgroups&&(i=i.concat(ef(t.items)));return i}function wo(n){for(var t,i=[],r=0;r<n.length&&(t=n[r],"field"in t&&"value"in t&&"items"in t);r++)t.hasSubgroups&&(i=i.concat(wo(t.items))),i.push(t.aggregates);return i}function po(t,i){for(var r,u,s,f=0,e=t.length;f<e;f+=1)u=t.eq(f),u.is(".k-grouping-row,.k-detail-row")?(r=u.children(":not(.k-group-cell):first,.k-detail-cell").last(),r.attr("colspan",parseInt(r.attr("colspan"),10)+1)):(u.hasClass("k-grid-edit-row")&&(r=u.children(".k-edit-container")[0])&&(r=n(r),r.attr("colspan",parseInt(r.attr("colspan"),10)+1),ti(r.find(">form>table"),o(s),!1,0),u=r.find("tr:first")),wt(u[0].cells,i,!0))}function ao(n,t,i){i=i||1;for(var r,u=0,f=n.length;u<f;u++)r=n.eq(u).children().last(),r.attr("colspan",parseInt(r.attr("colspan"),10)+i),r=t.eq(u).children().last(),r.attr("colspan",parseInt(r.attr("colspan"),10)-i)}function go(n){for(var r=0,i=n.find(">colgroup>col"),t=0,u=i.length;t<u;t+=1)r+=parseInt(i[t].style.width,10);return r}function oh(n,t){var u,r,i,f;n=n[0],t=t[0],n.rows.length!==t.rows.length&&(u=n.offsetHeight,r=t.offsetHeight,u>r?(i=t.rows[t.rows.length-1],ee.test(i.className)&&(i=t.rows[t.rows.length-2]),f=u-r):(i=n.rows[n.rows.length-1],ee.test(i.className)&&(i=n.rows[n.rows.length-2]),f=r-u),i.style.height=i.offsetHeight+f+"px")}function li(n,t){var i,u=n.offsetHeight,r=t.offsetHeight;u>r?i=u+"px":u<r&&(i=r+"px"),i&&(n.style.height=t.style.height=i)}function uf(n,t){var r,u,i;if(typeof n===w&&n===t||v(n)&&n.name===t)return n;if(ii(n))for(r=0,u=n.length;r<u;r++)if(i=n[r],typeof i===w&&i===t||i.name===t)return i;return null}function k(t,r){if(r===!0){t=n(t);var u=t.parent().scrollLeft();i.focusElement(t),t.parent().scrollLeft(u)}else n(t).one("focusin",function(n){n.preventDefault()}).focus()}function hh(n,i){return n.options.groupable&&(i.groupable||i.groupable===t)}function sh(t,i){return!!n.grep(t,function(n){return n.field===i}).length}function ir(n,t){return!(!n.field||n.selectable)&&!(t.editable&&!t.editable(n.field))&&!(n.editable&&!n.editable(t))}function ge(t){return n(t).is(":button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,label.k-checkbox-label,.k-input,.k-multiselect-wrap,.k-picker-wrap,.k-picker-wrap>.k-selected-color,.k-tool-icon,.k-dropdown")}function to(r){var f=n(r.currentTarget),s=f.is("th"),h=this.table.add(this.lockedTable),e=this.thead.parent().add(n(">table",this.lockedHeader)),o=ge(r.target),c=n(r.target).is(".k-checkbox"),l=n(r.target),u=f.closest("table")[0];return o&&f.find(i.roleSelector("filtercell")).length?(this._setCurrent(f),t):(u!==h[0]&&u!==h[1]&&u!==e[0]&&u!==e[1]||l.is("a.k-i-expand, a.k-i-collapse")||(this.options.navigatable&&this._setCurrent(f,!1,c),!s&&o||setTimeout(function(){vs&&n(i._activeElement()).hasClass("k-widget")||!n(i._activeElement()).is(at)&&ge(i._activeElement())&&n.contains(u,i._activeElement())||k(u,!0)}),s&&!i.support.touch&&r.preventDefault()),t)}function fo(n,t){if(!t)return 0;var r=0;return i.support.browser.webkit&&(r=n.width()),r}function ih(n){var i;return"string"==typeof n?(i=n.toLowerCase(),"true"===i?{rows:!0}:{rows:i.indexOf("rows")>-1,columns:i.indexOf("columns")>-1}):n===!0?{rows:!0}:t}function lo(t,i){var r,u;return!!t&&(i=n(i),!!(i[0]&&ru(t[0],i[0])&&(r=i.offset().top-t.offset().top,u=i.outerHeight()/2,(r>=0||ft.abs(r)<=u)&&ft.floor(r+u)<=t.height())))}function gh(n){return n&&(n.hasClass("k-edit-cell")||n.parent().hasClass("k-grid-edit-row"))}function ur(n){return'<td colspan="#=data.colspan +'+n+'#"><p class="k-reset"><a class="k-icon k-i-collapse" href="\\#" tabindex="-1" '+ui+'="'+or+'"></a>#=data.text#</p></td>'}function dh(n){return'<td colspan="'+n+'"><p class="k-reset">&nbsp;</p></td>'}function fr(n,t,i,r,u,f){return'<tr role="row"'+(f?'data-group-uid="'+u+'"':"")+'class="k-grouping-row">'+sr(t)+'<td colspan="'+n+'" aria-expanded="'+!!r+'"><p class="k-reset"><a class="k-icon '+(r?"k-i-collapse":"k-i-expand")+'" href="#" tabindex="-1" '+ui+'="'+(r?or:er)+'"></a>'+i+"</p></td></tr>"}function so(n){return'<tr role="row" class="k-grouping-row"><td colspan="'+n+'" aria-expanded="true"><p class="k-reset">&nbsp;</p></td></tr>'}var no,du,d,dt,i=window.kendo,ut=i.ui,nf=i.data.DataSource,oo=i.data.ObservableObject,ds=i.support.tbodyInnerHtml,yt=i._activeElement,vi=ut.Widget,g=i._outerWidth,pt=i._outerHeight,c=i.keys,v=n.isPlainObject,f=n.extend,hi=n.map,a=n.grep,ii=n.isArray,h=n.inArray,uo=Array.prototype.push,e=n.proxy,ni=i.isFunction,eo=n.isEmptyObject,ru=n.contains,ft=Math,ht=".",yu="progress",vu="error",vh="k-hierarchy-cell",y=":not(.k-group-cell):not(["+i.attr("virtual")+"]):not(.k-hierarchy-cell:not(:has(.k-icon.k-i-collapse,.k-icon.k-i-expand))):visible",ph="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",ct="tr:not(.k-footer-template):visible",et=":not(.k-group-cell):not(.k-detail-cell):not(.k-hierarchy-cell):visible",bt="tr:not(.k-grouping-row):not(.k-detail-row):not(.k-footer-template):not(.k-group-footer):visible",co=bt+":first",kh=bt+":last",bu=ct+":first>"+et+":first",hr="th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",r=".kendoGrid",th="k-grid-content-locked",gs="k-group-cell",tr="edit",rr="beforeEdit",gr="save",wu="remove",ou="detailInit",io="filterMenuInit",is="columnMenuInit",ts="filterMenuOpen",ns="columnMenuOpen",rs="cellClose",nt="change",br="columnHide",lr="columnShow",yo="saveChanges",eu="dataBound",bo="detailExpand",ko="detailCollapse",fu="itemchange",su="page",lu="paging",cu="scroll",cr="sync",bi="k-state-focused",ie=":kendoFocusable",ki="k-state-selected",ku="k-checkbox",at="input[data-role='checkbox']."+ku,vo="k-grid-norecords",hf="k-link",lf="k-icon",cf="k-sort-order",yf="k-header-column-menu",vf="k-grid-filter",af="resize",nu="columnResize",tu="columnReorder",re="columnLock",ye="columnUnlock",pe="navigate",p="click",rh="mousedown",yr="height",gi="tabIndex",lt="function",w="string",ke="bottom",au="container-for",hu="field",be="input",si="incell",pu="inline",lh="uid",ue=1,ch="colSpan",yi="overflow",yh="hidden",uu="sort",ce="group-sort",os="Are you sure you want to delete this record?",es="No records available.",us="Delete",ss="Cancel",or="Collapse",er="Expand",ui="aria-label",cs=/(\}|\#)/gi,ai=/#/gi,vr="[\\x20\\t\\r\\n\\f]",ks=RegExp("(^|"+vr+")(k-group-cell|k-hierarchy-cell)("+vr+"|$)"),ee=RegExp("(^|"+vr+")(k-filter-row)("+vr+"|$)"),ps='# if (iconClass) {#<a role="button" class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass#"></span>#=text#</a># } else { #<a role="button" class="k-button k-button-icontext #=className#" #=attr# href="\\#">#=text#</a># } #',as='<input class="'+ku+'" data-role="checkbox" aria-label="Select row" aria-checked="false" type="checkbox">',hs='<input class="'+ku+'" data-role="checkbox" aria-label="Select all rows" aria-checked="false" type="checkbox">',b=!1,s=i.support.browser,ci=s.msie&&7==s.version,vs=s.msie&&8==s.version,ae=s.msie&&11===s.version,kf=/Mac OS/.test(navigator.userAgent),pf={content:"k-content",widget:"k-widget",scrollContainer:"k-scroll-container"};ut.Pager&&(no=ut.Pager.extend({init:function(n,t){ut.Pager.fn.init.call(this,n,f(!0,{},t)),this.dataSource.options.useRanges=!0,this.dataSource._omitPrefetch=!0},options:{name:"GroupsPager"},totalPages:function(){var n=this;return Math.ceil((n._collapsedTotal()||0)/(n.pageSize()||1))},_collapsedTotal:function(){var n=this.dataSource;return n?n.groupsTotal(!0)||0:0}})),du=vi.extend({init:function(n,t){var i=this;vi.fn.init.call(i,n,t),i._refreshHandler=e(i.refresh,i),i.setDataSource(t.dataSource),i.wrap()},setDataSource:function(n){var t=this;t.dataSource&&t.dataSource.unbind(nt,t._refreshHandler),t.dataSource=n,t.dataSource.bind(nt,t._refreshHandler),t.dataSource.options.useRanges=!0},options:{name:"VirtualScrollable",itemHeight:n.noop,prefetch:!0,maxScrollHeight:25e4},events:[lu,su,cu],destroy:function(){var n=this;vi.fn.destroy.call(n),n.dataSource.unbind(nt,n._refreshHandler),n.wrapper.add(n.verticalScrollbar).off(r),clearTimeout(n._timeout),n._scrollingTimeout&&clearTimeout(n._scrollingTimeout),n.drag&&(n.drag.destroy(),n.drag=null),n.wrapper=n.element=n.verticalScrollbar=null,n._refreshHandler=null},wrap:function(){var f,t=this,o=i.support.scrollbar()+1,u=t.element;u.css({width:"auto",overflow:"hidden"}).css(b?"padding-left":"padding-right",o),t.content=u.children().first(),f=t.wrapper=t.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+r+" mousewheel"+r,e(t._wheelScroll,t)),t._wrapper(),(i.support.kineticScrollNeeded||i.support.touch)&&(t.wrapper.css("touch-action","none"),t.drag=new i.UserEvents(t.wrapper,{global:!0,allowSelection:!0,start:function(n){n.sender.capture()},move:function(n){t.verticalScrollbar.scrollTop(t.verticalScrollbar.scrollTop()-n.y.delta),f.scrollLeft(f.scrollLeft()-n.x.delta),n.preventDefault()}})),t.verticalScrollbar=n('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:o}).appendTo(u).bind("scroll"+r,e(t._scroll,t))},_wrapper:function(){var n=this;ae&&(n.wrapper.css({"overflow-y":cu}),n.element.css(b?"padding-left":"padding-right",0))},_wheelScroll:function(n){if(!n.ctrlKey){var r=this.verticalScrollbar,u=r.scrollTop(),t=i.wheelDeltaY(n);!t||t>0&&0===u||t<0&&u+r[0].clientHeight==r[0].scrollHeight||(n.preventDefault(),this.verticalScrollbar.scrollTop(u+-t))}},_scroll:function(n){var i=this,o=!i.options.prefetch,r=n.currentTarget.scrollTop,l=i.dataSource,u=i.itemHeight,a=l.skip()||0,v=i._rangeStart||a,f=i.element.innerHeight(),s=!!(i._scrollbarTop&&i._scrollbarTop>r),e=ft.max(ft.floor(r/u),0),c=s?ft.ceil(f/u):ft.floor(f/u),h=ft.max(e+c,0);return i._preventScroll?(i._preventScroll=!1,t):(i._prevScrollTop=i._scrollTop,i._scrollTop=r-v*u,i._scrollbarTop=r,i._scrolling=o,i._fetch(e,h,s)||(i.wrapper[0].scrollTop=i._scrollTop),i.trigger(cu),o&&(i._scrollingTimeout&&clearTimeout(i._scrollingTimeout),i._scrollingTimeout=setTimeout(function(){i._scrolling=!1,i._page(i._rangeStart,i.dataSource.take())},100)),t)},scrollToTop:function(){this._scrollTo(0)},scrollToBottom:function(){var n=this.verticalScrollbar;this._scrollTo(n[0].scrollHeight-n.height())},_scrollWrapperToTop:function(){this.wrapper.scrollTop(0)},_scrollWrapperToBottom:function(){this.wrapper.scrollTop(this.wrapper[0].scrollHeight)},_scrollWrapperOnColumnResize:function(){var n=this,t=this.wrapper,r=t.scrollTop();t[0].scrollWidth>t[0].clientWidth?(!n._wrapperScrolled&&r||n._isScrolledToBottom())&&(t.scrollTop(r+i.support.scrollbar()),n._scrollTop=t.scrollTop(),n._wrapperScrolled=!0):n._wrapperScrolled&&(n._isWrapperScrolledToBottom()||(t.scrollTop(r-i.support.scrollbar()),n._scrollTop=t.scrollTop()),n._wrapperScrolled=!1)},_scrollTo:function(n){var t=this,i=t.verticalScrollbar;i.scrollTop()!==n&&(t._preventScroll=!0),t.wrapper.scrollTop(n),t._scrollTop=t.wrapper.scrollTop(),i.scrollTop(n),t._scrollbarTop=i.scrollTop()},_isScrolledToTop:function(){return 0===this.verticalScrollbar.scrollTop()},_isScrolledToBottom:function(){var n=this.verticalScrollbar,t=n.scrollTop();return t>0&&t>=parseInt(n[0].scrollHeight-n.height(),10)},_isWrapperScrolledToBottom:function(){var n=this.wrapper;return n.scrollTop()>=parseInt(n[0].scrollHeight-n.height(),10)},itemIndex:function(n){var t=this._rangeStart||this.dataSource.skip()||0;return t+n},position:function(n){var i,t=this._rangeStart||this.dataSource.skip()||0,r=this.dataSource.pageSize();return i=n>t?n-t:t-n-1,i>r?r:i},scrollIntoView:function(n){var i=this.wrapper[0],t=i.clientHeight,u=this._isScrolledToBottom()?i.scrollTop:this._scrollTop||i.scrollTop,r=n[0].offsetTop,f=n[0].offsetHeight;u>r?this.verticalScrollbar[0].scrollTop-=t/2:r+f>=u+t&&(this.verticalScrollbar[0].scrollTop+=t/2)},_fetch:function(t,i,r){var u=this,e=u.dataSource,v=u.itemHeight,f=e.take(),o=u._rangeStart||e.skip()||0,h=ft.floor(t/f)*f,l=!1,y=.33,c=u.verticalScrollbar,p=s.webkit?1:0,a=e._isGroupPaged()?e.groupsTotal(!0):e.total();return t<o?(l=!0,o=ft.max(0,i-f),u._scrollTop=c.scrollTop()-o*v,u._page(o,f)):i>=o+f&&!r?(l=!0,o=ft.min(t,a-f),u._scrollTop=c.scrollTop()>=c[0].scrollHeight-c[0].offsetHeight-p?u.wrapper[0].scrollHeight-u.wrapper[0].offsetHeight:u.dataSource._isGroupPaged()&&t>=a-f?u.wrapper[0].scrollHeight-u.wrapper[0].offsetHeight-(u._scrollTop-u._prevScrollTop):v,u._page(o,f)):!u._fetching&&u.options.prefetch&&(t<h+f-f*y&&t>f&&e.prefetch(h-f,f,n.noop),i>h+f*y&&e.prefetch(h+f,f,n.noop)),l},fetching:function(){return this._fetching},_page:function(t,r,u){var f=this,s=!f.options.prefetch,e=f.dataSource,o=e._isGroupPaged();u=ni(u)?u:n.noop,f.trigger(lu,{skip:t,take:r})||(clearTimeout(f._timeout),f._fetching=!0,f._rangeStart=t,o&&e._groupRangeExists()||!o&&e.inRange(t,r)?(i.ui.progress(n(f.wrapper).parent(),!0),e.range(t,r,function(){i.ui.progress(n(f.wrapper).parent(),!1),u(),f.trigger(su)},"page")):(s||i.ui.progress(f.wrapper.parent(),!0),f._timeout=setTimeout(function(){f._scrolling||(s&&i.ui.progress(f.wrapper.parent(),!0),e.range(t,r,function(){i.ui.progress(f.wrapper.parent(),!1),u(),f.trigger(su)}))},100)))},repaintScrollbar:function(n){for(var r=this,s="",u=r.options.maxScrollHeight,o=r.dataSource,l=i.support.kineticScrollNeeded?0:i.support.scrollbar(),e=r.wrapper[0],a=r._isScrolledToBottom(),v=r.itemHeight=r.options.itemHeight()||0,c=e.scrollWidth>e.offsetWidth?l:0,f=(o._isGroupPaged()?o.groupsTotal(!0):o.total())*v+c,h=0;h<ft.floor(f/u);h++)s+='<div style="width:1px;height:'+u+'px"></div>';f%u&&(s+='<div style="width:1px;height:'+f%u+'px"></div>'),r.verticalScrollbar.html(s),!a||r._isScrolledToBottom()||r.dataSource._isGroupPaged()||r.scrollToBottom(),t!==r._scrollTop&&n&&(e.scrollTop=r._scrollTop,r._scrollWrapperOnColumnResize())},refresh:function(n){var u=this,f=u.dataSource,o=u._rangeStart,r=(n||{}).action,e=u._isScrolledToBottom()||!r||r!==fu&&r!==wu&&r!==cr;i.ui.progress(u.wrapper.parent(),!1),clearTimeout(u._timeout),u.repaintScrollbar(e),u.drag&&u.drag.cancel(),t===o||u._fetching||((!r||r!==cr&&r!==fu&&"expandGroup"!==r)&&(u._rangeStart=f.skip()),1!==f.page()||r&&(r===cr||r===fu||"expandGroup"===r||"collapseGroup"===r)||(u.verticalScrollbar[0].scrollTop=0)),u._fetching=!1}}),d={create:{text:"Add new record",className:"k-grid-add",iconClass:"k-icon k-i-plus"},cancel:{text:"Cancel changes",className:"k-grid-cancel-changes",iconClass:"k-icon k-i-cancel"},save:{text:"Save changes",className:"k-grid-save-changes",iconClass:"k-icon k-i-check"},destroy:{text:"Delete",className:"k-grid-delete",iconClass:"k-icon k-i-close"},edit:{text:"Edit",className:"k-grid-edit",iconClass:"k-icon k-i-edit"},update:{text:"Update",className:"k-primary k-grid-update",iconClass:"k-icon k-i-check"},canceledit:{text:"Cancel",className:"k-grid-cancel",iconClass:"k-icon k-i-cancel"},excel:{text:"Export to Excel",className:"k-grid-excel",iconClass:"k-icon k-i-file-excel"},pdf:{text:"Export to PDF",className:"k-grid-pdf",iconClass:"k-icon k-i-file-pdf"},search:{text:"Search...",className:"k-grid-search"}},dt=i.ui.DataBoundWidget.extend({init:function(t,r,u){var f=this;r=ii(r)?{dataSource:r}:r,vi.fn.init.call(f,t,r),u&&(f._events=u),b=i.support.isRtl(t),f._element(),f._aria(),f._columns(n.extend(!0,[],f.options.columns)),f._foreignKeyPromises?n.when.apply(null,f._foreignKeyPromises).then(function(){f._foreignKeyPromises=null,f._continueInit()}):f._continueInit()},_continueInit:function(){var t=this;t._dataSource(),t._tbody(),t._thead(),t._groupable(),t._toolbar(),t._pageable(),t._setContentHeight(),t._templates(),t._navigatable(),t._selectable(),t._clipboard(),t._details(),t._editable(),t._attachCustomCommandsEvent(),t._adaptiveColumns(),t._minScreenSupport(),t.options.autoBind?t.dataSource.fetch():(t._group=t._groups()>0,t._footer()),t.lockedContent&&(t.wrapper.addClass("k-grid-lockedcolumns"),t._resizeHandler=function(){t.resize()},n(window).on("resize"+r,t._resizeHandler)),i.notify(t)},events:[nt,"dataBinding","cancel",eu,bo,ko,ou,io,ts,is,ns,tr,rr,gr,wu,yo,rs,nu,tu,lr,br,re,ye,pe,"page","sort","filter","group","groupExpand","groupCollapse","kendoKeydown"],setDataSource:function(n){var i,t=this,r=t.options.scrollable;t.options.dataSource=n,t._dataSource(),t._pageable(),t._thead(),r&&(r.virtual?(i=t.content.find(">.k-virtual-scrollable-wrap"),i.scrollLeft(fo(i,b))):(i=t.tbody,t.content.scrollLeft(fo(i,b)))),t.options.groupable&&t._groupable(),t.virtualScrollable&&t.virtualScrollable.setDataSource(t.options.dataSource),t.options.navigatable&&t._navigatable(),t.options.selectable&&t._selectable(),t.options.autoBind&&t.dataSource.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,allowCopy:!1,navigatable:!1,pageable:!1,persistSelection:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",search:!1,noRecords:!1,dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null,columnResizeHandleWidth:3,mobile:"",messages:{editable:{cancelDelete:ss,confirmation:os,confirmDelete:us},commands:{create:d.create.text,cancel:d.cancel.text,save:d.save.text,destroy:d.destroy.text,edit:d.edit.text,update:d.update.text,canceledit:d.canceledit.text,excel:d.excel.text,pdf:d.pdf.text,search:d.search.text},noRecords:es,expandCollapseColumnHeader:"",groupHeader:"Press ctrl + space to group",ungroupHeader:"Press ctrl + space to ungroup"},width:null},destroy:function(){var u,t=this;t._angularItems("cleanup"),t._destroyColumnAttachments(),vi.fn.destroy.call(t),this._navigatableTables&&(this._navigatableTables.off(r),this._navigatableTables=null),t._resizeHandler&&n(window).off("resize"+r,t._resizeHandler),t.pager&&t.pager.element&&t.pager.destroy(),t.timer&&clearTimeout(t.timer),t._progressTimeOut&&clearTimeout(t._progressTimeOut),t._collapseGroupsTimeOut&&clearTimeout(t._collapseGroupsTimeOut),t._endlessFetchTimeOut&&clearTimeout(t._endlessFetchTimeOut),t.pager=null,t._destroyGroupable(),t.options.reorderable&&t.wrapper.data("kendoReorderable").destroy(),t.selectable&&t.selectable.element&&(t.selectable.destroy(),t.clearArea(),t._selectedIds=null,t.copyHandler&&(t.wrapper.off("keydown",t.copyHandler),t.unbind(t.copyHandler)),t.updateClipBoardState&&(t.unbind(t.updateClipBoardState),t.updateClipBoardState=null),t.clearAreaHandler&&t.wrapper.off("keyup",t.clearAreaHandler)),t.selectable=null,t.resizable&&(t.resizable.destroy(),t._resizeUserEvents&&(t._resizeHandleDocumentClickHandler&&n(document).off("click",t._resizeHandleDocumentClickHandler),t._resizeUserEvents.destroy(),t._resizeUserEvents=null),t.resizable=null),t._destroyVirtualScrollable(),t.editableUserEvents&&(t.editableUserEvents.destroy(),t.editableUserEvents=null),t._lockedContentUserEvents&&(t._lockedContentUserEvents.destroy(),t._lockedContentUserEvents=null),t._destroyEditable(),t.dataSource&&(t.dataSource.unbind(nt,t._refreshHandler).unbind(yu,t._progressHandler).unbind(vu,t._errorHandler).unbind(uu,t._clearSortClasses),t._refreshHandler=t._progressHandler=t._errorHandler=t._clearSortClasses=null),u=t.element.add(t.wrapper).add(t.table).add(t.thead).add(t.wrapper.find(">.k-grid-toolbar")),t.content&&(u=u.add(t.content).add(t.content.find(">.k-virtual-scrollable-wrap"))),t.lockedHeader&&t._removeLockedContainers(),t.pane&&t.pane.destroy(),t._isMobile&&(t.wrapper.off("transitionend"+r),t.wrapper.off("contextmenu"+r)),t.minScreenResizeHandler&&n(window).off("resize",t.minScreenResizeHandler),t._detachColumnMediaResizeHandler(),t._draggableInstance&&t._draggableInstance.element&&t._draggableInstance.destroy(),t._draggableInstance=null,u.off(r),i.destroy(t.wrapper),t.rowTemplate=t.altRowTemplate=t.lockedRowTemplate=t.lockedAltRowTemplate=t.detailTemplate=t.footerTemplate=t.groupFooterTemplate=t.lockedGroupFooterTemplate=t.noRecordsTemplate=null,t.scrollables=t.thead=t.tbody=t.element=t.table=t.content=t.footer=t.wrapper=t.lockedTable=t.lockedContent=t.lockedHeader=t.lockedFooter=t._groupableClickHandler=t._groupRows=t._setContentWidthHandler=null},getOptions:function(){var r,u,e,o=this.options;return o.dataSource=null,r=f(!0,{},this.options),r.columns=i.deepExtend([],this.columns),u=this.dataSource,e=u.options.data&&u._data,u.options.data=null,r.dataSource=n.extend(!0,{},u.options),u.options.data=e,r.dataSource.data=e,r.dataSource.page=u.page(),r.dataSource.filter=n.extend(!0,{},u.filter()),r.dataSource.pageSize=u.pageSize(),r.dataSource.sort=u.sort(),r.dataSource.group=u.group(),r.dataSource.aggregate=u.aggregate(),r.dataSource.transport&&(r.dataSource.transport.dataSource=null),r.pageable&&r.pageable.pageSize&&(r.pageable.pageSize=u.pageSize()),r.$angular=t,r},setOptions:function(n){var t,e,r,f,u=this.getOptions();i.deepExtend(u,n),n.dataSource||(u.dataSource=this.dataSource),t=this.wrapper,e=this._events,r=this.element,this.destroy(),this.options=null,this._isMobile&&(f=t.closest(i.roleSelector("pane")).parent(),f.after(t),f.remove(),t.removeClass("k-grid-mobile")),t[0]!==r[0]&&(t.before(r),t.remove()),r.empty(),this.init(r,u,e),this._setEvents(u)},items:function(){return this.lockedContent?this._items(this.tbody).add(this._items(this.lockedTable.children("tbody"))):this._items(this.tbody)},_items:function(t){var i=this;return t.children().filter(function(){var t=n(this);return!(!i.dataSource._isGroupPaged()&&t.hasClass("k-grouping-row")||t.hasClass("k-detail-row")||t.hasClass("k-group-footer"))})},dataItems:function(){var r,u,n,t=i.ui.DataBoundWidget.fn.dataItems.call(this);if(this.lockedContent){for(r=t.length,u=Array(2*r),n=r;--n>=0;)u[n]=u[n+r]=t[n];t=u}return t},_destroyColumnAttachments:function(){var t=this;t.resizeHandle=null,t.thead&&(this.angular("cleanup",function(){return{elements:t.thead.get()}}),t.thead.add(t.lockedHeader).find("th").each(function(){var t=n(this),u=t.data("kendoFilterMenu"),r=t.data("kendoColumnSorter"),i=t.data("kendoColumnMenu");u&&u.destroy(),r&&r.destroy(),i&&i.destroy()}))},_attachCustomCommandsEvent:function(){for(var i,t=this,r=u(t.columns||[]),n=0,f=r.length;n<f;n++)i=r[n].command,i&&bs(t,t.wrapper,i)},_aria:function(){var n=this.element.attr("id")||"aria";n&&(this._cellId=n+"_active_cell")},_element:function(){var t=this,i=t.element;i.is("table")||(i=t.options.scrollable?t.element.find("> .k-grid-content > table"):t.element.children("table"),i.length||(i=n("<table />").appendTo(t.element))),ci&&i.attr("cellspacing",0),t.table=i.attr("role",t._hasDetails()?"treegrid":"grid"),t._wrapper()},_createResizeHandle:function(t,u){var l,y,nt,g,a,w,o,v,h,d,e=this,k=e.options.columnResizeHandleWidth,tt=e.options.scrollable,f=e.resizeHandle,p=3*k/2,c=0;f&&e.lockedContent&&f.data("th")[0]!==u[0]&&(f.off(r).remove(),f=null),f||(f=e.resizeHandle=n('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>'),t.append(f)),v=t.scrollLeft(),o=parseFloat(t.css("borderLeftWidth")),h=u.offset().left+v-parseFloat(u.css("marginLeft"))-(t.offset().left+o),b?tt&&(c=h<=v?p:0,l=u.closest(".k-grid-header-wrap, .k-grid-header-locked"),w=l[0].scrollWidth-l[0].offsetWidth,a=parseFloat(l.css("marginLeft")),y=s.msie?2*l.scrollLeft()+o-a-c:0,nt=s.webkit?w-c-a+o:0,g=s.mozilla?o-a-c:0,h-=nt+g+y):h+=u[0].offsetWidth,d=u.offset().top-parseFloat(u.css("marginTop"))-(t.offset().top+parseFloat(t.css("borderTopWidth"))),f.css({top:d,left:h-p,height:pt(u),width:3*k-c}).data("th",u).show(),f.off("dblclick"+r).on("dblclick"+r,function(){e._autoFitLeafColumn(parseInt(u.attr(i.attr("index")),10))})},_positionColumnResizeHandle:function(){var u=this,f=u.lockedHeader?u.lockedHeader.find("thead:first"):n();u.thead.add(f).on("mousemove"+r,"tr:not(.k-filter-row) > th",function(r){var e=t!==r.buttons?r.buttons:r.which||r.button,f=n(this);f.hasClass("k-group-cell")||f.hasClass("k-hierarchy-cell")||t!==e&&0!==e||f[0].hasAttribute(i.attr(ch))||u._createResizeHandle(f.closest("div"),f)})},_resizeHandleDocumentClick:function(t){n(t.target).closest(".k-column-active").length||(n(document).off(t),this._resetResizeHandleHeader(),this._hideResizeHandle())},_resetResizeHandleHeader:function(){var t;this.resizeHandle&&(t=n(this.resizeHandle).data("th"),t&&(t.find(ht+hf).find(ht+lf).show(),t.find(ht+cf).show(),t.find(ht+yf).show(),t.find(ht+vf).show()))},_hideResizeHandle:function(){this.resizeHandle&&(this.resizeHandle.data("th").removeClass("k-column-active"),this.lockedContent&&!this._isMobile?(this.resizeHandle.off(r).remove(),this.resizeHandle=null):this.resizeHandle.hide())},_positionColumnResizeHandleTouch:function(){var t=this,r=t.lockedHeader?t.lockedHeader.find("thead:first"):n();t._resizeUserEvents=new i.UserEvents(r.add(t.thead),{filter:"th:not(.k-group-cell):not(.k-hierarchy-cell)",threshold:10,minHold:500,hold:function(i){var r=n(i.target);i.preventDefault(),t.resizeHandle&&(t.resizeHandle.data("th").removeClass("k-column-active"),t._resetResizeHandleHeader()),r.addClass("k-column-active"),r.find(ht+hf).find(ht+lf).hide(),r.find(ht+cf).hide(),r.find(ht+yf).hide(),r.find(ht+vf).hide(),t._createResizeHandle(r.closest("div"),r),t._resizeHandleDocumentClickHandler||(t._resizeHandleDocumentClickHandler=e(t._resizeHandleDocumentClick,t)),n(document).on("click",t._resizeHandleDocumentClickHandler)}})},resizeColumn:function(r,u){var y,b,v,e,f=this,o=!!r.locked,nt=!!r.hidden,d=this.options,w=i.support.mobileOS?0:i.support.scrollbar(),l=o?h(r,ar(f.columns)):h(r,nr(f.columns)),c=o?f.lockedTable:f.table,p=f.footer||n(),k=o?f.lockedHeader.find("table"):f.thead.closest("table"),s=r.minResizableWidth||10,a=g(o?c.find("tbody"):f.tbody);return nt?(r.width=u>s?u:s,t):(f.footer&&f.lockedContent&&(p=f.footer.children(o?".k-grid-footer-locked":".k-grid-footer-wrap")),y=d.scrollable?k.find("col:not(.k-group-col,.k-hierarchy-col):eq("+l+")").add(c.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+l+")")).add(p.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+l+")")):c.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+l+")"),d.scrollable?(b=!1,v=f.wrapper.width()-w,e=u=u>s?u:s,o&&a-u+e>v&&(e=u+(v-a-2*w),e<0&&(e=u),b=!0),e>10&&e>=s&&(y.css("width",e),a&&(e=b?v-2*w:a+(u-r.width),c.add(k).add(p).css("width",e),o||(f._footerWidth=e))),f._scrollVirtualWrapperOnColumnResize()):u>10&&u>=s&&y.css("width",u),r.width=u,f._applyLockedContainersWidth(),f._syncLockedContentHeight(),f._syncLockedHeaderHeight(),t)},_resizable:function(){var c,l,e,y,h,f,v,r,t=this,o=t.options,p=this._isMobile,a=i.support.mobileOS?0:i.support.scrollbar();o.resizable&&(c=o.scrollable?t.wrapper.find(".k-grid-header-wrap:first"):t.wrapper,p?t._positionColumnResizeHandleTouch(c):t._positionColumnResizeHandle(c),t.resizable&&t.resizable.destroy(),t.resizable=new ut.Resizable(c.add(t.lockedHeader),{handle:(o.scrollable?"":">")+".k-resize-handle",hint:function(i){return n('<div class="k-grid-resize-indicator" />').css({height:pt(i.data("th"))+t.tbody.attr("clientHeight")})},start:function(i){var b,c,a,w,k;r=n(i.currentTarget).data("th"),p&&t._hideResizeHandle(),b=r.closest("table"),c=n.inArray(r[0],it(r.closest("thead")).filter(":visible")),f=b.parent().hasClass("k-grid-header-locked"),a=f?t.lockedTable:t.table,w=t.footer||n(),t.footer&&t.lockedContent&&(w=t.footer.children(f?".k-grid-footer-locked":".k-grid-footer-wrap")),ho(t.wrapper,"col-resize"),v=o.scrollable?b.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+c+")").add(a.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+c+")")).add(w.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+c+")")):a.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+c+")"),k=n.map(t.columns,function(n){return!n.hidden&&(f&&n.locked||!f&&!n.locked)?n:null}),l=i.x.location,e=g(r),y=u(k)[c].minResizableWidth||10,h=g(f?a.children("tbody"):t.tbody),s.webkit&&t.wrapper.addClass("k-grid-column-resizing")},resize:function(i){var s,g,d,k,w,u,p=b?-1:1,c=e+i.x.location*p-l*p;o.scrollable?(f&&t.lockedFooter?s=t.lockedFooter.children("table"):t.footer&&(s=t.footer.find(">.k-grid-footer-wrap>table")),s&&s[0]||(s=n()),g=r.closest("table"),d=f?t.lockedTable:t.table,k=!1,w=t.wrapper.width()-a,u=c,f&&h-e+u>w&&(u=e+(w-h-2*a),u<0&&(u=c),k=!0),u>10&&u>=y&&(v.css("width",u),h&&(u=k?w-2*a:h+i.x.location*p-l*p,d.add(g).add(s).css("width",u),f||(t._footerWidth=u))),t._scrollVirtualWrapperOnColumnResize()):c>10&&c>=y&&v.css("width",c)},resizeend:function(){var o,h,n,f=g(r);ho(t.wrapper,""),s.webkit&&t.wrapper.removeClass("k-grid-column-resizing"),e!=f&&(h=t.lockedHeader?t.lockedHeader.find("thead:first tr:first").add(t.thead.find("tr:first")):r.parent(),n=r.attr(i.attr("index")),n||(n=h.find("th:not(.k-group-cell):not(.k-hierarchy-cell)").index(r)),o=u(t.columns)[n],o.width=f,t.trigger(nu,{column:o,oldWidth:e,newWidth:f}),t._applyLockedContainersWidth(),t._syncLockedContentHeight(),t._syncLockedHeaderHeight()),t._resetResizeHandleHeader(),t._hideResizeHandle(),r=null}}))},_draggable:function(){var u,t=this;t.options.reorderable&&(t._draggableInstance&&t._draggableInstance.destroy(),u=t.wrapper.children(".k-grid-header"),t._draggableInstance=t.wrapper.kendoDraggable({group:i.guid(),autoScroll:!0,filter:t.content?".k-grid-header:first "+hr:"table:first>.k-grid-header "+hr,dragstart:function(){u.children(".k-grid-header-wrap").unbind("scroll"+r+"scrolling").bind("scroll"+r+"scrolling",function(n){t.virtualScrollable?t.content.find(">.k-virtual-scrollable-wrap").scrollLeft(this.scrollLeft):t.scrollables.not(n.currentTarget).scrollLeft(this.scrollLeft)})},dragend:function(){t._resetResizeHandleHeader(),u.children(".k-grid-header-wrap").unbind("scroll"+r+"scrolling")},drag:function(){t._hideResizeHandle()},hint:function(t){var r=t.attr(i.attr("title"));return r&&(r=i.htmlEncode(r)),n('<div class="k-header k-reorder-clue k-drag-clue" />').html(r||t.attr(i.attr("field"))||t.text()).prepend('<span class="k-icon k-drag-status k-i-cancel"></span>')}}).data("kendoDraggable"))},_reorderable:function(){var t=this;t.options.reorderable&&(t.wrapper.data("kendoReorderable")&&t.wrapper.data("kendoReorderable").destroy(),t.wrapper.kendoReorderable({draggable:t._draggableInstance,dragOverContainers:function(n,i){var r=wr(t.columns);return r[n].lockable!==!1&&kr(r,t.columns,n,i)>-1},inSameContainer:function(i){return n(i.source).parent()[0]===n(i.target).parent()[0]&&kr(wr(t.columns),t.columns,i.sourceIndex,i.targetIndex)>-1},change:function(n){var r=wr(t.columns),i=r[n.oldIndex],u=kr(r,t.columns,n.oldIndex,n.newIndex);t.trigger(tu,{newIndex:u,oldIndex:h(i,r),column:i}),t.reorderColumn(u,i,"before"===n.position)}}))},_reorderHeader:function(n,t,i,r){for(var a,v,e,s,u=this,o=ri(n[0],u.columns),c=ri(t,u.columns),f=[],h=0;h<n.length;h++)n[h].columns&&(f=f.concat(n[h].columns));v=r?st(r,r,"tr:eq("+o.row+")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)"):st(u.lockedHeader,u.thead,"tr:eq("+o.row+")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)"),e=l(n).length,s=l([t]).length,f.length?(e>0&&0===s?(a="prepend",se(n,t,f,u.columns,u.lockedHeader.find("thead"),u.thead,this._groups(),a)):0===e&&s>0&&(a=0!==c.cell||!n[0].columns||t.columns||u._group?"append":"prepend",se(n,t,f,rt(u.columns),u.thead,u.lockedHeader.find("thead"),this._groups(),a)),(t.columns||o.cell-c.cell>1||c.cell-o.cell>1)&&(t=oe(u.columns,t,n[0],i,u.columns),t&&(e>0&&0===s?u._reorderHeader(f,t,i,u.thead):0===e&&s>0?u._reorderHeader(f,t,i,u.lockedHead):u._reorderHeader(f,t,i)))):e!==s&&fs(v[o.cell],u.columns,e),kt(v,o.cell,c.cell,i,n.length)},_reorderContent:function(t,i,r){var y,e,d,nt,p,ut,f=this,ft=n(),et=t[0],b=o(t),a=h(et,u(f.columns)),s=h(i,u(f.columns)),c=h(b[0],tt(f.columns)),w=h(i,tt(f.columns)),g=l(f.columns).length,it=!!i.locked,v=f.footer||f.wrapper.find(".k-grid-footer"),k=y=w;for(i.hidden&&(d=it?l(f.columns):rt(f.columns),o(d).length>0?(k=y=w=this._findClosestVisibleColumnIndex(d,s),e=o(d.slice(s)).length>0):it?(w=f.lockedTable.find("colgroup"),k=f.lockedHeader.find("colgroup"),y=n(f.lockedFooter).find(">table>colgroup")):(w=f.tbody.prev(),k=f.thead.prev(),y=v.find(".k-grid-footer-wrap").find(">table>colgroup"))),f._hasFilterRow()&&kt(f.wrapper.find(".k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)"),a,s,r,t.length),c>=0&&kt(st(f.lockedHeader,f.thead.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),c,k,e?e:r,b.length),f.options.scrollable&&c>=0&&!f._hasVirtualColumns()&&kt(st(f.lockedTable,f.tbody.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),c,w,e?e:r,b.length),v&&v.length&&(c>=0&&kt(st(f.lockedFooter,v.find(".k-grid-footer-wrap"),">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),c,y,e?e:r,b.length),kt(v.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),a,s,r,t.length)),nt=f.tbody.children(":not(.k-grouping-row,.k-detail-row)"),f.lockedTable&&(g>s?g<=a&&ao(f.lockedTable.find(">tbody>tr.k-grouping-row"),f.table.find(">tbody>tr.k-grouping-row"),t.length):g>a&&ao(f.table.find(">tbody>tr.k-grouping-row"),f.lockedTable.find(">tbody>tr.k-grouping-row"),t.length),ft=f.lockedTable.find(">tbody>tr:not(.k-grouping-row,.k-detail-row)")),p=0,ut=nt.length;p<ut;p+=1)kt(st(ft[p],nt[p],">td:not(.k-group-cell,.k-hierarchy-cell)"),a,s,r,t.length)},_findClosestVisibleColumnIndex:function(n,t){var r=o(n.slice(t)).length>0?n.slice(t):n.slice(0,t+1).reverse(),i=o(r)[0];return h(i,o(this.columns))},_autoFitLeafColumn:function(n){this.autoFitColumn(u(this.columns)[n])},autoFitColumn:function(t){var r,b,d,p,nt,tt,et,ht,c,st,ut,k,f,lt,o,w,ft,y,l,at,i=this,yt=i.options,e=i.columns,pt=i.lockedHeader?it(i.lockedHeader.find(">table>thead")).filter(oi).length:0,rt="col:not(.k-group-col):not(.k-hierarchy-col)",ct="td:visible:not(.k-group-cell):not(.k-hierarchy-cell)";if(t="number"==typeof t?e[t]:v(t)?a(ot(e),function(n){return n===t})[0]:a(ot(e),function(n){return n.field===t})[0],t&&vt(t)){for(tt=t.minResizableWidth,r=h(t,u(e)),p=t.locked,d=p?i.lockedHeader.children("table"):i.thead.parent(),b=d.find("[data-index='"+r+"']"),c=p?i.lockedTable:i.table,st=i.footer||n(),i.footer&&i.lockedContent&&(st=i.footer.children(p?".k-grid-footer-locked":".k-grid-footer-wrap")),ut=st.find("table").first(),i.lockedHeader&&!p&&(r-=pt),k=0;k<e.length&&e[k]!==t;k++)e[k].hidden&&r--;if(yt.scrollable?(nt=d.find(rt).eq(r).add(c.children("colgroup").find(rt).eq(r)).add(ut.find("colgroup").find(rt).eq(r)),p||(et=c.parent(),ht=et.scrollLeft())):nt=c.children("colgroup").find(rt).eq(r),f=d.add(c).add(ut),s.safari&&b.css("white-space","initial"),lt=g(b),nt.width(""),f.css("table-layout","fixed"),nt.width("auto"),f.addClass("k-autofitting"),f.css("table-layout",""),o=Math.ceil(Math.max(g(b),g(c.find("tr:not(.k-grouping-row)").eq(0).children(ct).eq(r)),g(ut.find("tr").eq(0).children(ct).eq(r))))+1,tt&&tt>o&&(o=tt),nt.width(o),t.width=o,s.safari&&b.css("white-space",""),yt.scrollable){for(w=d.find("col"),y=0,l=0,at=w.length;l<at;l+=1)if(ft=w[l].style.width,ft&&ft.indexOf("%")==-1)y+=parseInt(ft,10);else{if(!w.eq(l).hasClass("k-group-col")){y=0;break}y+=parseInt(w.eq(l).width(),10)}y&&f.each(function(){this.style.width=y+"px"})}s.msie&&8==s.version&&(f.css("display","inline-table"),setTimeout(function(){f.css("display","table")},1)),f.removeClass("k-autofitting"),ht&&et.scrollLeft(ht),i.trigger(nu,{column:t,oldWidth:lt,newWidth:o}),i._applyLockedContainersWidth(),i._syncLockedContentHeight(),i._syncLockedHeaderHeight()}},reorderColumn:function(n,i,r){var v,c,f=this,p=of(i,f.columns),y=p?p.columns:f.columns,o=h(i,y),e=y[n],k=f.virtualScroll||{},s=!!e.locked,b=l(f.columns).length,w=a(u(f.columns),function(n){return n.groupHeaderColumnTemplate});o!==n&&(!i.locked&&s&&1==rt(f.columns).length||i.locked&&!s&&1==b||(f._hideResizeHandle(),r===t&&(r=n<o),c=[i],f._reorderHeader(c,e,r),f.lockedHeader&&(sf(f.thead),sf(f.lockedHeader)),e.columns&&(e=u(e.columns),e=e[r?0:e.length-1]),i.columns&&(c=u(i.columns)),f._reorderContent(c,e,r),v=!!i.locked,v=v!=s,i.locked=s,y.splice(r?n:n+1,0,i),y.splice(o<n?o:o+1,1),f._updateLockedCols(),f._updateCols(),f._templates(),f._updateColumnCellIndex(),f._updateColumnSorters(),w.length>0&&f._renderGroupRows(),f._updateTablesWidth(),f._applyLockedContainersWidth(),f._syncLockedHeaderHeight(),f._syncLockedContentHeight(),f._updateFirstColumnClass(),k.columns&&f.refresh(),v&&(s?f.trigger(re,{column:i}):f.trigger(ye,{column:i}))))},_updateColumnCellIndex:function(){var t,n=0;this.lockedHeader&&(t=this.lockedHeader.find("thead"),n=he(t,l(this.columns))),he(this.thead,rt(this.columns),n)},lockColumn:function(n){var i,t=this.columns;n="number"==typeof n?t[n]:a(t,function(t){return t.field===n})[0],!n||n.locked||n.hidden||(i=l(t).length-1,this.reorderColumn(i,n,!1))},unlockColumn:function(n){var i,t=this.columns;n="number"==typeof n?t[n]:a(t,function(t){return t.field===n})[0],n&&n.locked&&!n.hidden&&(i=l(t).length,this.reorderColumn(i,n,!0))},cellIndex:function(t){var i=0;return this.lockedTable&&!n.contains(this.lockedTable[0],t[0])&&(i=u(l(this.columns)).length),n(t).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(t)+i},_modelForContainer:function(t){t=n(t),t.is("tr")||"popup"===this._editMode()||(t=t.closest("tr"));var r=t.attr(i.attr("uid"));return this.dataSource.getByUid(r)},_editable:function(){var f,t=this,u=t.options.editable,e=function(){var r=yt(),i=t._editContainer;i&&i[0]&&!n.contains(i[0],r)&&i[0]!==r&&!n(r).closest(".k-animation-container").length&&(t.editable.end()?t.closeCell():t._scrollVirtualWrapper())};u&&(this.wrapper.addClass("k-editable"),f=t._editMode(),"incell"===f?(t.table.add(t.lockedTable).on("mousedown"+r,ct+">"+et,function(r){var u=n(r.target);"incell"===t._editMode()&&u.hasClass("k-checkbox")&&u.prev().attr(i.attr("bind"))&&r.preventDefault()}),u.update!==!1&&(kf&&t.wrapper.on(p+r,".k-edit-cell > input[type='checkbox']",function(t){n(t.target).focus()}).on(p+r,".k-edit-cell",function(t){n(t.target).is("input")||n(t.currentTarget).find("input[type='checkbox']").focus()}).on(rh+r,"tr:not(.k-grouping-row) > td",function(i){var r=t._editContainer;t._mousedownOnEditCell=!(!r||!r[0]||!n.contains(r[0],i.target)&&r[0]!==i.target)}),t.editableUserEvents=new i.UserEvents(t.wrapper,{filter:"tr:not(.k-grouping-row) > td",allowSelection:!0,tap:function(i){var r=n(i.target),u=t.lockedTable&&r.closest("table")[0]===t.lockedTable[0];t._mousedownOnEditCell=!1,r.hasClass("k-hierarchy-cell")||r.hasClass("k-detail-cell")||r.hasClass("k-group-cell")||r.hasClass("k-edit-cell")||r.has("a.k-grid-delete").length||r.has("button.k-grid-delete").length||r.closest("tbody")[0]!==t.tbody[0]&&!u||n(i.target).is(":input")||(t.editable?t.editable.end()?(n(yt()).blur(),t.closeCell(),t.editCell(r)):t._scrollVirtualWrapper():t.editCell(r))}}),t.wrapper.on("focusin"+r,function(){n.contains(this,yt())||(clearTimeout(t.timer),t.timer=null)}).on("focusout"+r,function(n){var i=!0;(kf&&t._mousedownOnEditCell||t._virtualColScroll)&&(i=!1),t._mousedownOnEditCell=!1,i&&(t.timer=setTimeout(function(){e(n)},1))}))):u.update!==!1&&(t.wrapper.on(p+r,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(i){i.preventDefault(),t.editRow(n(this).closest("tr"))}),t._isVirtualInlineEditable()&&t.wrapper.on("focusout"+r,"tr:not(.k-grouping-row) > td",function(){t.editable&&!t.editable.end()&&t._scrollVirtualWrapper()})),u.destroy!==!1?t.wrapper.on(p+r,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(i){i.preventDefault(),i.stopPropagation(),t.removeRow(n(this).closest("tr"))}):t.wrapper.on(p+r,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(n){n.stopPropagation(),t._confirmation()||n.preventDefault()}))},editCell:function(t){var i,f,r,e;if(t=n(t),i=this,f=(i.virtualScroll||{}).columns?i.virtualCols[i.cellIndex(t)]:u(i.columns)[i.cellIndex(t)],r=i._modelForContainer(t),i.closeCell(),r&&ir(f,r)&&!f.command){if(i.trigger(rr,{model:r}))return;i._attachModelChange(r),i._editContainer=t,i._shouldClearEditableState&&i._clearEditableState(),i.editable=t.addClass("k-edit-cell").kendoEditable({fields:{field:f.field,format:f.format,editor:f.editor,values:f.values},model:r,target:i,change:function(n){i.trigger(gr,{values:n.values,container:t,model:r})&&n.preventDefault()},skipFocus:!(!i._isVirtualIncellEditable()&&!i._hasVirtualColumns()||!i._editableState)}).data("kendoEditable"),e=t.parent().addClass("k-grid-edit-row"),i.lockedContent&&(li(e[0],i._relatedRow(e).addClass("k-grid-edit-row")[0]),i._syncLockedScroll()),i.trigger(tr,{container:t,model:r})}},_adjustLockedHorizontalScrollBar:function(){var t=this.table,n=t.parent(),r=t[0].offsetWidth>n[0].clientWidth?i.support.scrollbar():0;this.lockedContent.height(n[0].offsetHeight-r)},_syncLockedScroll:function(){this.lockedContent[0].scrollTop=this.content[0].scrollTop,this.virtualScrollable&&(this.lockedContent[0].scrollTop=this.wrapper.find(".k-virtual-scrollable-wrap")[0].scrollTop)},_syncLockedContentHeight:function(){this.lockedTable&&(this.touchScroller||this._adjustLockedHorizontalScrollBar(),this._adjustRowsHeight(this.table,this.lockedTable))},_syncLockedHeaderHeight:function(){var t,n;this.lockedHeader&&(t=this.lockedHeader.children("table"),n=this.thead.parent(),this._adjustRowsHeight(t,n),oh(t,n))},_syncLockedFooterHeight:function(){this.lockedFooter&&this.footer&&this.footer.length&&this._adjustRowsHeight(this.lockedFooter.children("table"),this.footer.find(".k-grid-footer-wrap > table"))},_destroyEditable:function(){var n=this,t=function(){if(n.editable){var t=n.editView?n.editView.element:n._editContainer;t&&(t.off(p+r,"a.k-grid-cancel",n._editCancelClickHandler),t.off(p+r,"a.k-grid-update",n._editUpdateClickHandler)),n._detachModelChange(),n.editable.destroy(),n.editable=null,n._editContainer=null,n._destroyEditView(),n._editableIsClosing=null}};n.editable&&("popup"!==n._editMode()||n._isMobile?t():n._editableIsClosing?n._editContainer.data("kendoWindow").bind("deactivate",t):(n._editableIsClosing=!0,n._editContainer.data("kendoWindow").bind("deactivate",t).close())),n._confirmDialog&&(n._confirmDialog.close(),n._confirmDialog.destroy(),n._confirmDialog=null)},_destroyEditView:function(){this.editView&&(this.editView.purge(),this.editView=null,this.pane.navigate(""))},_attachModelChange:function(n){var t=this;t._modelChangeHandler=function(n){t._modelChange({field:n.field,model:this})},n.bind("change",t._modelChangeHandler)},_detachModelChange:function(){var n=this,i=n._editContainer,t=n._modelForContainer(i);t&&t.unbind(nt,n._modelChangeHandler)},closeCell:function(n){var e,r,f,t=this,i=t._editContainer;i&&(f=t._modelForContainer(i),n&&t.trigger("cancel",{container:i,model:f})||(t.trigger(rs,{type:n?"cancel":"save",model:f,container:i}),i.removeClass("k-edit-cell"),e=(t.virtualScroll||{}).columns?t.virtualCols[t.cellIndex(i)]:u(t.columns)[t.cellIndex(i)],r=i.parent().removeClass("k-grid-edit-row"),t.lockedContent&&t._relatedRow(r).removeClass("k-grid-edit-row"),t._destroyEditable(),t._displayCell(i,e,f),t._shouldClearEditableState&&t._clearEditableState(),t.trigger("itemChange",{item:r,data:f,ns:ut}),t.lockedContent&&li(r.css("height","")[0],t._relatedRow(r).css("height","")[0])))},_displayCell:function(n,t,r){var s=this,o={storage:{},count:0},h=f({},i.Template,s.options.templateSettings),u=i.template(s._cellTmpl(t,o),h);o.count>0&&(u=e(u,o.storage)),n.empty().html(u(r)),s.angular("compile",function(){return{elements:n,data:[{dataItem:r}]}})},removeRow:function(n){this._confirmation(n)&&this._removeRow(n)},_removeRow:function(t){var r,o,e,f,i=this,u=i._editMode();"incell"!==u&&i.cancelRow(),t=n(t),i.lockedContent&&(t=t.add(i._relatedRow(t))),t=t.hide(),i.dataSource._isGroupPaged()&&i._removeGroupIfEmpty(t),r=i._modelForContainer(t),r&&!i.trigger(wu,{row:t,model:r})?(f=i.dataSource.options.schema,i._selectedIds&&f&&f.model&&(o=ni(i.dataSource.options.schema.model)?i.dataSource.options.schema.model.fn.idField:i.dataSource.options.schema.model.id,e=r[o],delete i._selectedIds[e]),i.dataSource.remove(r),"inline"!==u&&"popup"!==u||i.dataSource.sync()):"incell"===u&&i._destroyEditable()},_editMode:function(){var t="incell",n=this.options.editable;return n!==!0&&(t="string"==typeof n?n:n.mode||t),t},editRow:function(t){var o,s,h,f=this;t instanceof oo?o=t:(t=n(t),o=f._modelForContainer(t)),s=f._editMode(),f.cancelRow(),o&&(t=f.tbody.children("["+i.attr("uid")+"="+o.uid+"]"),f._attachModelChange(o),"popup"===s?f._createPopupEditor(o):"inline"===s?f._createInlineEditor(t,o):"incell"===s&&n(t).children(y).each(function(){var i=n(this),t=u(f.columns)[f.cellIndex(i)];if(o=f._modelForContainer(i),o&&(!o.editable||o.editable(t.field))&&t.field&&!t.selectable)return f.editCell(i),!1}),h=f.editView?f.editView.element:f._editContainer,h&&(this._editCancelClickHandler||(this._editCancelClickHandler=e(this._editCancelClick,this)),h.on(p+r,"a.k-grid-cancel",this._editCancelClickHandler),this._editUpdateClickHandler||(this._editUpdateClickHandler=e(this._editUpdateClick,this)),h.on(p+r,"a.k-grid-update",this._editUpdateClickHandler)))},_editUpdateClick:function(n){n.preventDefault(),n.stopPropagation(),this.saveRow()},_editCancelClick:function(t){var r,i=this,e=i.options.navigatable,f=i.editable.options.model,u=i.editView?i.editView.element:i._editContainer;t.preventDefault(),t.stopPropagation(),i.trigger("cancel",{container:u,model:f})||(r=i.items().index(n(i.current()).parent()),i.cancelRow(),e&&(i._setCurrent(i.items().eq(r).children().filter(et).first()),k(i.table,!0)))},_createPopupEditor:function(r){var s,c,a,nt,y,st,ot,ht,ct,p,ft,l,d,o=this,h="<div "+i.attr("uid")+'="'+r.uid+'" class="k-popup-edit-form"><'+(o._isMobile?'ul class="k-edit-form-container k-listgroup k-listgroup-flush">':'div class="k-edit-form-container">'),ut=[],g=u(o.columns),lt=i.guid(),rt=o.options.editable,b=rt.template,tt=v(rt)?rt.window:{},it=f({},i.Template,o.options.templateSettings);if(!o.trigger(rr,{model:r})){if(tt=tt||{},b)for(typeof b===w&&(b=i.unescape(b)),h+=i.template(b,it)(r),a=0,nt=g.length;a<nt;a++)s=g[a],s.command&&(p=uf(s.command,"edit"),p&&(c=p));else for(a=0,nt=g.length;a<nt;a++)s=g[a],s.selectable||(s.command?s.command&&(p=uf(s.command,"edit"),p&&(c=p)):o._isMobile?(h+='<li class="k-item k-listgroup-item">',ir(s,r)?(ut.push({field:s.field,title:s.title,format:s.format,editor:s.editor,values:s.values}),h+='<label class="k-label k-listgroup-form-row">',h+='<span class="k-item-title k-listgroup-form-field-label">'+(s.title||s.field||"")+"</span>",h+='<div class="k-listgroup-form-field-wrapper" id="'+s.field+"_"+lt+'" '+i.attr("container-for")+'="'+s.field+'"></div>',h+="</label>"):(l={storage:{},count:0},y=i.template(o._cellTmpl(s,l),it),l.count>0&&(y=e(y,l.storage)),h+='<label class="k-label k-listgroup-form-row k-no-click">',h+='<span class="k-item-title k-listgroup-form-field-label">'+(s.title||s.field||"")+"</span>",h+='<span class="k-no-editor k-listgroup-form-field-wrapper">'+y(r)+"</span>",h+="</label>"),h+="</li>"):(h+='<div class="k-edit-label"><label for="'+s.field+'">'+(s.title||s.field||"")+"</label></div>",ir(s,r)?(ut.push({field:s.field,title:s.title,format:s.format,editor:s.editor,values:s.values}),h+="<div "+i.attr("container-for")+'="'+s.field+'" class="k-edit-field"></div>'):(l={storage:{},count:0},y=i.template(o._cellTmpl(s,l),it),l.count>0&&(y=e(y,l.storage)),h+='<div class="k-edit-field k-no-editor">'+y(r)+"</div>")));c&&v(c)&&(v(c.text)&&(st=c.text.update,ot=c.text.cancel),v(c.iconClass)&&(ht=c.iconClass.update,ct=c.iconClass.cancel),c.attr&&(ft=c.attr)),o._isMobile?(h+="</ul></div>",o.editView=o.pane.append("<div data-"+i.ns+'role="view" class="k-grid-edit-form"><div data-'+i.ns+'role="header" class="k-header"><a href="\\#" class="k-header-cancel k-link k-grid-cancel" title="#=messages.cancel#" aria-label="#=messages.cancel#"><span class="k-icon k-i-arrow-chevron-left"></span></a>'+(o.options.messages.commands.edit||"Edit")+'<a href="\\#" class="k-header-done k-link k-grid-update" title="#=messages.done#" aria-label="#=messages.done#"><span class="k-icon k-i-check"></span></a></div><div data-'+i.ns+'role="content" class="'+pf.content+'">'+h+"</div></div>"),d=o._editContainer=o.editView.element.find(".k-popup-edit-form")):(h+='<div class="k-edit-buttons k-state-default">',h+=o._createButton({name:"update",text:st,attr:ft,iconClass:ht})+o._createButton({name:"canceledit",text:ot,attr:ft,iconClass:ct}),h+="</div></div></div>",d=o._editContainer=n(h).appendTo(o.wrapper).eq(0).kendoWindow(f({modal:!0,resizable:!1,draggable:!0,title:o.options.messages.commands.edit||"Edit",visible:!1,close:function(i){if(i.userTriggered){if(i.sender.element.focus(),o.trigger("cancel",{container:d,model:r}))return i.preventDefault(),t;var u=o.items().index(n(o.current()).parent());o._editableIsClosing=!0,o.cancelRow(),o.options.navigatable&&(o._setCurrent(o.items().eq(u).children().filter(et).first()),k(o.table,!0))}}},tt))),o.editable=o._editContainer.kendoEditable({fields:ut,model:r,clearContainer:!1,target:o}).data("kendoEditable"),o._openPopUpEditor(),o.trigger(tr,{container:d,model:r})}},_openPopUpEditor:function(){var t=this,n=t._editContainer?t._editContainer.data("kendoWindow"):null,i=(t.options.editable||{}).window||{};this._isMobile?this.pane.navigate(this.editView,this._editAnimation):n&&(i.position||n.center(),n.open())},_createInlineEditor:function(t,r){var e,s,o,f=this,h=[];f.trigger(rr,{model:r})||(f.lockedContent&&(t=t.add(f._relatedRow(t))),t.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(s=n(this),e=f._hasVirtualColumns()?f.virtualCols[f.cellIndex(s)]:u(f.columns)[f.cellIndex(s)],!e.command&&ir(e,r))h.push({field:e.field,title:e.title,format:e.format,editor:e.editor,values:e.values}),s.attr(i.attr("container-for"),e.field),s.empty();else if(e.command&&(o=uf(e.command,"edit"))){s.empty();var l,a,y,c,t;v(o)&&(v(o.text)&&(l=o.text.update,a=o.text.cancel),v(o.iconClass)&&(y=o.iconClass.update,c=o.iconClass.cancel),o.attr&&(t=o.attr)),n(f._createButton({name:"update",text:l,attr:t,iconClass:y})+f._createButton({name:"canceledit",text:a,attr:t,iconClass:c})).appendTo(s)}}),f._editContainer=t,f._editContainer.addClass("k-grid-edit-row"),f._shouldClearEditableState&&f._clearEditableState(),f.editable=new i.ui.Editable(f._editContainer,{target:f,fields:h,model:r,skipFocus:f._isVirtualInlineEditable()&&f._editableState&&!!f._editableState.field||f._hasVirtualColumns(),clearContainer:!1}),t.length>1&&(li(t[0],t[1]),f._applyLockedContainersWidth()),f.trigger(tr,{container:t,model:r}))},cancelRow:function(n){var r,t=this,u=t._editContainer;if(u){if(r=t._modelForContainer(u),!r||n&&t.trigger("cancel",{container:u,model:r}))return;t._destroyEditable(),t.dataSource.cancelChanges(r),t._clearEditableState(),t._displayRow("popup"!==t._editMode()?u:t.tbody.find("["+i.attr("uid")+"="+r.uid+"]"))}},saveRow:function(){var r,t=this,i=this._editContainer,f=this._modelForContainer(i),u=n.Deferred();return i&&this.editable?(r=t.editable&&t.editable.end(),!r||this.trigger(gr,{container:i,model:f})?(r||t._scrollVirtualWrapper(),u.reject().promise()):(t._clearEditableState(),this.dataSource.sync())):u.resolve().promise()},_displayRow:function(t){var r,u,o,s,e,i=this,f=i._modelForContainer(t),c=t.hasClass("k-state-selected"),h=t.hasClass("k-alt");f&&(i.lockedContent&&(r=n((h?i.lockedAltRowTemplate:i.lockedRowTemplate)(f)),i._relatedRow(t.last()).replaceWith(r)),i.angular("cleanup",function(){return{elements:t.get()}}),u=n((h?i.altRowTemplate:i.rowTemplate)(f)),t.is(":visible")||u.hide(),t.replaceWith(u),i.trigger("itemChange",{item:u,data:f,ns:ut}),r&&r.length&&i.trigger("itemChange",{item:r,data:f,ns:ut}),s=u,e=[{dataItem:f}],r&&r.length&&(s=u.add(r),e.push({dataItem:f})),i.angular("compile",function(){return{elements:s.get(),data:e}}),c&&(i.options.selectable||i._checkBoxSelection)&&i.select(u.add(r)),r&&li(u[0],r[0]),o=u.next(),o.hasClass("k-detail-row")&&o.is(":visible")&&u.find(".k-hierarchy-cell .k-icon").removeClass("k-i-expand").addClass("k-i-collapse"))},_showMessage:function(t,r){var f,u=this;return u._isMobile?(f=u._confirmDialog=new i.ui.Confirm(n("<div />").appendTo(document.body),{modal:{preventScroll:!0},closable:!1,title:!1,content:t.title,messages:{okText:t.confirmDelete,cancel:t.cancelDelete},open:function(){u.content.data(yi,u.content.css(yi)),u.content.css(yi,yh)},close:function(){u.content.css(yi,u.content.data(yi))}}),f.result.done(function(){u._removeRow(r)}).fail(function(){var n=u._confirmDialog;n&&(n.close(),n.destroy())}),!1):window.confirm(t.title)},_confirmation:function(n){var i=this,r=i.options.editable,t=r===!0||typeof r===w?i.options.messages.editable.confirmation:r.confirmation;return v(r)&&typeof r.mode===w&&typeof t!==lt&&typeof t!==w&&t!==!1&&(t=i.options.messages.editable.confirmation),t===!1||null==t||(typeof t===lt&&(t=t(i._modelForContainer(n))),i._showMessage({confirmDelete:r.confirmDelete||i.options.messages.editable.confirmDelete,cancelDelete:r.cancelDelete||i.options.messages.editable.cancelDelete,title:t===!0?i.options.messages.editable.confirmation:t},n))},cancelChanges:function(){var n=this;n.dataSource.cancelChanges(),n._isVirtualEditable()&&n._virtualPageToTop(function(){n.virtualScrollable.scrollToTop()})},saveChanges:function(){var n=this,t=n.editable&&n.editable.end();!t&&n.editable||n.trigger(yo)?t||n._scrollVirtualWrapper():n.dataSource.sync()},addRow:function(){var i,e,n=this,t=n.dataSource,f=n._editMode(),h=n.options.editable.createAt||"",r=t.pageSize(),u=t.view()||[],s=h.toLowerCase()===ke,o=n._isVirtualEditable();n.editable&&n.editable.end()||!n.editable?("incell"!=f&&n.cancelRow(),i=t.indexOf(u[0]),s&&(i+=u.length,r&&!t.options.serverPaging&&r<=u.length&&(i-=1)),i<0&&(i=t.page()>t.totalPages()?(t.page()-1)*r:0),n.options.navigatable&&"incell"==f&&n._removeCurrent(),o?n._virtualAddRow():(e=t.insert(i,{}),n._editModel(e))):n._scrollVirtualWrapper()},_editModel:function(n){var e,o,r,u,t=this,s=t.options.editable.createAt||"",f=t._editMode();n&&(e=n.uid,o=t.lockedContent?t.lockedTable:t.table,r=o.find("tr["+i.attr("uid")+"="+e+"]"),u=r.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(t._firstEditableColumnIndex(r)),"inline"===f&&r.length?t.editRow(r):"popup"===f?t.editRow(n):u.length&&t.editCell(u),"bottom"==s.toLowerCase()&&t.lockedContent&&(t.lockedContent[0].scrollTop=t.content[0].scrollTop=t.table[0].offsetHeight))},_virtualAddRow:function(){var n=this,t=(n.options.editable.createAt||"").toLowerCase()===ke;n._clearEditableState(),t?n._virtualAddRowAtBottom():n._virtualAddRowAtTop()},_virtualAddRowAtTop:function(){var t,n=this,i=n.dataSource,r=n.virtualScrollable;1===i.page()?(t=i.insert(0,{}),n._editModel(t),r.scrollToTop()):n._virtualPageToTop(function(){t=i.insert(0,{}),n._editModel(t),r.scrollToTop()})},_virtualAddRowAtBottom:function(){var i,n=this,t=n.dataSource,u=n.virtualScrollable,r=t.total();t.at(r-1)instanceof oo?(i=t.insert(r,{}),n._virtualPageToBottom(function(){n._editModel(i),u.scrollToBottom()})):n._virtualPageToBottom(function(){i=t.insert(r,{}),n._editModel(i),u.scrollToBottom()})},_virtualPageToTop:function(n){var t=this;t._virtualPage(0,t.dataSource.take(),function(){n()})},_virtualPageToBottom:function(n){var r=this,u=r.dataSource,t=u.take(),i=u.total(),f=i>t?i-t:0;r._virtualPage(f,t,function(){n()})},_virtualPage:function(n,t,i){var r=this;r._isVirtualEditable()&&(r.virtualScrollable._preventScroll=!0,r.virtualScrollable._page(n,t,i))},_firstEditableColumnIndex:function(n){for(var i,o=this,e=u(o.columns),r=o._modelForContainer(n),t=0,f=e.length;t<f;t++)if(i=e[t],r&&(!r.editable||r.editable(i.field))&&!i.command&&i.field&&i.hidden!==!0)return t;return-1},_toolbar:function(){var f,t=this,s=t.wrapper,u=t.options.toolbar,o=t.options.editable;u&&(f=t.wrapper.find(".k-grid-toolbar"),f.length||(ni(u)||(u=typeof u===w?u:t._toolbarTmpl(u).replace(ai,"\\#"),u=e(i.template(u),t)),f=n('<div class="k-header k-grid-toolbar" />').html(u({})).prependTo(s),t.angular("compile",function(){return{elements:f.get()}})),o&&o.create!==!1&&f.on(p+r,".k-grid-add",function(n){n.preventDefault(),t.addRow()}).on(p+r,".k-grid-cancel-changes",function(n){n.preventDefault(),t.cancelChanges()}).on(p+r,".k-grid-save-changes",function(n){n.preventDefault(),t.saveChanges()}),f.on(p+r,".k-grid-excel",function(n){n.preventDefault(),t.saveAsExcel()}),f.on(p+r,".k-grid-pdf",function(n){n.preventDefault(),t.saveAsPDF()}),f.on(be+r,".k-grid-search input",function(n){var i=n.currentTarget;clearTimeout(t._searchTimeOut),t._searchTimeOut=setTimeout(function(){var f,n,u,e,r;if(t._searchTimeOut=null,f=t.options,n=f.search?f.search.fields:null,u={filters:[],logic:"or"},e=i.value,n||(n=uh(f.columns)),t.dataSource.options.endless&&(t.dataSource.options.endless=null,t._endlessPageSize=t.dataSource.options.pageSize),e)for(r=0;r<n.length;r++)u.filters.push({field:n[r],operator:"contains",value:e});else u={};t.dataSource.filter(u)},300)}))},_toolbarTmpl:function(n){var t,f,e,u=this,i="",r="",o=u.options.messages.commands;if(ii(n))for(t=0,f=n.length;t<f;t++)e="string"==typeof n[t]?n[t].toLowerCase():(n[t].name||"").toLowerCase(),"search"===e?("string"!=typeof n[t]&&(r=n[t].text),r=r||o.search,i+="<span class='k-textbox k-grid-search k-display-flex'>",i+="<input autocomplete='off' placeholder='"+r+"' title='"+r+"' class='k-input' />",i+="<span class='k-input-icon'><span class='k-icon k-i-search'></span></span>",i+="</span>"):i+=u._createButton(n[t]);return i},_createButton:function(n){var e,s=n.template||ps,r=typeof n===w?n:n.name||n.text,c=d[r]?d[r].className:"k-grid-"+(r||"").replace(/\s/g,""),u={className:c,text:r,attr:"",iconClass:""},o=this.options.messages.commands;if(!(r||v(n)&&n.template))throw Error("Custom commands should have name specified");return v(n)?(n=f(!0,{},n),n.className&&h(u.className,n.className.split(" "))<0?n.className+=" "+u.className:n.className===t&&(n.className=u.className),"edit"===r&&(n=f(!0,{},n),n.text=v(n.text)?n.text.edit:n.text,n.iconClass=v(n.iconClass)?n.iconClass.edit:n.iconClass),n.attr&&(v(n.attr)&&(n.attr=gt(n.attr)),typeof n.attr===w&&(e=n.attr.match(/class="(.+?)"/),e&&h(e[1],n.className.split(" "))<0&&(n.className+=" "+e[1]))),u=f(!0,u,d[r],{text:o[r]},n)):u=f(!0,u,d[r],{text:o[r]}),i.template(s)(u)},_hasFooters:function(){return!!this.footerTemplate||!!this.groupFooterTemplate||this.footer&&this.footer.length>0||this.wrapper.find(".k-grid-footer").length>0},_groupable:function(){var t=this;t._groupableClickHandler?t.table.add(t.lockedTable).off(p+r,t._groupableClickHandler):t._groupableClickHandler=function(i){var f=n(this),r=f.closest("tr"),u=t._groupRows?t._groupRows[t.wrapper.find(".k-grouping-row").index(r)]:{};f.hasClass("k-i-collapse")?t.trigger("groupCollapse",{group:u,element:r})||t.collapseGroup(r):t.trigger("groupExpand",{group:u,element:r})||t.expandGroup(r),i.preventDefault(),i.stopPropagation()},t._isLocked()?t.lockedTable.on(p+r,".k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse",t._groupableClickHandler):t.table.on(p+r,".k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse",t._groupableClickHandler),t._attachGroupable()},_attachGroupable:function(){var t=this,r=t.wrapper,e=t.options.groupable,o=hr+"["+i.attr("field")+"]",u=t.content?".k-grid-header:first "+o:"table:first>.k-grid-header "+o;e&&e.enabled!==!1&&(r.has("div.k-grouping-header")[0]||n("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(r),t.groupable&&t._destroyGroupable(),s.chrome&&(r.find("div.k-grouping-header").css("touch-action","none"),r.find(u).css("touch-action","none")),t.groupable=new ut.Groupable(r,f({},e,{draggable:t._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:t.dataSource,draggableElements:u,filter:u,allowDrag:t.options.reorderable,change:function(n){t.trigger("group",{groups:n.groups})?n.preventDefault():(t._clearEditableState(),t.dataSource.options.endless&&(t.dataSource.options.endless=null,t._endlessPageSize=t.dataSource.options.pageSize,t.dataSource._skip=0,t.dataSource._pageSize=t.dataSource._take=t._endlessPageSize,t.dataSource._page=1))}})),t._addGroupableOptionsToHeader())},_addGroupableOptionsToHeader:function(){for(var u,t,o=this,r=ot(o.columns),s={},h="",e=o._headerCells(),f="",n=0;n<r.length;n++)h=r[n].field,s[r[n].field]=r[n];for(n=0;n<e.length;n++)u=e.eq(n),f=u.attr(i.attr(hu)),t=s[f],t&&t.groupable&&t.groupable.sort&&u.data(ce,t.groupable.sort)},_destroyGroupable:function(){var n=this;n.groupable&&n.groupable.element&&n.groupable.element.kendoGroupable("destroy"),n.groupable=null,n._removeGroupableOptionsFromHeader()},_removeGroupableOptionsFromHeader:function(){for(var i=this,t=i._headerCells(),n=0;n<t.length;n++)t.eq(n).removeData(ce)},_continuousItems:function(t,i){var u,s,o,h,e,c,f,r;if(this.lockedContent){for(u=this,s=u.table.add(u.lockedTable),o=n(t,s[0]),h=n(t,s[1]),e=i?l(u.columns).length:1,c=i?u.columns.length-e:1,f=[],r=0;r<o.length;r+=e)uo.apply(f,o.slice(r,r+e)),uo.apply(f,h.splice(0,c));return f}},_selectable:function(){var l,e,o,v,u=this,f=[],s=u._isLocked(),a=u.options.selectable;a&&(u.selectable&&u.selectable.destroy(),u._selectedIds={},a=i.ui.Selectable.parseOptions(a),l=a.multiple,e=a.cell,u._hasDetails()&&(f[f.length]=".k-detail-row"),(u.options.groupable||u._hasFooters()||u._groups())&&(f[f.length]=".k-grouping-row,.k-group-footer"),f=f.join(","),""!==f&&(f=":not("+f+")"),o=u.table,s&&(o=o.add(u.lockedTable)),v=">"+(e?ph:"tbody>tr"+f),u.selectable=new i.ui.Selectable(o,{filter:v,aria:!0,multiple:l,change:function(){var n;e||u._persistSelectedRows(),u._checkBoxSelection&&(n=u.selectable.value(),u._uncheckCheckBoxes(),u._checkRows(n),u._toggleHeaderCheckState(n.length&&n.length===u.items().length?!0:!1)),u.trigger(nt)},useAllItems:s&&l&&e,relatedTarget:function(t){var f,r,i,o;if(!e&&s){for(r=n(),i=0,o=t.length;i<o;i++)f=u._relatedRow(t[i]),h(f[0],t)<0&&(r=r.add(f));return r}},continuousItems:function(){return u._continuousItems(v,e)}}),u.options.navigatable&&o.on("keydown"+r,function(i){var r=u.current(),f=i.target;if(r)if(i.keyCode===c.SPACEBAR&&!i.shiftKey&&n.inArray(f,o)>-1&&!r.is(".k-edit-cell,.k-header")&&r.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(i.preventDefault(),i.stopPropagation(),r=e?r:r.parent(),s&&!e&&(r=r.add(u._relatedRow(r))),l)if(i.ctrlKey){if(r.hasClass(ki))return u._deselectCheckRows(r),t}else u.selectable.clear();else u.selectable.clear();e||(u.selectable._lastActive=r),u.selectable.value(r)}else!e&&(n(f).is("td")||n(f).is("table")&&h(f,this._navigatableTables))&&(i.shiftKey&&i.keyCode==c.LEFT||i.shiftKey&&i.keyCode==c.RIGHT||i.shiftKey&&i.keyCode==c.UP||i.shiftKey&&i.keyCode==c.DOWN||i.keyCode===c.SPACEBAR&&i.shiftKey)&&(i.preventDefault(),i.stopPropagation(),r=r.parent(),s&&(r=r.add(u._relatedRow(r))),l?(u.selectable._lastActive||(u.selectable._lastActive=r),u.selectable.selectRange(u.selectable._firstSelectee(),r)):(u.selectable.clear(),u.selectable.value(r)))}))},_clipboard:function(){var n,t=this.options,i=t.selectable;i&&t.allowCopy&&(n=this,t.navigatable||n.table.add(n.lockedTable).attr("tabindex",0).on("mousedown"+r+" keydown"+r,".k-detail-cell",function(n){n.target!==n.currentTarget&&n.stopImmediatePropagation()}).on("mousedown"+r,ct+">"+et,e(to,n)),n.copyHandler=e(n.copySelection,n),n.updateClipBoardState=function(){n.areaClipBoard&&n.areaClipBoard.val(n.getTSV()).focus().select()},n.bind("change",n.updateClipBoardState),n.wrapper.on("keydown",n.copyHandler),n.clearAreaHandler=e(n.clearArea,n),n.wrapper.on("keyup",n.clearAreaHandler))},copySelection:function(t){t instanceof jQuery.Event&&!t.ctrlKey&&!t.metaKey||n(t.target).is("input:visible,textarea:visible")||window.getSelection&&""+window.getSelection()||document.selection&&document.selection.createRange().text||(this.areaClipBoard||(this.areaClipBoard=n("<textarea />").css({position:"fixed",top:"50%",left:"50%",opacity:0,width:0,height:0}).appendTo(this.wrapper)),this.areaClipBoard.val(this.getTSV()).focus().select())},getTSV:function(){var h,t,f,s,u,e,i=this,r=i.select(),a="\t",o=i.options.allowCopy,c=!0;return n.isPlainObject(o)&&o.delimeter&&(a=o.delimeter),h="",r.length&&(r.eq(0).is("tr")&&(r=r.find("td:not(.k-group-cell)")),c&&r.filter(":visible"),t=[],f=this.columns.length,s=i._isLocked()&&l(i.columns).length,u=!0,n.each(r,function(r,e){var a,h,o,l;e=n(e),a=e.closest("tr"),h=a.index(),o=e.index(),c&&(o-=e.prevAll(":hidden").length),s&&u&&(u=n.contains(i.lockedTable[0],e[0])),i._groups()&&u&&(o-=i._groups()),o=u?o:o+s,f>o&&(f=o),l=e.text(),t[h]||(t[h]=[]),t[h][o]=l}),e=t.length,t=n.each(t,function(n,i){i&&(t[n]=i.slice(f),e>n&&(e=n))}),n.each(t.slice(e),function(n,t){h+=t?t.join(a)+"\r\n":"\r\n"})),h},clearArea:function(t){var i;this.areaClipBoard&&t&&t.target===this.areaClipBoard[0]&&(i=this.options.navigatable?n(this.current()).closest("table"):this.table,k(i,!0)),this.areaClipBoard&&(this.areaClipBoard.remove(),this.areaClipBoard=null)},_adaptiveColumns:function(){var n=this;n._anyColumnHasMediaQuery()&&(n._setColumnsMediaVisibility(n.columns),n._attachColumnMediaResizeHandler())},_anyColumnHasMediaQuery:function(){return this._columnsWithMediaQuery().length},_columnsWithMediaQuery:function(){return le(this.columns)},_attachColumnMediaResizeHandler:function(){var t=this;t._detachColumnMediaResizeHandler(),t._columnMediaResizeHandler=e(t._onColumnMediaResize,t),n(window).on(af+r,t._columnMediaResizeHandler)},_detachColumnMediaResizeHandler:function(){var t=this;t._columnMediaResizeHandler&&n(window).off(af+r,t._columnMediaResizeHandler)},_onColumnMediaResize:function(){var n=this;n._setColumnsMediaVisibility(n.columns),n._setContentMediaWidth()},_setColumnsMediaVisibility:function(n){for(var i=n||[],t=0;t<i.length;t++)this._setColumnMediaVisibility(i[t])},_setColumnMediaVisibility:function(n){var t=this;fi(n.media)?t._setColumnsMediaVisibility(n.columns):we(n)?(t._showColumnByMedia(n),n.hidden||t._setColumnsMediaVisibility(n.columns)):t._hideColumnByMedia(n)},_showColumnByMedia:function(n){n.hidden||this.showColumn(n),iu(n)},_hideColumnByMedia:function(n){var t=n.hidden;t||(n._hideByMedia=!0,this.hideColumn(n),n._hideByMedia=!1,n.hidden=t),iu(n)},_setContentMediaWidth:function(){var e,i,b,f,l,p,y,w,u,k,r,h,v,o,s,t=this,a=t.options,c=t._isLocked();if(a.scrollable&&a.resizable&&(c&&t.lockedFooter?e=t.lockedFooter.children("table"):t.footer&&(e=t.footer.find(">.k-grid-footer-wrap>table")),e&&e[0]||(e=n()),i=c?t.wrapper.find(".k-grid-header-locked").find("table"):t.wrapper.find(".k-grid-header").find("table"),b=c?t.lockedTable:t.table,f=i.find("th"),l=i.find("colgroup"),p=f.length,y=f.filter(oi).length,w=f.length-y,u=0,""!==i[0].style.width&&parseFloat(i[0].style.width)!==u)){for(k=i.css("width"),r=0;r<p;r++)ys(f[r])&&(v=Math.max(r,r-w),o=l.children()[v],s=o?o.style.width:"",""!==s?h=parseFloat(s):(i.css("width","auto"),h=g(f.eq(r)),i.css("width",k)),u+=h);b.css("width",u-1),i.css("width",u),e.css("width",u)}},_minScreenSupport:function(){var t=this.hideMinScreenCols();t&&(this.minScreenResizeHandler=e(this.hideMinScreenCols,this),n(window).on("resize",this.minScreenResizeHandler))},hideMinScreenCols:function(){var t=this.columns,n=window.innerWidth>0?window.innerWidth:screen.width;return this._iterateMinScreenCols(t,n)},_iterateMinScreenCols:function(n,i){for(var r,f,u=!1,e=0;e<n.length;e++)r=n[e],f=r.minScreenWidth,f!==t&&null!==f&&(u=!0,f>i?this.hideColumn(r):this.showColumn(r)),!r.hidden&&r.columns&&(u=this._iterateMinScreenCols(r.columns,i)||u);return u},_relatedRow:function(t){var i,u,r=this.lockedTable;return t=n(t),r?(i=t.closest(this.table.add(this.lockedTable)),u=i.find(">tbody>tr").index(t),i=i[0]===this.table[0]?r:this.table,i.find(">tbody>tr").eq(u)):t},_relatedCell:function(t){var i,u,r=this.lockedTable;return t=n(t),r?(i=t.closest(this.table.add(this.lockedTable)),u=i.find(">tbody>tr>td").index(t),i=i[0]===this.table[0]?r:this.table,i.find(">tbody>tr>td").index(u)):t},clearSelection:function(){var n=this;return n.selectable&&!n._checkBoxSelection&&n.selectable.clear(),n._checkBoxSelection?(n._deselectCheckRows(n.select()),t):(n.options.persistSelection?n._persistSelectedRows():n._selectedIds={},n.trigger(nt),t)},select:function(n){var r=this,u=r.selectable,e=i.ui.Selectable.parseOptions(this.options.selectable),f=e.cell;return n=r.table.add(r.lockedTable).find(n),n.length?(u&&!u.options.multiple&&(u.clear(),n=n.first()),r._isLocked()&&(n=n.add(n.map(function(){return f?r._relatedCell(this):r._relatedRow(this)}))),u&&!r._checkBoxSelection?u.value(n):(r._checkRows(n),r.select().length===r.items().length&&r._toggleHeaderCheckState(!0),f||r._persistSelectedRows(),r.trigger(nt)),t):u?u.value():r.items().filter("."+ki)},_toggleHeaderCheckState:function(n){var t=this;n?t.thead.add(t.lockedHeader).find("tr "+at).prop("checked",!0).attr("aria-checked",!0).attr("aria-label","Deselect all rows"):t.thead.add(t.lockedHeader).find("tr "+at).prop("checked",!1).attr("aria-checked",!1).attr("aria-label","Select all rows")},_uncheckCheckBoxes:function(){var n=this,t=n.table.add(n.lockedTable);t.find("tbody "+at).attr("aria-checked",!1).prop("checked",!1).attr("aria-label","Select row")},_deselectCheckRows:function(t){var i=this;t=i.table.add(i.lockedTable).find(t),i._isLocked()&&(t=t.add(t.map(function(){return i._relatedRow(this)}))),t.each(function(){n(this).removeClass(ki).find(at).attr("aria-checked",!1).prop("checked",!1).attr("aria-label","Select row")}),i._toggleHeaderCheckState(!1),i._persistSelectedRows(),i.trigger(nt)},_checkRows:function(t){t.each(function(){n(this).addClass(ki).find(at).prop("checked",!0).attr("aria-label","Deselect row").attr("aria-checked",!0)})},_persistSelectedRows:function(){var i,u,f,r,n=this,o=n.items(),s=n.dataSource.options,t=s.schema,e={};if(t&&t.model&&n._data&&(f=ni(t.model)?t.model.fn.idField:t.model.id))for(n.select().each(function(){u=n.dataItem(this),e[u[f]]=!0}),r=0;r<o.length;r++)u=n.dataItem(o[r]),i=u[f],e[i]?n._selectedIds[i]=!0:delete n._selectedIds[i]},selectedKeyNames:function(){var t,i=this,n=[];for(t in i._selectedIds)n.push(t);return n.sort(),n},_updateCurrentAttr:function(t,i){var r=n(t).data("headerId");n(t).removeClass(bi).closest("table").removeAttr("aria-activedescendant"),r?(r=r.replace(this._cellId,""),n(t).attr("id",r)):n(t).removeAttr("id"),i.data("headerId",i.attr("id")).attr("id",this._cellId).addClass(bi).closest("table").attr("aria-activedescendant",this._cellId),this._current=i},_scrollCurrent:function(){var t,f,e,o,i,u,r=this._current,s=this.options.scrollable;r&&s&&(t=r.parent(),f=t.closest("table").parent(),e=f.is(".k-grid-content-locked,.k-grid-header-locked"),o=f.is(".k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap"),i=n(this.content).find(">.k-virtual-scrollable-wrap").addBack().last()[0],o&&(this.virtualScroll?(u=Math.max(h(t[0],this._items(t.parent())),0),this.virtualScroll.rows?(this._rowVirtualIndex=this.virtualScrollable.itemIndex(u),this.virtualScrollable.scrollIntoView(t)):(this._rowVirtualIndex=u,this._scrollTo(this._relatedRow(t)[0],i))):this._scrollTo(this._relatedRow(t)[0],i)),this.lockedContent&&(this.lockedContent[0].scrollTop=i.scrollTop),e||this._scrollTo(r[0],i))},current:function(n){return this._setCurrent(n,!0)},_setCurrent:function(t,i,r){var e,o,u,f=this._current;return t=n(t),t.length&&(f&&f[0]===t[0]||(e=t.parent(),o=e.children(y),u=parseInt(e.children().first().attr("colspan"),10),this._hasVirtualColumns()&&(this._virtualCellIndex=(u>1?u:0)+o.index(t)),this._updateCurrentAttr(f,t),r||this._scrollCurrent(),i||this.trigger(pe,{element:t}))),t&&t.length&&(this._lastCellIndex=t.parent().children(y).index(t)),this._current},_removeCurrent:function(){this._current&&(this._current.removeClass(bi),this._current=null)},_scrollTo:function(t,r){var y=t.tagName.toLowerCase(),u="td"===y||"th"===y,l=n(t).closest("table")[0],v=t[u?"offsetWidth":"offsetHeight"],f=r[u?"scrollLeft":"scrollTop"],a=r[u?"clientWidth":"clientHeight"],o="relative"===n(t).css("position")&&b&&u?Math.abs(l.offsetLeft-t.offsetLeft):t[u?"offsetLeft":"offsetTop"],p=o+v,e=0,c=0,h=0;b&&u&&(s.msie||s.edge?c=l.offsetLeft:s.mozilla&&(h=l.offsetLeft-i.support.scrollbar())),f=Math.abs(f+c-h),e=f>o?o:p>f+a?v<=a?p-a:o:f,e=Math.abs(e+c)+h,r[u?"scrollLeft":"scrollTop"]=e},_navigatable:function(){var f,o,u,t=this;t.options.navigatable&&(f=t.table.add(t.lockedTable),o=t.thead.parent().add(n(">table",t.lockedHeader)),u=f,t.options.scrollable&&(u=u.add(o),o.attr(gi,-1)),this._navigatableTables=u,u.off("mousedown"+r+" focus"+r+" focusout"+r+" keydown"+r),o.on("keydown"+r,e(t._openHeaderMenu,t)).find("a.k-link").attr("tabIndex",-1),f.attr(gi,ft.max(f.attr(gi)||0,0)).on("keydown"+r,".k-detail-cell",function(n){n.target!==n.currentTarget&&n.stopImmediatePropagation()}),u.on(i.support.touch?"touchstart"+r:"mousedown"+r,ct+">"+et,e(to,t)).on("focus"+r,e(t._tableFocus,t)).on("focusout"+r,e(t._tableBlur,t)).on("keydown"+r,t,e(t._tableKeyDown,t)))},_openHeaderMenu:function(n){n.altKey&&n.keyCode==c.DOWN&&(this.current().find(".k-grid-filter, .k-header-column-menu").click(),n.stopImmediatePropagation())},_setTabIndex:function(n){this._navigatableTables.attr(gi,-1),n.attr(gi,0)},_tableFocus:function(t){var r=this.current(),i=n(t.currentTarget);r&&r.is(":visible")?r.addClass(bi):this._virtualColScroll?this._setCurrent(i.find(bu),!0,!0):this._setCurrent(i.find(bu)),this._setTabIndex(i)},_tableBlur:function(){var n=this.current();n&&n.removeClass(bi)},_findCellIndex:function(n,t,i){var u,r;if(i)for(r=t;r>=0&&(u=r,n[r].hidden);r--);else for(r=t;r<n.length&&(u=r,n[r].hidden);r++);return u},_scrollToColumn:function(n,i){var f,r,e,s,o;if(this._virtualCellIndex===t)return!1;for(f=this,r=f._virtualCellIndex,e=u(rt(f.columns)),s=0,n==(b?c.LEFT:c.RIGHT)&&r!==e.length-1?r=f._findCellIndex(e,r+1):n==(b?c.RIGHT:c.LEFT)&&r?r=f._findCellIndex(e,r-1,!0):n==c.HOME?r=f._findCellIndex(e,0):n==c.END&&(r=f._findCellIndex(e,e.length-1,!0)),o=0;o<r;o++)s+=e[o].width;return f._virtualCellIndex=r,i&&(i.preventDefault(),i.stopPropagation()),f.content.scrollLeft(s),!0},_tableKeyDown:function(i){var u,r=this.current(),o=this.virtualScroll||{},s=this.virtualScrollable&&this.virtualScrollable.fetching(),e=n(i.target),f=!i.isDefaultPrevented()&&!e.is(":button,a,:input,a>.k-icon");return s?(i.preventDefault(),t):((!o.columns||r&&document.body.contains(r[0])||!this._scrollToColumn(i.keyCode,i))&&(r||(r=n(this.lockedTable).add(this.options.scrollable?this.table:this.tbody).find(bu)),r.length&&(u=!1,f&&i.keyCode==c.UP&&(u=this._moveUp(r,i.shiftKey)),f&&i.keyCode==c.DOWN&&(u=this._moveDown(r,i.shiftKey)),f&&i.keyCode==(b?c.LEFT:c.RIGHT)&&(u=this._moveRight(r,i.altKey,i.shiftKey,i.ctrlKey,i.currentTarget)),f&&i.keyCode==(b?c.RIGHT:c.LEFT)&&(u=this._moveLeft(r,i.altKey,i.shiftKey,i.ctrlKey,i.currentTarget)),f&&i.keyCode==c.PAGEDOWN&&(u=this._handlePageDown()),f&&i.keyCode==c.PAGEUP&&(u=this._handlePageUp()),f&&i.keyCode==c.HOME&&(u=this._handleHome(r,i.ctrlKey)),f&&i.keyCode==c.END&&(u=this._handleEnd(r,i.ctrlKey)),f&&i.keyCode==c.SPACEBAR&&(u=this._handleSpaceKey(r,i.ctrlKey)),i.keyCode!=c.ENTER&&i.keyCode!=c.F2||(u=this._handleEnterKey(r,i.currentTarget,e)),i.keyCode==c.ESC&&(u=this._handleEscKey(r,i.currentTarget)),i.keyCode==c.TAB&&(u=this._handleTabKey(r,i.currentTarget,i.shiftKey)),u&&(i.preventDefault(),i.stopPropagation()))),t)},_moveLeft:function(t,i,r,u,f){var e,h,s=t.parent(),o=s.parent();return i?this.collapseRow(s):u&&t.is(".k-header")&&this.options.reorderable?this._moveColumn(t,!0):(h=o.find(ct).index(s),e=this._prevHorizontalCell(o,t,h),e[0]||(r?this.lockedTable?(e=this._relatedRow(s),n.contains(this.lockedTable[0],s[0])&&(e=e.prevAll(bt+":first")),e=e.children(y+":last")):e=this._tabNext(t,f,!0):(o=this._horizontalContainer(o),e=this._prevHorizontalCell(o,t,h),e[0]!==t[0]&&k(o.parent(),!0))),this._setCurrent(e)),!0},_moveRight:function(t,i,r,u,f){var e,h,s=t.parent(),o=s.parent();return i?this.expandRow(s):u&&t.is(".k-header")&&this.options.reorderable?this._moveColumn(t,!1):(h=o.find(ct).index(s),e=this._nextHorizontalCell(o,t,h),e[0]||(r?this.lockedTable?(e=this._relatedRow(s),n.contains(this.table[0],s[0])&&(e=e.nextAll(bt+":first")),e=e.children(y+":first")):e=this._tabNext(t,f,!1):(o=this._horizontalContainer(o,!0),e=this._nextHorizontalCell(o,t,h),e[0]!==t[0]&&k(o.parent(),!0))),this._setCurrent(e)),!0},_moveUp:function(n,t){var i,u,r=n.parent().parent();return t?(i=n.parent(),i=i.prevAll(bt+":first"),i=n.parent().is(bt)?i.children().eq(n.index()):i.children(y+":last")):(i=this._prevVerticalCell(r,n),i[0]||(this._lastCellIndex=0,r=this._verticalContainer(r,!0),i=this._prevVerticalCell(r,n),i[0]&&k(r.parent(),!0))),u=this._lastCellIndex||0,this._setCurrent(i),this._lastCellIndex=u,!0},_moveDown:function(n,t){var i,u,r=n.parent().parent();return t?(i=n.parent(),i=i.nextAll(bt+":first"),i=n.parent().is(bt)?i.children().eq(n.index()):i.children(y+":first")):(i=this._nextVerticalCell(r,n),i[0]||(this._lastCellIndex=0,r=this._verticalContainer(r),i=this._nextVerticalCell(r,n),i[0]&&k(r.parent(),!0))),u=this._lastCellIndex||0,this._setCurrent(i),this._lastCellIndex=u,!0},_moveColumn:function(t,i){var s=this.wrapper.data().kendoReorderable.element.find(this._draggableInstance.options.filter+":visible"),e=o(wr(this.columns)),r=s.index(n(t)),h=i?-1:1,f=e[r],u=kr(e,this.columns,r,r+h);u>=0&&(this.reorderColumn(u,f,i),this.trigger(tu,{newIndex:u,oldIndex:r,column:f}))},_handleHome:function(n,r){var u,f=n.parent(),o=f.parent(),s=this.lockedTable&&this.lockedTable.children("tbody")[0]===o[0],e=o[0]===this.tbody[0];return this._hasVirtualColumns()?(this._scrollToColumn(i.keys.HOME),!0):(r?u=this.lockedTable?this.lockedTable.find(co+">"+et+":first"):this.table.find(co+">"+et+":first"):(e||s)&&(e&&this.lockedTable&&(f=this._relatedRow(f)),u=f.children(y+":first")),u&&u.length?(this._setCurrent(u),!0):t)},_handleEnd:function(n,r){var u,f=n.parent(),o=f.parent(),s=this.lockedTable&&this.lockedTable.children("tbody")[0]===o[0],e=o[0]===this.tbody[0];return this._hasVirtualColumns()?(this._scrollToColumn(i.keys.END),!0):(r?u=this.table.find(kh+">"+et+":last"):(e||s)&&(!e&&this.lockedTable&&(f=this._relatedRow(f)),u=f.children(y+":last")),u&&u.length?(this._setCurrent(u),!0):t)},_handlePageDown:function(){return!!this.options.pageable&&(this.dataSource.page(this.dataSource.page()+1),!0)},_handlePageUp:function(){return!!this.options.pageable&&(this.dataSource.page(this.dataSource.page()-1),!0)},_handleTabKey:function(t,i,r){var u,f=this.options.editable&&"incell"==this._editMode();return!(!f||t.is("th"))&&(u=n(yt()).closest(".k-edit-cell"),u[0]&&u[0]!==t[0]&&(t=u),u=this._tabNext(t,i,r),u[0]!==t[0]&&!!u.length&&(this._handleEditing(t,u,u.closest("table")),!0))},_handleEscKey:function(t,i){var u,r=yt(),f="incell"==this._editMode();return gh(t)?(f?this.closeCell(!0):(u=n(t).parent().index(),r&&r.blur(),this.cancelRow(!0),u>=0&&this._setCurrent(this.items().eq(u).children(et).first())),s.msie&&s.version<9&&document.body.focus(),k(i,!0),!0):!!t.has(r).length&&(k(i,!0),!0)},_toggleCurrent:function(n,t){var i=n.parent();return i.is(".k-grouping-row")?(i.find(".k-icon:first").click(),!0):!(t||!i.is(".k-master-row"))&&(i.find(".k-icon:first").click(),!0)},_handleSpaceKey:function(t,r){var f,o,s,e,u=this;if(r&&u.groupable&&t.hasClass("k-header"))return f=u.groupable.descriptors(),o=t.attr(i.attr("field")),s=u.groupable.aggregates(),e=t.attr(i.attr("title"))||o,u.groupable._canDrag(t)?(f.push({field:o,dir:"asc",aggregates:s||[]}),e+=" "+u.options.messages.ungroupHeader):(f=n.grep(f,function(n){return n.field!==o}),e+=" "+u.options.messages.groupHeader),t.attr("aria-label",e),u.dataSource.group(f),!0},_handleEnterKey:function(t,i,r){var f,e,o=this.options.editable&&this.options.editable.update!==!1,u=r.closest("[role=gridcell]");return r.is("table")||n.contains(t[0],r[0])||(t=u),t.is("th")?(f=t.find(".k-link"),f.length?f.click():t.find(at).focus(),!0):!!this._toggleCurrent(t,o)||(e=t.find(":kendoFocusable:first"),e[0]&&!t.hasClass("k-edit-cell")&&t.hasClass("k-state-focused")?(e.focus(),!0):!(!o||r.is(":button,.k-button,textarea"))&&(u[0]||(u=t),this._handleEditing(u,!1,i),!0))},_nextHorizontalCell:function(n,t,i){var r,e,u,f=t.nextAll(y);return f.length||(r=n.find(ct),e=r.index(t.parent()),e!=-1)?f.first():t.hasClass("k-header")?(u=[],pr([l(this.columns)[0]],wi(r.eq(0).children(":visible").first()),u,0,0),u[i]?u[i][0]:t):t.parent().hasClass("k-filter-row")?r.last().children(y).first():r.eq(i).children(y).first()},_prevHorizontalCell:function(n,t,i){var r,o,u,f,e=t.prevAll(y);return e.length||(r=n.find(ct),o=r.index(t.parent()),o!=-1)?e.first():t.hasClass("k-header")?(u=[],f=l(this.columns),pr([f[f.length-1]],wi(r.eq(0).children().last()),u,0,0),u[i]?u[i][0]:t):t.parent().hasClass("k-filter-row")?r.last().children(y).last():r.eq(i).children(y).last()},_currentDataIndex:function(n,i){var u,r=i.attr("data-index");return r?(u=l(this.columns).length,u&&!n.closest("div").hasClass("k-grid-content-locked")[0]?r-u:r):t},_prevVerticalCell:function(t,i){var f,u=i.parent(),o=t.children(ct),e=o.index(u),r=this._currentDataIndex(t,i);if(r||i.hasClass("k-header"))return f=ne(i),f.eq(f.length-2);if(r=Math.max(u.children(y).index(i),this._lastCellIndex||0),u.hasClass("k-filter-row"))return it(t).filter(oi).eq(r);if(e==-1){if(this._hasVirtualColumns()&&(r=this._virtualCellIndex),u=t.find("tr.k-filter-row:visible"),!u[0])return(this._hasDetails()||i.parent().find(".k-hierarchy-cell").length)&&r&&r--,it(t).filter(oi).eq(r)}else u=0===e?n():o.eq(e-1);return f=u.children(y),f.eq(f.length>r?r:0)},_nextVerticalCell:function(n,i){var c,h,s,a,l,f,v,u=i.parent(),o=n.children(ct),e=o.index(u),r=this._currentDataIndex(n,i),p=this.virtualScroll||{};if(e!=-1&&r===t&&i.hasClass("k-header"))return wi(i).eq(1);if(r=r?parseInt(r,10):u.children(y).index(i),r=Math.max(r,this._lastCellIndex||0),e==-1?(u=o.eq(0),p.columns&&(h=parseInt(u.children().first().attr("colspan"),10),r=this._virtualCellIndex-(h>1?h:0)),(this._hasDetails()||u.find(".k-hierarchy-cell").length)&&r++):u=o.eq(e+i[0].rowSpan),s=r,this._currentDataIndex(n,i)!==t)for(a=u.children(":not(.k-group-cell):not(.k-hierarchy-cell)"),l=a.filter(":hidden"),f=0,v=l.length;f<v;f++)a.index(l[f])<r&&s--;return r=s,c=u.children(y),c.eq(c.length>r?r:0)},_verticalContainer:function(n,t){var r=n.parent(),u=this._navigatableTables.length,f=Math.floor(u/2),i=h(r[0],this._navigatableTables);return t&&(f*=-1),i+=f,(i>=0||i<u)&&(r=this._navigatableTables.eq(i)),r.find(t?">thead":">tbody")},_horizontalContainer:function(n,t){var u,i,r=this._navigatableTables.length;return r<=2?n:(u=n.parent(),i=h(u[0],this._navigatableTables),i+=t?1:-1,!t||2!=i&&i!=r?!t&&(1==i||i<0)?n:this._navigatableTables.eq(i).find("thead, tbody"):n)},_tabNext:function(n,t,i){var u=!0,r=i?n.prevAll(y+":first"):n.nextAll(":visible:first");if(!r.length){if(r=n.parent(),this.lockedTable&&(u=i&&t==this.lockedTable[0]||!i&&t==this.table[0],r=this._relatedRow(r)),u){if(this._hasVirtualColumns())return n;r=r[i?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first")}r=r.children(y+(i?":last":":first"))}return r},_handleEditing:function(i,r,u){var l,c,f=this,e=n(yt()),h=f._editMode(),v=s.msie,a=v&&s.version<9,o=f._editContainer,p=f.options.editable&&f.options.editable.update!==!1;if(u=n(u),c="incell"==h?i.hasClass("k-edit-cell"):i.parent().hasClass("k-grid-edit-row"),f.editable){if(n.contains(o[0],e[0])&&(s.opera||a?e.blur().change().triggerHandler("blur"):(e.blur(),v&&e.blur())),!f.editable)return k(u),t;if(!f.editable.end())return f._setCurrent("incell"==h?o:o.children().filter(y).first()),l=o.find(":kendoFocusable:first")[0],l&&l.focus(),t;"incell"==h?f.closeCell():(f.saveRow(),c=!0)}r&&f._setCurrent(r),a&&document.body.focus(),k(u,!0),p&&(!c&&!r||r)&&(h===si?n(f.current()).hasClass(vh)||f.editCell(f.current()):f.editRow(f.current().parent()))},_wrapper:function(){var n=this,u=n.table,i=n.options.height,r=n.options.width,t=n.element;t.is("div")||(t=t.wrap("<div/>").parent()),n.wrapper=t.addClass("k-grid k-widget k-grid-display-block"),i&&(n.wrapper.css(yr,i),u.css(yr,"auto")),r&&n.wrapper.css("width",r),n._initMobile()},_initMobile:function(){var u,t=this.options,n=this;this._isMobile=t.mobile===!0&&i.support.mobileOS||"phone"===t.mobile||"tablet"===t.mobile,this._isMobile&&(u=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+i.ns+'stretch="true" data-'+i.ns+'role="view" data-'+i.ns+'init-widgets="false"></div>').parent(),this.pane=this._createPane(u),this.view=this.pane.view(),t.height?this.pane.element.parent().css(yr,t.height):this.pane.element.parent().css(yr,this.wrapper[0].style.height),this._editAnimation="slide",n.wrapper.on("transitionend"+r,function(n){n.stopPropagation()}),n.wrapper.on("contextmenu"+r,"th a",function(n){return n.preventDefault(),!1}),this.view.bind("showStart",function(){n._isLocked()&&(n._updateTablesWidth(),n._applyLockedContainersWidth(),n._syncLockedContentHeight(),n._syncLockedHeaderHeight(),n._syncLockedFooterHeight())}))},_createPane:function(n){return i.Pane.wrap(n,{viewEngine:{viewOptions:{renderOnInit:!0,wrap:!1,wrapInSections:!0,detachOnHide:!1,detachOnDestroy:!1}}})},_tbody:function(){var t,r=this,i=r.table;t=i.find(">tbody"),t.length||(t=n("<tbody/>").appendTo(i)),r.tbody=t.attr("role","rowgroup")},_scrollable:function(){var e,s,h,c,a,l,u,t=this,y=t.options,o=y.scrollable,p=o!==!0&&o.virtual&&!t.virtualScrollable,f=p?ih(o.virtual):{},v=!i.support.kineticScrollNeeded||f.rows?i.support.scrollbar():0;o&&(e=t.wrapper.children(".k-grid-header"),e[0]||(e=n('<div class="k-grid-header" />').insertBefore(t.table)),e.css(b?"padding-left":"padding-right",o.virtual?v+1:v),s=n('<table role="grid" />'),ci&&s.attr("cellspacing",0),s.width(t.table[0].style.width),s.append(t.thead),e.empty().append(n('<div class="k-grid-header-wrap k-auto-scrollable" />').append(s)),t.content=t.table.parent(),t.virtualScroll=f,t.content.is(".k-virtual-scrollable-wrap, "+ht+pf.scrollContainer)&&(t.content=t.content.parent()),t.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(t.content=t.table.wrap('<div class="k-grid-content k-auto-scrollable" />').parent()),f.rows&&t._createVirtualScrollable(),f.columns&&t.table.css({width:ff(tt(nr(t.columns)))}),h=e.children(".k-grid-header-wrap"),t.scrollables=h.add(t.content),c=t.wrapper.find(".k-grid-footer"),c.length&&(t.scrollables=t.scrollables.add(c.children(".k-grid-footer-wrap"))),h.unbind("scroll"+r).bind("scroll"+r,function(n){t._scrollLeft!==this.scrollLeft&&t.scrollables.not(n.currentTarget).scrollLeft(this.scrollLeft)}),f.rows?t.content.find(">.k-virtual-scrollable-wrap").unbind("scroll"+r).bind("scroll"+r,function(){var n=this.scrollLeft!=t._scrollLeft;t._scrollLeft=this.scrollLeft,t.scrollables.scrollLeft(this.scrollLeft),t.lockedContent&&(t.lockedContent[0].scrollTop=this.scrollTop),f.columns&&n&&t.refresh()}):(a=o.endless,l=t.dataSource.options.pageSize,a&&(t._endlessPageSize=l),t.content.unbind("scroll"+r).bind("scroll"+r,function(n){var i=this.scrollLeft!=t._scrollLeft;t._scrollLeft=this.scrollLeft,t.scrollables.not(n.currentTarget).scrollLeft(t._scrollLeft),t.lockedContent&&n.currentTarget==t.content[0]&&(t.lockedContent[0].scrollTop=this.scrollTop),a&&this.scrollTop+this.clientHeight-this.scrollHeight>=-10&&!t._endlessFetchInProgress&&t._endlessPageSize<t.dataSource.total()&&(t._skipRerenderItemsCount=t._endlessPageSize,t._endlessPageSize=t._endlessPageSize+l,t.dataSource.options.endless=!0,t._endlessFetchInProgress=!0,t.dataSource.pageSize(t._endlessPageSize)),f.columns&&i&&(t._virtualColScroll=!0,t._cacheEditableState(),t.refresh(),t._restoreEditableState(),t._virtualColScroll=!1)}),u=t.content.data("kendoTouchScroller"),u&&u.destroy(),u=i.touchScroller(t.content),u&&u.movable&&(t.touchScroller=u,u.movable.bind("change",function(n){t.scrollables.scrollLeft(-n.sender.x),t.lockedContent&&t.lockedContent.scrollTop(-n.sender.y)}),t.one(eu,function(n){n.sender.wrapper.addClass("k-grid-backface")}))))},_createVirtualScrollable:function(){var n=this;n.virtualScrollable&&n.virtualScrollable.destroy(),n.virtualScrollable=new du(n.content,{dataSource:n.dataSource,itemHeight:function(){return n._averageRowHeight()},page:function(){n._restoreEditableState()},scroll:function(){n._focusEditable()}}),n.virtualScrollable.bind(lu,e(n._onVirtualPaging,n))},_onVirtualPaging:function(){var n=this;n._cacheEditableState(),n._isVirtualIncellEditable()&&(n._shouldClearEditableState=!1,n.closeCell(),n._shouldClearEditableState=!0)},_isVirtualEditable:function(){return this._isVirtualIncellEditable()||this._isVirtualInlineEditable()||this._isVirtualPopupEditable()},_isVirtualInlineEditable:function(){return this.virtualScrollable&&this._editMode()===pu},_isVirtualIncellEditable:function(){return this.virtualScrollable&&this._editMode()===si},_isVirtualPopupEditable:function(){return this.virtualScrollable&&"popup"===this._editMode()},_hasVirtualColumns:function(){return!!(this.virtualScroll||{}).columns},_scrollVirtualWrapper:function(){var t=this,n=t.virtualScrollable;(t._isVirtualInlineEditable()||t._isVirtualIncellEditable())&&(n._isScrolledToBottom()?n._scrollWrapperToBottom():n._isScrolledToTop()&&n._scrollWrapperToTop())},_scrollVirtualWrapperOnColumnResize:function(){var n=this.virtualScrollable;n&&n._scrollWrapperOnColumnResize()},_restoreEditableState:function(){var f,u,t=this,o=t._editableState||{},i=o.model,e=t.dataSource,s=t._isVirtualInlineEditable(),h=t._isVirtualIncellEditable(),r=t._hasVirtualColumns();(s||h||r)&&i&&e._getByUid(i.uid,e.view())&&(t._editMode()===pu?(t._shouldClearEditableState=!1,t.editRow(i),r||t._focusEditable()):t._editMode()===si&&(f=t.tbody.children(dr(lh,i.uid)),u=n(f).children(dr(hu,o.field)),u[0]&&(t._shouldClearEditableState=!1,t.editCell(u),r||t._focusEditable()))),t._shouldClearEditableState=!0},_focusEditable:function(){var n=this,i=(n._editableState||{}).field,t=n._editContainer;t&&t.length&&!ru(t[0],yt())&&n._canFocusEditable()&&(n._isVirtualInlineEditable()||n._hasVirtualColumns()?t.find(dr(au,i)).find(ie).eq(0).focus():(n._isVirtualIncellEditable()||n._hasVirtualColumns())&&t.find(ie).eq(0).focus())},_canFocusEditable:function(){var n=this;return(n._isVirtualIncellEditable()||n._isVirtualInlineEditable()||n._hasVirtualColumns())&&(lo((n.virtualScrollable||{}).wrapper,n._editContainer)||lo(n.content,n._editContainer))},_cacheEditableState:function(){var r,f,t=this,u=t._editContainer,e=u?t._modelForContainer(u):null,h=t._isVirtualInlineEditable(),s=t._isVirtualIncellEditable(),o=t._hasVirtualColumns();(h||s||o)&&e&&(t._clearEditableState(),r=n(yt()),u&&r[0]&&ru(u[0],r[0])&&(r.change(),f=i.widgetInstance(r,i.ui),f&&ni(f.value)&&r.is(be)&&(f.value(r.val()),f.trigger(nt))),t._editMode()===pu?t._editableState={model:e,field:r.closest("["+i.attr(au)+"]").attr(i.attr(au))}:t._editMode()===si&&(t._editableState={model:e,field:u.attr(i.attr(hu))}))},_clearSortClasses:function(){var n=this;n.content&&n.content.find("col:not(.k-group-col):not(.k-hierarchy-col)").removeClass("k-sorted"),n.lockedContent&&n.lockedContent.find("col:not(.k-group-col):not(.k-hierarchy-col)").removeClass("k-sorted")},_clearEditableState:function(){var n=this;(n.virtualScrollable||n.virtualScroll&&n._hasVirtualColumns())&&(n._editableState=null)},_destroyVirtualScrollable:function(){var n=this;n._clearEditableState(),n.virtualScrollable&&n.virtualScrollable.element&&n.virtualScrollable.destroy(),n.virtualScrollable=null},_renderNoRecordsContent:function(){var i,t=this;t.options.noRecords&&(i=t.table.parent().children("."+vo),i.length&&(t.angular("cleanup",function(){return{elements:i.get()}}),i.remove()),t.dataSource&&t.dataSource.view().length||(i=n(t.noRecordsTemplate({})).insertAfter(t.table),t.angular("compile",function(){return{elements:i.get(),data:[{}]}})))},_setContentWidth:function(t){var r,i=this,f="k-grid-content-expander",o='<div class="'+f+'"></div>',u=i.resizable;i.options.scrollable&&i.wrapper.is(":visible")&&(r=i.table.parent().children("."+f),i._setContentWidthHandler=e(i._setContentWidth,i),i.dataSource&&i.dataSource.view().length?r[0]&&(r.remove(),u&&u.unbind("resize",i._setContentWidthHandler)):(r[0]||(r=n(o).appendTo(i.table.parent()),u&&u.bind("resize",i._setContentWidthHandler)),i.thead&&(r.width(i.thead.width()),isNaN(parseFloat(t,10))||i.content.scrollLeft(t))),i._applyLockedContainersWidth(),i._syncLockedContentHeight(),i.lockedHeader&&0===i.table[0].clientWidth&&(i.table[0].style.width="1px"))},_applyLockedContainersWidth:function(){if(this.options.scrollable&&this.lockedHeader){var r,u=this.thead.parent(),f=u.parent(),t=this.wrapper[0].clientWidth,s=this._groups(),o=i.support.scrollbar(),h=this.lockedHeader.find(">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)"),c=u.find(">colgroup>col:not(.k-group-col, .k-hierarchy-col)"),n=de(h),e=de(c);s>0&&(n+=g(this.lockedHeader.find(".k-group-cell:first"))*s),n>=t&&(n=t-3*o),this.lockedHeader.add(this.lockedContent).width(n),f[0].style.width=f.parent().width()-n-2+"px",u.add(this.table).width(e),this.virtualScrollable&&!ae&&(t-=o),this.content[0].style.width=t-n-1+"px",this.lockedFooter&&this.lockedFooter.length&&(this.lockedFooter.width(n),r=this.footer.find(".k-grid-footer-wrap"),r[0].style.width=f[0].clientWidth+"px",r.children().first().width(e))}},_setContentHeight:function(){var t,e,n=this,u=n.options,o=n.wrapper.children(".k-grid-header"),r=i.support.scrollbar(),f=(u.scrollable||{}).height;u.scrollable&&n.wrapper.is(":visible")&&(f&&""===n.content[0].style.height&&(n.content[0].style.height=f),t=n.wrapper.innerHeight(),t-=pt(o),n.pager&&n.pager.element.is(":visible")&&(t-=pt(n.pager.element)),u.groupable&&(t-=pt(n.wrapper.children(".k-grouping-header"))),u.toolbar&&(t-=pt(n.wrapper.children(".k-grid-toolbar"))),n.footerTemplate&&(t-=pt(n.wrapper.children(".k-grid-footer"))),e=function(n){var i,t;return!!n[0].style.height||(i=n.height(),n.height("auto"),t=n.height(),i!=t?(n.height(""),!0):(n.height(""),!1))},e(n.wrapper)&&(t>2*r?(n.lockedContent&&(r=n.table[0].offsetWidth>n.table.parent()[0].clientWidth?r:0,n.lockedContent.height(t-r)),n.content.height(t)):n.content.height(2*r+1)))},_averageRowHeight:function(){var i,n=this,r=n._items(n.tbody).length,t=n._rowHeight;return 0===r?t:(n._rowHeight||(n._rowHeight=t=pt(n.table)/r,n._sum=t,n._measures=1),i=pt(n.table)/r,t!==i&&(n._measures++,n._sum+=i,n._rowHeight=n._sum/n._measures),t)},_dataSource:function(){var r,n=this,u=n.options,i=u.dataSource;i=ii(i)?{data:i}:i,v(i)&&(f(i,{table:n.table,fields:n.columns}),r=u.pageable,v(r)&&r.pageSize!==t&&(i.pageSize=r.pageSize)),n.dataSource&&n._refreshHandler?n.dataSource.unbind(nt,n._refreshHandler).unbind(yu,n._progressHandler).unbind(vu,n._errorHandler).unbind(uu,n._sortHandler):(n._refreshHandler=e(n.refresh,n),n._progressHandler=e(n._requestStart,n),n._errorHandler=e(n._error,n),n._sortHandler=e(n._clearSortClasses,n)),n.dataSource=nf.create(i).bind(nt,n._refreshHandler).bind(yu,n._progressHandler).bind(vu,n._errorHandler).bind(uu,n._sortHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(t){var o,s,a,f,p,l,g,b,k,v,r=this,d=r.tbody,h=t.model,e=r.tbody.find("tr["+i.attr("uid")+"="+h.uid+"]"),w=e.hasClass("k-alt"),c=r._items(d).index(e),y=r.lockedContent;if(y&&(o=r._relatedRow(e)),e.add(o).children(".k-edit-cell").length&&!r.options.rowTemplate)e.add(o).children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){s=n(this),a=r._hasVirtualColumns()?r.virtualCols[r.cellIndex(s)]:u(r.columns)[r.cellIndex(s)],a.field===t.field&&(s.hasClass("k-edit-cell")?s.addClass("k-dirty-cell"):r._displayCell(s,a,h))});else if(!e.hasClass("k-grid-edit-row")){for(l=n().add(e),y&&(f=(w?r.lockedAltRowTemplate:r.lockedRowTemplate)(h),l=l.add(o),o.replaceWith(f)),r.angular("cleanup",function(){return{elements:l.get()}}),f=(w?r.altRowTemplate:r.rowTemplate)(h),e.replaceWith(f),f=r._items(d).eq(c),v=[{dataItem:h}],y&&(e=e.add(o),o=r._relatedRow(f)[0],li(f[0],o),f=f.add(o),v.push({dataItem:h})),r.angular("compile",function(){return{elements:f.get(),data:v}}),p=r.options.selectable,(p||r._checkBoxSelection)&&e.hasClass("k-state-selected")&&r.select(f),b=l.children(":not(.k-group-cell,.k-hierarchy-cell)"),g=f.children(":not(.k-group-cell,.k-hierarchy-cell)"),c=0,k=r.columns.length;c<k;c++)a=r.columns[c],s=g.eq(c),p&&b.eq(c).hasClass("k-state-selected")&&s.addClass("k-state-selected");r.trigger("itemChange",{item:f,data:h,ns:ut})}},_pageable:function(){var u,t=this,r=t.options.pageable;r&&(u=t.wrapper.children("div.k-grid-pager"),u.length||(u=n('<div class="k-pager-wrap k-grid-pager"/>')),"top"===r.position?u.prependTo(t.wrapper).addClass("k-grid-pager-top"):u.appendTo(t.wrapper),t.pager&&t.pager.destroy(),t.pager="object"==typeof r&&r instanceof i.ui.Pager?r:t.dataSource._groupPaging?new no(u,f({},r,{dataSource:t.dataSource})):new i.ui.Pager(u,f({},r,{dataSource:t.dataSource})),t.pager.bind("pageChange",function(n){t.trigger("page",{page:n.index})&&n.preventDefault()}),t._togglePagerVisibility())},_footer:function(){var f,e,o,t=this,s=t.dataSource.aggregates(),r="",h=t.footerTemplate,u=t.options,i=t.footer||t.wrapper.find(".k-grid-footer");h?(r=n(t._wrapFooter(h(s))),i.length?(e=r,t.angular("cleanup",function(){return{elements:i.get()}}),i.replaceWith(e),i=t.footer=e):i=t.footer=u.scrollable?u.pageable?r.insertBefore(t.wrapper.children("div.k-grid-pager")):r.appendTo(t.wrapper):r.insertBefore(t.tbody),t.angular("compile",function(){return{elements:i.find("td:not(.k-group-cell, .k-hierarchy-cell)").get(),data:hi(t.columns,function(n){return{column:n,aggregate:s[n.field]}})}})):i&&!t.footer&&(t.footer=i),i.length&&(u.scrollable&&(f=i.attr("tabindex",-1).children(".k-grid-footer-wrap"),t.scrollables=n(t.scrollables.filter(function(){return!n(this).is(".k-grid-footer-wrap")}).toArray()).add(f)),t._footerWidth&&i.find("table").css("width",t._footerWidth),f&&(o=t.content.scrollLeft(),u.scrollable!==!0&&t.virtualScroll.rows&&(o=t.wrapper.find(".k-virtual-scrollable-wrap").scrollLeft()),f.scrollLeft(o))),t.lockedContent&&(t._appendLockedColumnFooter(),t._applyLockedContainersWidth(),t._syncLockedFooterHeight())},_wrapFooter:function(t){var u=this,r="",f=i.support.mobileOS?0:i.support.scrollbar();return u.options.scrollable?(r=n('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(ci?' cellspacing="0"':"")+"><tbody>"+t+"</tbody></table></div></div>"),u._appendCols(r.find("table")),r.css(b?"padding-left":"padding-right",f),r):'<tfoot class="k-grid-footer">'+t+"</tfoot>"},_columnMenu:function(){var y,r,p,g,s,w,h,d,c,n=this,v=u(n.columns),o=n.options,e=o.columnMenu,ft=a(n.columns,function(n){return n.columns!==t}).length>0,rt=this._isMobile,et=function(t){n.trigger(is,{field:t.field,container:t.container})},ot=function(t){n.trigger(ns,{field:t.field,container:t.container})},ut=function(n){k(n.closest("table"),!0)},nt=function(t){n.trigger("sort",{sort:t.sort})?t.preventDefault():(n._clearEditableState(),n.dataSource.options.endless&&(n.dataSource.options.endless=null,n._endlessPageSize=n.dataSource.options.pageSize,n.dataSource.pageSize(n.dataSource.options.pageSize)))},tt=function(t){n.trigger("filter",{filter:t.filter,field:t.field})?t.preventDefault():(n._clearEditableState(),n.dataSource.options.endless&&(n.dataSource.options.endless=null,n._endlessPageSize=n.dataSource.options.pageSize,n.dataSource.pageSize(n.dataSource.options.pageSize)))},b=o.$angular;if(e)for("boolean"==typeof e&&(e={}),n._setColumnsMediaVisibility(v),w=it(n.thead),h=0,d=w.length;h<d;h++)r=v[h],c=w.eq(h),r.command||!r.field&&!c.attr("data-"+i.ns+"field")||(y=c.data("kendoColumnMenu"),y&&y.destroy(),g=r.sortable!==!1&&e.sortable!==!1&&o.sortable!==!1&&f({},o.sortable,{compare:(r.sortable||{}).compare}),s=!(!o.filterable||r.filterable===!1||e.filterable===!1)&&f({pane:n.pane},o.filterable,r.filterable),r.filterable&&r.filterable.dataSource&&(s.forceUnique=!1,s.checkSource=r.filterable.dataSource),s&&(s.format=r.format),p={dataSource:n.dataSource,values:r.values,columns:e.columns,sortable:g,filterable:s,messages:e.messages,owner:n,closeCallback:ut,init:et,open:ot,pane:n.pane,sort:nt,filtering:tt,filter:rt?":not(.k-column-active)":"",lockedColumns:!ft&&r.lockable!==!1&&l(v).length>0},b&&(p.$angular=b),c.kendoColumnMenu(p))},_headerCells:function(){return n(this.thead).find("th").filter(function(){var t=n(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")})},_filterable:function(){var s,l,c,t,a,r,h,n=this,e=u(n.columns),p=function(t){n.trigger(io,{field:t.field,container:t.container})},y=function(n){k(n.closest("table"),!0)},b=function(t){n.trigger("filter",{filter:t.filter,field:t.field})?t.preventDefault():(n._clearEditableState(),n.dataSource.options.endless&&(n.dataSource.options.endless=null,n._endlessPageSize=n.dataSource.options.pageSize,n.dataSource.pageSize(n.dataSource.options.pageSize)))},v=function(t){n.trigger(ts,{field:t.field,container:t.container})},o=n.options.filterable;if(o&&typeof o.mode==w&&o.mode.indexOf("menu")==-1&&(o=!1),o&&!n.options.columnMenu)for(l=it(n.thead),t=0,a=l.length;t<a;t++)c=l.eq(t),e[t].filterable===!1||e[t].command||!e[t].field&&!c.attr("data-"+i.ns+"field")||(s=c.data("kendoFilterMenu"),s&&s.destroy(),s=c.data("kendoFilterMultiCheck"),s&&s.destroy(),r=e[t].filterable,h=f({},o,r,{dataSource:n.dataSource,values:e[t].values,format:e[t].format,closeCallback:y,title:e[t].title||e[t].field,init:p,open:v,pane:n.pane,change:b}),r&&r.messages&&(h.messages=f(!0,{},o.messages,r.messages)),r&&r.dataSource&&(h.forceUnique=!1,h.checkSource=r.dataSource),r&&r.multi?c.kendoFilterMultiCheck(h):c.kendoFilterMenu(h))},_filterRow:function(){var y,v,l,k,d,b,c,s,r,w,p,o,h,e,a,t=this;if(t._hasFilterRow())for(v=t.options.$angular,l=u(t.columns),k=t.options.filterable,d=t.thead.find(".k-filter-row"),b=function(n){t.trigger("filter",{filter:n.filter,field:n.field})?n.preventDefault():(t._clearEditableState(),t.dataSource.options.endless&&(t.dataSource.options.endless=null,t._endlessPageSize=t.dataSource.options.pageSize,t.dataSource.pageSize(t.dataSource.options.pageSize)))},this._updateHeader(this.dataSource.group().length),c=0;c<l.length;c++)if(r=l[c],w=t.options.filterable.operators,p=!1,o=n("<th/>"),h=r.field,r.hidden&&o.hide(),d.append(o),h&&r.filterable!==!1){if(e=r.filterable&&r.filterable.cell||{},s=t.options.dataSource,s instanceof nf&&(s=t.options.dataSource.options),a=f(!0,{},k.messages),r.filterable&&f(!0,a,r.filterable.messages),e.enabled===!1){o.html("&nbsp;");continue}e.dataSource&&(s=e.dataSource,p=!0),r.filterable&&r.filterable.operators&&(w=r.filterable.operators),y={column:r,dataSource:t.dataSource,suggestDataSource:s,customDataSource:p,field:h,messages:a,values:r.values,template:e.template,delay:e.delay,inputWidth:e.inputWidth,suggestionOperator:e.suggestionOperator,minLength:e.minLength,dataTextField:e.dataTextField,operator:e.operator,operators:w,showOperators:e.showOperators,change:b},v&&(y.$angular=v),n("<span/>").attr(i.attr("field"),h).appendTo(o).kendoFilterCell(y)}else o.html("&nbsp;")},_sortable:function(){var t,o,s,e,r,c,n=this,a=u(n.columns),h=n.options.sortable,l=function(t){n.trigger("sort",{sort:t.sort})?t.preventDefault():n._clearEditableState()};if(h){for(e=it(n.thead),r=0,c=e.length;r<c;r++)t=a[r],t.sortable!==!1&&!t.command&&t.field&&(s=e.eq(r),o=s.data("kendoColumnSorter"),o&&o.destroy(),s.attr("data-"+i.ns+"field",t.field).kendoColumnSorter(f({},h,t.sortable,{dataSource:n.dataSource,aria:!0,filter:":not(.k-column-active)",change:l})));e=null}},_columns:function(t){var v,o,a,f=this,c=f.table,y=c.find("col"),s=f.element.find("thead tr"),h=f.options.dataSource;if(t=t.length?t:hi(c.find("th"),function(t,r){t=n(t);var s=t.attr(i.attr("sortable")),h=t.attr(i.attr("filterable")),c=t.attr(i.attr("type")),o=t.attr(i.attr("groupable")),u=t.attr(i.attr("field")),e=t.attr(i.attr("title")),f=t.attr(i.attr("menu"));return u||(u=t.text().replace(/\s|[^A-z0-9]/g,"")),{field:u,type:c,title:e,sortable:"false"!==s,filterable:"false"!==h,groupable:"false"!==o,menu:f,template:t.attr(i.attr("template")),width:y.eq(r).css("width")}}),v=!(f.table.find("tbody tr").length>0&&(!h||!h.transport)),f.options.scrollable){if(a=t,o=l(t),t=rt(t),o.length>0&&0===t.length)throw Error("There should be at least one non locked column");eh(f.element.find("tr:has(th):first"),a),t=o.concat(t)}s.length&&t.length&&f._updateColumnIDs(t,s.first()),f.columns=ro(t,v),n.grep(u(f.columns),function(n){return n.selectable}).length&&(f._selectedIds={},f._checkBoxSelection=!0,f.wrapper.on(p+r,"tbody > tr "+at,e(f._checkboxClick,f)),f.wrapper.on(p+r,"thead > tr "+at,e(f._headerCheckboxClick,f))),f._foreignKeyBindings(f.columns)},_foreignKeyBindings:function(n){for(var i,u=this,r=n.length,t=0;t<r;t++)i=n[t],i.dataSource&&u._fetchForeignKeyValues(i)},_fetchForeignKeyValues:function(t){var i=this,r=n.Deferred();i._hasBoundForeignKey=!0,t.dataSource=nf.create(t.dataSource),i._foreignKeyPromises||(i._foreignKeyPromises=[]),i._foreignKeyPromises.push(r),t.dataSource.fetch().then(function(){var n=t.dataSource.data();t.values=n.map(function(n){return{value:n[t.dataValueField],text:n[t.dataTextField]}}),r.resolve()})},_updateColumnIDs:function(n,t){var u,r,i;if(n.length){for(u=t.find("th"),i=0;i<n.length;i++)r=u.eq(i).attr("id"),r&&(n[i].headerAttributes=f(n[i].headerAttributes,{id:r}));this._updateColumnIDs(rf(n),t.next())}},_headerCheckboxClick:function(t){var i=this,u=n(t.target),f=u.prop("checked"),r=u.closest(".k-grid.k-widget").getKendoGrid();i===r&&(f?i.select(r.items()):i.clearSelection())},_checkboxClick:function(t){var r=this,i=n(t.target).closest("tr"),u=!i.hasClass(ki);r===i.closest(".k-grid.k-widget").getKendoGrid()&&(u?r.select(i):r._deselectCheckRows(i))},_groups:function(){var n=this.dataSource.group();return n?n.length:0},_tmpl:function(n,r,u,o){var a,w,s,nt,c,h=this,y=f({},i.Template,h.options.templateSettings),tt=y.paramName,d=r.length,v={storage:{},count:0},k=h._hasDetails(),l=[],b=h._groups(),it=h.options.navigatable,g=i.attr("field"),p="";if(!n){for(n="<tr",u&&l.push("k-alt"),k&&l.push("k-master-row"),l.length&&(n+=' class="'+l.join(" ")+'"'),d&&(n+=" "+i.attr("uid")+'="#='+i.expr("uid",y.paramName)+'#"'),n+=" role='row'>",b>0&&!o&&(n+=sr(b)),k&&(n+='<td class="k-hierarchy-cell" aria-expanded="false"><a class="k-icon k-i-expand" href="\\#" '+ui+'="'+er+'" tabindex="-1"></a></td>'),a=0;a<d;a++)s=r[a],w=s.template,nt=typeof w,c=s.field,h._editMode()===si&&c&&(s.attributes=s.attributes||{},h.virtualScroll&&(s.attributes[g]=c),p=h._dirtyCellTemplate(c,tt),s.attributes["class"]=s.attributes["class"]||"",s.attributes["class"].indexOf(p)<0&&(s.attributes["class"]+=p)),s.colSpan&&s.colSpan>0&&fh(s.attributes)?s.attributes=te(s.attributes):!s.colSpan&&s.hidden&&(s.attributes=di(s.attributes)),s.command&&(s.attributes=s.attributes||{},t!==s.attributes["class"]?s.attributes["class"]+=" k-command-cell":s.attributes["class"]="k-command-cell"),n+="<td"+gt(s.attributes),it&&(n+=" aria-describedby='"+s.headerAttributes.id+"'"),s.colSpan&&(s.colSpan>1&&(n+=" "+i.attr("virtual")),n+=" colSpan='"+s.colSpan+"'"),n+=" role='gridcell'>",n+=h._cellTmpl(s,v),n+="</td>";n+="</tr>"}return n=i.template(n,y),v.count>0?e(n,v.storage):n},_dirtyCellTemplate:function(n,t){var r;return n&&t?(r="["===n.charAt(0)?i.expr(n,t+".dirtyFields"):t+".dirtyFields['"+n+"']","#= "+t+" && "+t+".dirty && "+t+".dirtyFields && "+r+" ? ' k-dirty-cell' : '' #"):""},_headerCellText:function(n){var o=this,e=f({},i.Template,o.options.templateSettings),t=n.headerTemplate,u=typeof t,r=n.title||n.field||"";return u===lt?r=i.template(t,e)({}):u===w&&(r=t),r},_cellTmpl:function(n,t){var e,p,s=this,a=f({},i.Template,s.options.templateSettings),l=n.template,h=a.paramName,u=n.field,r="",c=n.format,y=typeof l,o=n.values;if(n.command){if(ii(n.command)){for(e=0,p=n.command.length;e<p;e++)r+=n.command[e].visible?i.format("#= {0}(data)? '{1}':'' #",n.command[e].visible,s._createButton(n.command[e]).replace(ai,"\\#").replace(/'/gi,"\\'")):s._createButton(n.command[e]).replace(ai,"\\#");return r}return s._createButton(n.command).replace(ai,"\\#")}return n.selectable?as:(r+=s._dirtyIndicatorTemplate(u,h),y===lt?(t.storage["tmpl"+t.count]=l,r+="#=this.tmpl"+t.count+"("+h+")#",t.count++):y===w?r+=l:o&&o.length&&v(o[0])&&"value"in o[0]&&u?(r+="#var v ="+i.stringify(bf(o)).replace(ai,"\\#")+"#",r+="#var f = v[",a.useWithBlock||(r+=h+"."),r+=u+"]#",r+="${f != null ? f : ''}"):(r+=n.encoded?"#:":"#=",c&&(r+='kendo.format("'+c.replace(cs,"\\$1")+'",'),u?(u=i.expr(u,h),r+=u+"==null?'':"+u):r+="''",c&&(r+=")"),r+="#"),r)},_dirtyIndicatorTemplate:function(n,t){var r;return n&&t?(r="["===n.charAt(0)?i.expr(n,t+".dirtyFields"):t+".dirtyFields['"+n+"']","#= "+t+" && "+t+".dirty && "+t+".dirtyFields && "+r+" ? '<span class=\"k-dirty\"></span>' : '' #"):""},_virtualCols:function(t){for(var c,e,f,h=this,r=n.map(t,function(n){return n.hidden?0:parseInt(n.width,10)}),v=h.virtualScrollable?h.content.find(">.k-virtual-scrollable-wrap").scrollLeft():h.content.scrollLeft(),y=g(h.content),p=ff(t),u=[],l=0,a=0,o=0,i=0,s=0,i=0;i<t.length;i++){if(c=i<r.length-1?r[i+1]:0,!(s+r[i]+2*c<v)){l=1+o;break}r[i]&&o++,s+=r[i]}for(o=0,s=0,e=t.length-1;e>=0;e--){if(!(s+3*r[e]<p-y-v)){for(a=1+o,f=i;f<=e;f++)t[f].locked||(u.push(t[f]),t[f].colSpan&&delete t[f].colSpan);u[0].colSpan=l,u[u.length-1].colSpan=a;break}r[e]&&o++,s+=r[e]}return u[0].hidden&&u[0].colSpan--,h.virtualCols=u,u},_templates:function(){var t=this,i=t.options,y=t.dataSource,h=y.group(),w=t.footer||t.wrapper.find(".k-grid-footer"),f=y.aggregate(),s=u(t.columns),r=u(l(t.columns)),v=i.scrollable?u(rt(t.columns)):s,e=(t.virtualScroll||{}).columns?t._virtualCols(v):v,c=a(o(r),function(n,t){return n.groupHeaderColumnTemplate&&0!==t}),p=a(o(e),function(n){return n.groupHeaderColumnTemplate});if(i.scrollable&&r.length){if(i.rowTemplate||i.altRowTemplate)throw Error("Having both row template and locked columns is not supported");t.rowTemplate=t._tmpl(i.rowTemplate,e,!1,!0),t.altRowTemplate=t._tmpl(i.altRowTemplate||i.rowTemplate,e,!0,!0),t.lockedRowTemplate=t._tmpl(i.rowTemplate,r),t.lockedAltRowTemplate=t._tmpl(i.altRowTemplate||i.rowTemplate,r,!0)}else t.rowTemplate=t._tmpl(i.rowTemplate,e),t.altRowTemplate=t._tmpl(i.altRowTemplate||i.rowTemplate,e,!0);t._hasDetails()&&(t.detailTemplate=t._detailTmpl(i.detailTemplate||"")),(t._group&&!eo(f)||!eo(f)&&!w.length||a(s,function(n){return n.footerTemplate}).length)&&(t.footerTemplate=t._footerTmpl(s,f,"footerTemplate","k-footer-template")),h&&a(s,function(n){return n.groupFooterTemplate}).length&&(f=n.map(h,function(n){return n.aggregates}),t.groupFooterTemplate=t._footerTmpl(e,f,"groupFooterTemplate","k-group-footer",r.length),i.scrollable&&r.length&&(t.lockedGroupFooterTemplate=t._footerTmpl(r,f,"groupFooterTemplate","k-group-footer"))),h&&(c.length||p.length)?(f=n.map(h,function(n){return n.aggregates}),t.groupHeaderColumnTemplate=t._groupHeaderTmpl(o(e),f,"groupHeaderColumnTemplate","k-grouping-row",r.length,p),i.scrollable&&r.length&&(t.lockedGroupHeaderColumnTemplate=t._groupHeaderTmpl(o(r),f,"groupHeaderColumnTemplate","k-grouping-row",0,c))):(t.groupHeaderColumnTemplate=null,t.lockedGroupHeaderColumnTemplate=null),t.options.noRecords&&(t.noRecordsTemplate=t._noRecordsTmpl())},_noRecordsTmpl:function(){var u,e,r,l='<div class="{0}">{1}</div>',s='<div class="k-grid-norecords-template"{1}>{0}</div>',c=this.options.scrollable&&!this.wrapper[0].style.height?' style="margin:0 auto;position:static;"':"",t={storage:{},count:0},o=n.extend({},i.Template,this.options.templateSettings),h=o.paramName,f="";return u=this.options.noRecords.template?this.options.noRecords.template:i.format(s,this.options.messages.noRecords,c),e=typeof u,"function"===e?(t.storage["tmpl"+t.count]=u,f+="#=this.tmpl"+t.count+"("+h+")#",t.count++):"string"===e&&(f+=u),r=i.template(i.format(l,vo,f),o),t.count>0&&(r=n.proxy(r,t.storage)),r},_footerTmpl:function(n,t,r,u,o){var v,k,h,g,c,l=this,y=f({},i.Template,l.options.templateSettings),d=y.paramName,s="",b={},a=0,w={},p=l._groups(),nt=l.dataSource._emptyAggregates(t);for(s+='<tr class="'+u+'">',p>0&&!o&&(s+=sr(p)),l._hasDetails()&&(s+='<td class="k-hierarchy-cell">&nbsp;</td>'),v=0,k=n.length;v<k;v++)c=n[v],h=c[r],g=typeof h,s+="<td"+gt(c.footerAttributes)+">",h?(g!==lt&&(w=nt[c.field]?f({},y,{paramName:d+"['"+c.field+"']"}):{},h=i.template(h,w)),b["tmpl"+a]=h,s+="#=this.tmpl"+a+"("+d+")#",a++):s+="&nbsp;",s+="</td>";return s+="</tr>",s=i.template(s,y),a>0?e(s,b):s},_groupHeaderTmpl:function(n,r,u,o,s,c){var p,nt,v,g,b,k=this,y=f({},i.Template,k.options.templateSettings),tt=y.paramName,l="",it={},w=0,d={},rt=k.dataSource._emptyAggregates(r),a=c.length?h(c[0],n):-1;if(l+='<tr role="row" class="'+o+'">',s||(l+='# for (var i = 0; i < data.groupCells; i++) { #<td class="k-group-cell">&nbsp;</td># } #'),k._hasDetails()&&(l+='<td class="k-hierarchy-cell">&nbsp;</td>'),a<0)return l+=s?"":ur(n.length),t;if(a<ue&&c.length<=1&&!s)return l+=s?"":ur(n.length),i.template(l,y);for(a<ue?(a=s?0:1,l+=s?"":ur(a)):l+=s?dh(a):ur(a),p=a,nt=n.length;p<nt;p++)b=n[p],v=b[u],g=typeof v,l+="<td>",v?(g!==lt&&(d=rt[b.field]?f({},y,{paramName:tt+"['"+b.field+"']"}):{},v=i.template(v,d)),it["tmpl"+w]=v,l+="#=this.tmpl"+w+"("+tt+")#",w++):l+="&nbsp;",l+="</td>";return l+="</tr>",l=i.template(l,y),w>0?e(l,it):l},_detailTmpl:function(n){var s=this,t="",l=f({},i.Template,s.options.templateSettings),y=l.paramName,c={},r=0,h=s._groups(),a=o(u(s.columns)).length,v=typeof n;return t+='<tr class="k-detail-row">',h>0&&(t+=sr(h)),t+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(a?' colspan="'+a+'"':"")+">",v===lt?(c["tmpl"+r]=n,t+="#=this.tmpl"+r+"("+y+")#",r++):t+=n,t+="</td></tr>",t=i.template(t,l),r>0?e(t,c):t},_hasDetails:function(){var n=this;return null!==n.options.detailTemplate||(n._events[ou]||[]).length},_hasFilterRow:function(){var i=this.options.filterable,r=i&&typeof i.mode==w&&i.mode.indexOf("row")!=-1,t=this.columns,u=n.grep(t,function(n){return n.filterable===!1});return t.length&&u.length==t.length&&(r=!1),r},_details:function(){var t=this;if(t.options.scrollable&&t._hasDetails()&&l(t.columns).length)throw Error("Having both detail template and locked columns is not supported");t.table.on(p+r,".k-hierarchy-cell .k-i-expand, .k-hierarchy-cell .k-i-collapse",function(i){var r,e,o=n(this),l=o.closest("td.k-hierarchy-cell"),u=o.hasClass("k-i-expand"),f=o.closest("tr.k-master-row"),a=t.detailTemplate,c=t._hasDetails(),s=u?or:er,h=!!u;return o.toggleClass("k-i-expand",!u).toggleClass("k-i-collapse",u).attr(ui,s),l.attr("aria-expanded",h),r=f.next(),c&&!r.hasClass("k-detail-row")&&(e=t.dataItem(f),r=n(a(e)).addClass(f.hasClass("k-alt")?"k-alt":"").insertAfter(f),t.angular("compile",function(){return{elements:r.get(),data:[{dataItem:e}]}}),t.trigger(ou,{masterRow:f,detailRow:r,data:e,detailCell:r.find(".k-detail-cell")})),t.trigger(u?bo:ko,{masterRow:f,detailRow:r}),r.toggle(u),i.preventDefault(),!1})},dataItem:function(t){if(t=n(t)[0],!t)return null;for(var f=this.tbody.children(),e=/k-grouping-row|k-detail-row|k-group-footer/,u=t.sectionRowIndex,r=u,i=0;i<u;i++)e.test(f[i].className)&&r--;return this._data[r]},expandRow:function(t){n(t).find("> td .k-i-expand").click()},collapseRow:function(t){n(t).find("> td .k-i-collapse").click()},_createHeaderCells:function(n,r){for(var e,c,a,v,s,l=this,f="",y=l.options.messages,b=u(l.columns),w=l.dataSource.group(),o=0,p=n.length;o<p;o++)e=n[o].column||n[o],c=l._headerCellText(e),v="",s=h(e,b),e.selectable?(f+="<th scope='col'"+gt(e.headerAttributes),r&&!n[o].colSpan&&(f+=" rowspan='"+r+"'"),s>-1&&(f+=i.attr("index")+"='"+s+"'"),c=e.headerTemplate?c:i.template(hs)({}),f+=">"+c+"</th>"):e.command?(f+="<th scope='col'"+gt(e.headerAttributes),r&&!n[o].colSpan&&(f+=" rowspan='"+r+"'"),s>-1&&(f+=i.attr("index")+"='"+s+"'"),f+=">"+c+"</th>"):(e.field&&(v=i.attr("field")+"='"+e.field+"' "),f+="<th scope='col' role='columnheader' "+v,f+=" aria-haspopup='true'",r&&!n[o].colSpan&&(f+=" rowspan='"+r+"'"),n[o].colSpan>1?(f+='colspan="'+(n[o].colSpan-ei(e.columns))+'" ',f+=i.attr("colspan")+"='"+n[o].colSpan+"'"):1===n[o].colSpan&&(f+=i.attr("colspan")+"='"+n[o].colSpan+"'"),e.title&&(a=e.title.replace('"',"&quot;").replace(/'/g,"'"),f+=i.attr("title")+'="'+a+'" '),e.groupable!==t&&(f+=i.attr("groupable")+"='"+e.groupable+"' "),hh(l,e)&&(f+="aria-label='"+(a||e.field)+" ",f+=sh(w,e.field)?y.ungroupHeader:y.groupHeader,f+="' "),e.aggregates&&e.aggregates.length&&(f+=i.attr("aggregates")+"='"+e.aggregates+"'"),s>-1&&(f+=i.attr("index")+"='"+s+"'"),f+=gt(e.headerAttributes),f+=">"+c+"</th>");return f},_appendLockedColumnContent:function(){for(var e,i,f,r=this.columns,s=this.table.find("colgroup"),a=s.find("col:not(.k-group-col,.k-hierarchy-col)"),o=n(),h=0,c=0,t=0,l=r.length;t<l;t++)if(r[t].locked)if(vt(r[t])){for(i=1,r[t].columns&&(i=u(r[t].columns).length-ei(r[t].columns)),i=i||1,f=0;f<i;f++)o=o.add(a.eq(t+c+f-h));c+=i-1}else h++;e=n('<div class="k-grid-content-locked"><table'+(ci?' cellspacing="0"':"")+"><colgroup></colgroup><tbody></tbody></table></div>"),s.detach(),e.find("colgroup").append(o),s.insertBefore(this.table.find("tbody")),this.lockedContent=e.insertBefore(this.content),this.lockedTable=e.children("table")},_appendLockedColumnFooter:function(){var t,e,f=this,h=f.footer,c=h.find(".k-footer-template>td"),a=h.find(".k-grid-footer-wrap>table>colgroup>col"),s=n('<div class="k-grid-footer-locked"><table><colgroup></colgroup><tbody><tr class="k-footer-template"></tr></tbody></table></div>'),v=f._groups(),r=n(),i=n();for(r=r.add(c.filter(".k-group-cell")),t=0,e=u(l(f.columns)).length;t<e;t++)r=r.add(c.eq(t+v));for(i=i.add(a.filter(".k-group-col")),t=0,e=o(u(ar(f.columns))).length;t<e;t++)i=i.add(a.eq(t+v));r.appendTo(s.find("tr")),i.appendTo(s.find("colgroup")),f.lockedFooter=s.prependTo(h)},_appendLockedColumnHeader:function(t){for(var l,nt,it,s,tt,o,a,c,w,f=this,r=this.columns,e=[],b=0,p=n(),ut=f._hasFilterRow(),rt=0,y=n(),h=0,d=n(),k=f.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),et=f.thead.find("tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)"),ft=f.thead.find(".k-filter-row").find("th:not(.k-group-cell,.k-hierarchy-cell)"),g=0,i=0,v=r.length;i<v;i++){if(r[i].locked){if(tt=et.eq(i),h=u(r[i].columns||[]).length,vt(r[i])){for(o=null,r[i].columns&&(o=h-ei(r[i].columns)),o=o||1,a=0;a<o;a++)p=p.add(k.eq(i+g+a-b));g+=o-1}for(pr([r[i]],wi(tt),e,0,0),h=h||1,c=0;c<h;c++)y=y.add(ft.eq(rt+c));rt+=h}r[i].columns&&(b+=ei(r[i].columns)),vt(r[i])||b++}if(e.length){for(l='<div class="k-grid-header-locked" style="width:1px"><table'+(ci?' cellspacing="0"':"")+"><colgroup></colgroup><thead>",l+=Array(e.length+1).join("<tr></tr>"),l+=(ut?'<tr class="k-filter-row"></tr>':"")+"</thead></table></div>",s=n(l),k=s.find("colgroup"),k.append(f.thead.prev().find("col.k-group-col").add(p)),nt=s.find("thead tr:not(.k-filter-row)"),i=0,v=e.length;i<v;i++)d=ws(e[i]),nt.eq(i).append(f.thead.find("tr:eq("+i+") .k-group-cell").add(d));return w=sf(this.thead),e.length<w&&wh(s,w-e.length),it=s.find(".k-filter-row"),it.append(f.thead.find(".k-filter-row .k-group-cell").add(y)),this.lockedHeader=s.prependTo(t),this.thead.find(".k-group-cell").remove(),!0}return!1},_removeLockedContainers:function(){var n=this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);i.destroy(n),n.off(r).remove(),this.lockedHeader=this.lockedContent=this.lockedFooter=null,this.selectable=null},_thead:function(){var s,f,v,k,nt,y,w,g,d,t=this,a=t.columns,p=t._hasDetails()&&a.length,tt=t._hasFilterRow(),c="",o=t.table.find(">thead"),rt=t.element.find("thead:first").length>0,b=t.options.messages.expandCollapseColumnHeader;if(o.length||(o=n("<thead/>").insertBefore(t.tbody)),t.lockedHeader&&t.thead?(f=t.thead.find("tr:has(th):not(.k-filter-row)").html(""),f.remove(),f=n(),t._removeLockedContainers()):f=t.element.find(rt?"thead:first tr:has(th):not(.k-filter-row)":"tr:has(th):first"),f.length){for(s=0;s<a.length;s++)k=h(a[s],u(a)),nt=it(f.parent()).filter("th:not(.k-group-cell):not(.k-hierarchy-cell)").eq(k),a[s].hidden&&k>=0&&(nt[0].style.display="none");t._updateHeadersAttr(rf(a))}else if(f=o.children().first(),!f.length){for(v=[{rowSpan:1,cells:[],index:0}],t._prepareColumns(v,a),s=0;s<v.length;s++)c+="<tr>",p&&(c+='<th class="k-hierarchy-cell" scope="col">'+b+"</th>"),c+=t._createHeaderCells(v[s].cells,v[s].rowSpan),c+="</tr>";f=n(c)}tt&&(y=n("<tr/>"),y.addClass("k-filter-row"),(p||f.find(".k-hierarchy-cell").length)&&y.prepend('<th class="k-hierarchy-cell" scope="col">&nbsp;</th>'),w=(t.thead||o).find(".k-filter-row"),w.length&&(i.destroy(w),w.remove()),o.append(y)),f.children().length?p&&!f.find(".k-hierarchy-cell")[0]&&f.prepend('<th class="k-hierarchy-cell" scope="col">'+(b?b:"&nbsp;")+"</th>"):(c="",p&&(c+='<th class="k-hierarchy-cell" scope="col">&nbsp;</th>'),c+=t._createHeaderCells(a),f.html(c)),f.attr("role","row").find("th").addClass("k-header"),t.options.scrollable||o.addClass("k-grid-header"),f.find("script").remove().end().prependTo(o),t.thead&&t._destroyColumnAttachments(),this.angular("cleanup",function(){return{elements:o.find("th"+et).get()}}),this.angular("compile",function(){return{elements:o.find(hr).get(),data:hi(a,function(n){return{column:n}})}}),t.thead=o.attr("role","rowgroup"),t._sortable(),t._filterable(),t._filterRow(),t._scrollable(),t._columnMenu(),d=this.options.scrollable&&l(this.columns).length,d&&(g=t._appendLockedColumnHeader(t.thead.closest(".k-grid-header")),t._appendLockedColumnContent(),t.lockedContent.bind("DOMMouseScroll"+r+" mousewheel"+r,e(t._wheelScroll,t)),i.support.touch&&(t._lockedContentUserEvents=new i.UserEvents(t.lockedContent,{move:function(n){t.content.scrollTop(t.content.scrollTop()+-n.y.delta),n.preventDefault()}})),t._updateLockedCols()),t._updateCols(),t._updateColumnCellIndex(),t._updateFirstColumnClass(),t._resizable(),t._draggable(),t._reorderable(),t._updateHeader(t._groups()),d&&(g&&t._syncLockedHeaderHeight(),t._applyLockedContainersWidth()),t.groupable&&t._attachGroupable()},_retrieveFirstColumn:function(t,i){var r,u=n();if(i.length&&t[0]){for(r=t[0];r.columns&&r.columns.length;)r=r.columns[0],i=i.filter(":not(:first())");u=u.add(i)}return u},_updateFirstColumnClass:function(){var r,u,t=this,i=t.columns||[],f=t._hasDetails()&&i.length;f||t._groups()||(r=t.thead.find(">tr:not(.k-filter-row):not(:first)"),i=rt(i),u=t._retrieveFirstColumn(i,r),t._isLocked()&&(r=t.lockedHeader.find("thead>tr:not(.k-filter-row):not(:first)"),i=l(t.columns),u=u.add(t._retrieveFirstColumn(i,r))),u.each(function(){var t=n(this).find("th");t.removeClass("k-first"),t.eq(0).addClass("k-first")}))},_prepareColumns:function(n,t,i,r){for(var f,o=r||n[n.length-1],e=n[o.index+1],s=0,u=0;u<t.length;u++)f={column:t[u],colSpan:0},o.cells.push(f),t[u].columns&&t[u].columns.length&&(e||(e={rowSpan:0,cells:[],index:n.length},n.push(e)),f.colSpan=t[u].columns.length,this._prepareColumns(n,t[u].columns,f,e),s+=f.colSpan-1,o.rowSpan=n.length-o.index);i&&(i.colSpan+=s)},_wheelScroll:function(n){var t,u,r;n.ctrlKey||(t=this.content,this.virtualScroll.rows&&(t=this.virtualScrollable.verticalScrollbar),u=t.scrollTop(),r=i.wheelDeltaY(n),r&&(t[0].scrollHeight>t[0].clientHeight&&(t[0].scrollTop<t[0].scrollHeight-t[0].clientHeight&&r<0||t[0].scrollTop>0&&r>0)&&n.preventDefault(),t.scrollTop(u+-r)))},_isLocked:function(){return null!=this.lockedHeader},_updateHeaderCols:function(){var n=this.thead.parent().add(this.table);this._isLocked()?ti(n,tt(nr(this.columns)),this._hasDetails(),0):ti(n,tt(o(this.columns)),this._hasDetails(),0)},_updateColumnSorters:function(){var t,e,r,n,o,i=this,f=it(i.thead),s=u(i.columns);if(i.options.sortable)for(n=0,o=f.length;n<o;n++)t=s[n],t.sortable!==!1&&!t.command&&t.field&&(e=f.eq(n),r=e.data("kendoColumnSorter"),r&&r.refresh())},_updateHeadersAttr:function(n){var i,t,r;if(n.length){for(i=this,t=0;t<n.length;t++)n[t].headerAttributes&&(r=i.element.find("[id='"+n[t].headerAttributes.id+"']"),r.attr("headers",n[t].headerAttributes.headers));i._updateHeadersAttr(rf(n))}},_updateCols:function(n){n=n||this.thead.parent().add(this.table),this._appendCols(n,this._isLocked())},_updateLockedCols:function(n){this._isLocked()&&(n=n||this.lockedHeader.find("table").add(this.lockedTable),ti(n,tt(ar(this.columns)),this._hasDetails(),this._groups()))},_appendCols:function(n,t){t?ti(n,tt(nr(this.columns)),this._hasDetails(),0):ti(n,tt(o(this.columns)),this._hasDetails(),this._groups())},_autoColumns:function(n){if(n&&n.toJSON){var r,u,t=this;n=n.toJSON(),u=!(t.table.find("tbody tr").length>0&&(!t.dataSource||!t.dataSource.transport));for(r in n)t.columns.push({field:r,encoded:u,headerAttributes:{id:i.guid()}});t._thead(),t._templates()}},_rowsHtml:function(n,t){for(var r=this,u="",o=t.rowTemplate,e=t.altRowTemplate,i=0,f=n.length;i<f;i++)r._skipRerenderItemsCount>0?r._skipRerenderItemsCount--:u+=i%2?e(n[i]):o(n[i]),r._data.push(n[i]);return u},_groupData:function(n,t,i){var u,s=this,c=s._groupAggregatesDefaultObject||{},e=n.items,r=f({},c,n.aggregates),h=f({},{field:n.field,value:n.value,items:e,aggregates:r},n.aggregates[i?i.field:n.field]),o={};if(!t)for(u in r)o[u]=f({},r[u],{group:{field:n.field,value:n.value,items:e}});return f({},o,h)},_removeGroupIfEmpty:function(n){for(var r,i,f=this,u=f.dataSource._group.length,t=0;t<u;t++)n=n.prev(),r=+n.attr("data-group-item-count"),i=+n.attr("data-sub-group-count"),1!=r&&1!=i||n.hide()},_groupRowHtml:function(n,t,r,e,s,c,l){var w,ut,b,v=this,p="",rt=n.field,y=a(u(v.columns),function(n){return n.field==rt})[0]||{},ft=o(v.columns)[0],et=ft?ft.groupHeaderColumnTemplate:null,k=y.groupHeaderTemplate?y.groupHeaderTemplate:et,d=(y.title||rt)+": "+wf(n.value,y.format,y.values,y.encoded),nt=n.currentItems||n.items,ot=v._groups(),tt=s.groupFooterTemplate,it=s.groupHeaderColumnTemplate,g=!v.dataSource._isGroupPaged()||v.dataSource._groupsState[n.uid];if(v.options.editable&&n.items&&n.items[0]&&n.items[0].isNew&&n.items[0].isNew()&&(g=!0),(s.groupFooterTemplate||s.groupHeaderColumnTemplate||y.groupHeaderTemplate)&&(b=v._groupData(n,!1,!(y.groupHeaderTemplate||!o(v.columns)[0].groupHeaderColumnTemplate)&&o(v.columns)[0])),k&&!c&&(d=typeof k===lt?k(b):i.template(k)(b)),v._skipRerenderItemsCount?e(t,r,d,g,n.uid,v.dataSource._isGroupPaged()):it?n.excludeHeader?n.excludeHeader=!1:p+=it(f({},b,{groupCells:r,colspan:ot-r,text:d})):n.excludeHeader?n.excludeHeader=!1:p+=e(t,r,d,g,n.uid,v.dataSource._isGroupPaged()),g)if(n.hasSubgroups)for(w=0,ut=nt.length;w<ut;w++)p+=v._groupRowHtml(nt[w],c?t:t-1,r+1,e,s,c,l&&w===nt.length-1);else p+=v._rowsHtml(nt,s);return tt&&(l?h(n.value,v._skippedGroups)||v._skippedGroups.push(n.value):(v._skippedGroups.length&&v._skippedGroups[0]===n.value&&v._skippedGroups.shift(),v._skipRerenderItemsCount||(p+=tt(b)))),p},collapseGroup:function(i){var l,p,f,v,u,c,h,a,y,e,r=this,b=i,w=this.options.groupable,k=w.showFooter,s=k?0:1,o=n();if(i=n(i),l=i.find(".k-group-cell").length,this.dataSource._isGroupPaged())return c=i.attr("data-group-uid"),h=r.dataSource._getGroupByUid(c),a=r.dataSource._calculateGroupsTotal([h],!0),r.dataSource._groupsState[c]=!1,y=r.dataSource._calculateGroupsTotal([h],!0),r.dataSource._serverGroupsTotal-=a-y,r._progress(!0),r.dataSource.range(r.dataSource._currentRangeStart,r.dataSource.take(),function(){r._progress(!1)},"collapseGroup"),t;for(this._isLocked()&&(i.closest("div").hasClass("k-grid-content-locked")?o=this.tbody.children("tr:eq("+i.index()+")").nextAll("tr"):(o=i.nextAll("tr"),i=this.lockedTable.find(">tbody>tr:eq("+i.index()+")"))),i.find(".k-i-collapse").addClass("k-i-expand").removeClass("k-i-collapse"),i.find("td[aria-expanded='true']:first").attr("aria-expanded",!1).find("a").attr(ui,er),i=i.nextAll("tr"),e=[],f=0,v=i.length;f<v&&(u=i.eq(f),p=u.find(".k-group-cell").length,u.hasClass("k-grouping-row")?s++:u.hasClass("k-group-footer")&&s--,!(p<=l||u.hasClass("k-group-footer")&&s<0));f++)o.length&&e.push(o[f]),e.push(u[0]);n(e).hide(),this.options.scrollable.endless&&this.content&&(clearTimeout(r._collapseGroupsTimeOut),r._collapseGroupsTimeOut=setTimeout(function(){r.content.scroll(),r._groupToCollapse=b}))},expandGroup:function(i){var u,a,h,r,v,e,f,p,y,s,l,o,b,w,c;if(i=n(i),u=this,a=u.options.groupable.showFooter,e=n(),y=[],s=1,h=i.find(".k-group-cell").length,this.dataSource._isGroupPaged())return l=i.attr("data-group-uid"),o=u.dataSource._getGroupByUid(l),b=u.dataSource._calculateGroupsTotal([o],!0),u.dataSource._groupsState[l]=!0,o.items&&o.items.length&&(w=u.dataSource._calculateGroupsTotal([o],!0),u.dataSource._serverGroupsTotal+=w-b),u._progress(!0),u.dataSource.range(u.dataSource._currentRangeStart,u.dataSource.take(),function(){u._progress(!1)},"expandGroup"),t;for(this._isLocked()&&(i.closest("div").hasClass("k-grid-content-locked")?e=this.tbody.children("tr:eq("+i.index()+")").nextAll("tr"):(e=i.nextAll("tr"),i=this.lockedTable.find(">tbody>tr:eq("+i.index()+")"))),i.find(".k-i-expand").addClass("k-i-collapse").removeClass("k-i-expand"),i.find("td[aria-expanded='false']:first").attr("aria-expanded",!0).find("a").attr(ui,or),i=i.nextAll("tr"),f=0,p=i.length;f<p&&(r=i.eq(f),v=r.find(".k-group-cell").length,!(v<=h));f++)v!=h+1||r.hasClass("k-detail-row")||(r.show(),e.eq(f).show(),r.hasClass("k-grouping-row")&&r.find(".k-icon").hasClass("k-i-collapse")&&u.expandGroup(r),r.hasClass("k-master-row")&&r.find(".k-icon").hasClass("k-i-collapse")&&(r.next().show(),e.eq(f+1).show())),r.hasClass("k-grouping-row")&&(a&&y.push(r.is(":visible")),s++),r.hasClass("k-group-footer")&&(a&&(c=y.pop(),r.toggle(c),e.eq(f).toggle(c)),1==s?(r.show(),e.eq(f).show()):s--);0===h&&u.options.scrollable.endless&&this._isLocked()&&u._syncLockedContentHeight()},_updateHeader:function(t){var r=this,i=r._isLocked()?r.lockedHeader.find("thead"):r.thead,f=i.find("tr.k-filter-row").find("th.k-group-cell").length,u=i.find("tr:first").find("th.k-group-cell").length,e=i.children("tr:not(:first)").filter(function(){return!n(this).children(":visible").length});t>u?(n(Array(t-u+1).join('<th class="k-group-cell k-header" scope="col">'+r.options.messages.expandCollapseColumnHeader+"</th>")).prependTo(i.children("tr:not(.k-filter-row)")),r.element.is(":visible")&&e.find("th.k-group-cell").hide()):t<u&&i.find("tr").each(function(){n(this).find("th.k-group-cell").filter(":eq("+t+"),:gt("+t+")").remove()}),t>f&&n(Array(t-f+1).join('<th class="k-group-cell k-header" scope="col">&nbsp;</th>')).prependTo(i.find(".k-filter-row"))},_firstDataItem:function(n,t){return n&&t&&(n=n.hasSubgroups?this._firstDataItem(n.items[0],t):n.items[0]),n},_updateTablesWidth:function(){var i,t=this;t._isLocked()&&(i=n(">.k-grid-footer>.k-grid-footer-wrap>table",t.wrapper).add(t.thead.parent()).add(t.table),t._footerWidth=go(i.eq(0)),i.width(t._footerWidth),i=n(">.k-grid-footer>.k-grid-footer-locked>table",t.wrapper).add(t.lockedHeader.find(">table")).add(t.lockedTable),i.width(go(i.eq(0))))},hideColumn:function(i){var ut,p,f,l,w,rt,nt,ft,e,tt,d,r=this,c=0,k=r.footer||r.wrapper.find(".k-grid-footer"),ht=r.virtualScroll||{},y=r.columns,b=r.lockedHeader?it(r.lockedHeader.find(">table>thead")).filter(oi).length:0,et=a(u(r.columns),function(n){return n.groupHeaderColumnTemplate});if(i="number"==typeof i?y[i]:v(i)?a(ot(y),function(n){return n===i})[0]:a(ot(y),function(n){return n.field===i})[0],i&&vt(i)){if(tt=r._columnVisibilitySetter(i),i.columns&&i.columns.length){for(rt=gu(i,y),tt(i,!1),wt(st(n(">table>thead",r.lockedHeader),r.thead,">tr:eq("+rt.row+")>th"),rt.cell,!1),f=0;f<i.columns.length;f++)this.hideColumn(i.columns[f]);return r.trigger(br,{column:i}),t}if(e=h(i,o(u(y))),tt(i,!1),r._setParentsVisibility(i,!1),r._templates(),r._updateCols(),r._updateLockedCols(),d=r.thead,nt=e,r.lockedHeader&&b>e?d=r.lockedHeader.find(">table>thead"):nt-=b,ut=it(d).filter(oi).eq(nt),ut[0].style.display="none",wt(st(n(">table>thead",r.lockedHeader),r.thead,">tr.k-filter-row>th"),e,!1),k[0]&&(r._updateCols(k.find(">.k-grid-footer-wrap>table")),r._updateLockedCols(k.find(">.k-grid-footer-locked>table")),wt(k.find(".k-footer-template>td"),e,!1)),ht.columns&&!i.locked)return r._updateContentWidth(),r.trigger(br,{column:i}),t;if(r.lockedTable&&b>e?df(r.lockedTable.find(">tbody>tr"),e):df(r.tbody.children(),e-b),r.lockedTable)r._updateTablesWidth(),r._applyLockedContainersWidth(),r._syncLockedContentHeight(),r._syncLockedHeaderHeight(),r._syncLockedFooterHeight();else{for(l=r.thead.prev().find("col"),f=0,ft=l.length;f<ft;f+=1)if(w=l[f].style.width,l[f].className.indexOf("k-hierarchy-col")>-1)c+=g(l[f]);else if(l[f].className.indexOf("k-group-col")>-1)c+=g(l[f]);else{if(!w||w.indexOf("%")!=-1){c=0;break}c+=parseInt(w,10)}p=n(">.k-grid-header table:first,>.k-grid-footer table:first",r.wrapper).add(r.table),r._footerWidth=null,c&&(p.each(function(){this.style.width=c+"px"}),r._footerWidth=c,r._setContentWidth()),s.msie&&8==s.version&&(p.css("display","inline-table"),setTimeout(function(){p.css("display","table")},1))}r._updateFirstColumnClass(),et.length>0&&r._renderGroupRows(),r.trigger(br,{column:i})}},_setParentsVisibility:function(t,r){var s,f,h,u,l,a=this,c=a.columns,e=[],y=a._columnVisibilitySetter(t),v=r?function(n){return o(n.columns).length&&n.hidden}:function(n){return!o(n.columns).length&&!n.hidden};if(tf(t,c,e)&&e.length)for(s=e.length-1;s>=0;s--)f=e[s],h=ri(f,c),u=st(n(">table>thead",this.lockedHeader),this.thead,">tr:eq("+h.row+")>th:not(.k-group-cell):not(.k-hierarchy-cell)").eq(h.cell),v(f)&&(y(f,r),u[0].style.display=r?"":"none"),u.filter("["+i.attr("colspan")+"]").length&&(l=parseInt(u.attr(i.attr("colspan")),10),u[0].colSpan=l-ei(f.columns)||1)},_updateContentWidth:function(){var n=this,t=n.table.add(n.thead.parent());t.css({width:ff(tt(nr(n.columns)))}),n.refresh()},showColumn:function(i){var f,ut,rt,k,e,b,tt,nt,s,y,ft,o,d,w,r=this,c=r.columns,ht=r.virtualScroll||{},p=r.footer||r.wrapper.find(".k-grid-footer"),l=r.lockedHeader?it(r.lockedHeader.find(">table>thead")).length:0,et=a(u(r.columns),function(n){return n.groupHeaderColumnTemplate});if("number"==typeof i?(y=i,i=c[i]):v(i)?n.each(ot(c),function(n,t){if(t===i)return i=t,y=n,!1}):n.each(ot(c),function(n,t){if(t.field===i)return i=t,y=n,!1}),i&&!vt(i)){if(d=r._columnVisibilitySetter(i),i.columns&&i.columns.length){for(tt=ri(i,c),ft=ot(r.options.columns)[y],d(i,!0),wt(st(n(">table>thead",r.lockedHeader),r.thead,">tr:eq("+tt.row+")>th"),tt.cell,!0),f=0;f<i.columns.length;f++)ft.columns[f].hidden||this.showColumn(i.columns[f]);return r.trigger(lr,{column:i}),t}if(o=h(i,u(c)),d(i,!0),r._setParentsVisibility(i,!0),r._templates(),r._updateCols(),r._updateLockedCols(),w=r.thead,b=o,r.lockedHeader&&l>o?w=r.lockedHeader.find(">table>thead"):b-=l,rt=it(w).eq(b),rt[0].style.display="",wt(st(n(">table>thead",r.lockedHeader),r.thead,">tr.k-filter-row>th"),o,!0),p[0]&&(r._updateCols(p.find(">.k-grid-footer-wrap>table")),r._updateLockedCols(p.find(">.k-grid-footer-locked>table")),wt(p.find(".k-footer-template>td"),o,!0)),ht.columns&&!i.locked)return r._updateContentWidth(),r.trigger(lr,{column:i}),t;if(r.lockedTable&&l>o?po(r.lockedTable.find(">tbody>tr"),o):po(r.tbody.children(),o-l),r.lockedTable)r._updateTablesWidth(),r._applyLockedContainersWidth(),r._syncLockedContentHeight(),r._syncLockedHeaderHeight();else if(k=n(">.k-grid-header table:first,>.k-grid-footer table:first",r.wrapper).add(r.table),i.width){for(e=0,s=r.thead.prev().find("col"),f=0,ut=s.length;f<ut;f+=1)if(nt=s[f].style.width,s[f].className.indexOf("k-hierarchy-col")>-1)e+=g(s[f]);else if(s[f].className.indexOf("k-group-col")>-1)e+=g(s[f]);else{if(nt.indexOf("%")>-1){e=0;break}e+=parseInt(nt,10)}r._footerWidth=null,e&&(k.each(function(){this.style.width=e+"px"}),r._footerWidth=e,r._setContentWidth())}else k.width("");r._updateFirstColumnClass(),et.length>0&&r._renderGroupRows(),r.trigger(lr,{column:i})}},_columnVisibilitySetter:function(n){var t=n||{};return fi(t.media)?nh:ls},_progress:function(n){var t=this.element,r=this.options.scrollable&&this.options.scrollable.endless;this._editContainer&&"popup"===this._editMode()?t=this._editContainer:this.lockedContent||r?t=this.wrapper:this.element.is("table")?t=this.element.parent():this.content&&this.content.length&&(t=this.content),r&&n?i.ui.progress(t,n,{height:this.content.height(),top:this.content[0].offsetTop,opacity:!0}):i.ui.progress(t,n)},_resize:function(n,t){this._syncLockedContentHeight(),this._syncLockedHeaderHeight(),this.content&&(this._setContentWidth(),this._setContentHeight()),this.lockedTable&&this._syncLockedScroll(),this.virtualScrollable&&(t||this._rowHeight)&&(t&&(this._rowHeight=null),this.virtualScrollable.repaintScrollbar()),this.pager&&this.pager.element&&this.pager.resize(t)},_isActiveInTable:function(){var t=yt();return!!t&&(this.table[0]===t||n.contains(this.table[0],t)||this._isLocked()&&(this.lockedTable[0]===t||n.contains(this.lockedTable[0],t)))},refresh:function(t){var a,y,l,r=this,e=r.dataSource.view(),p=r.options.navigatable,v=r.virtualScroll||{},f=n(r.current()),s=!1,u=(r.dataSource.group()||[]).length,c=u+tt(o(r.columns)).length;t&&"itemchange"===t.action&&(r.editable||r.options.scrollable.endless)&&("popup"!=this._editMode()||"popup"===this._editMode()&&!r._editableIsClosing)||(v.columns&&r._templates(),t&&"remove"===t.action&&r.editable&&r.editable.options.model&&h(r.editable.options.model,t.items)>-1&&r.editable.options.model.unbind(nt,r._modelChangeHandler),t=t||{},r.trigger("dataBinding",{action:t.action||"rebind",index:t.index,items:t.items})||(t.action===cr&&r._isVirtualEditable()&&(r._destroyEditable(),r._clearEditableState()),r._angularItems("cleanup"),r._endlessFetchInProgress||(p&&(r._isActiveInTable()||r._editContainer&&r._editContainer.data("kendoWindow"))&&(s=f.is("th"),a=s?f.parent().children(":not(.k-group-cell)").index(f[0]):Math.max(r.cellIndex(f),0)),r._destroyEditable()),r.options.scrollable&&r.options.scrollable.endless?(clearTimeout(r._progressTimeOut),r._progressTimeOut=setTimeout(function(){r._endlessFetchInProgress||r._progress(!1)},100)):r._progress(!1),r._hideResizeHandle(),r._data=[],r.columns.length||(r._autoColumns(r._firstDataItem(e[0],u)),c=u+r.columns.length),r._group=u>0||r._group,r._group&&(r._templates(),r._updateCols(),r._updateLockedCols(),r._virtualColScroll||r._updateHeader(u),r._group=u>0,r._groupRows=ef(e)),r.content&&(y=r.content.scrollLeft()),l=r._skipRerenderItemsCount,r._renderContent(e,c,u),r.options.scrollable&&r.options.scrollable.endless&&this.lockedContent&&(r._skipRerenderItemsCount=l),r._renderLockedContent(e,c,u),r._virtualColScroll||(r._footer(),r._renderNoRecordsContent(),r._togglePagerVisibility(),r._setContentHeight(),r._setContentWidth(r.content&&y)),r.lockedTable&&(v.rows?r.content.find(">.k-virtual-scrollable-wrap").trigger("scroll"):r.touchScroller?r.touchScroller.movable.trigger("change"):(r.wrapper.one("scroll",function(n){n.stopPropagation()}),r.content.trigger("scroll"))),r._endlessFetchInProgress||r._restoreCurrent(a,s),r.touchScroller&&r.touchScroller.contentResized(),r.selectable&&r.selectable.resetTouchEvents(),r._muteAngularRebind(function(){r._angularItems("compile")}),r._checkBoxSelection&&r._toggleHeaderCheckState(!1),r.options.persistSelection&&(r.selectable&&!i.ui.Selectable.parseOptions(r.options.selectable).cell||r._checkBoxSelection)&&r.items().length?r._restoreSelection():r._selectedIds={},r.trigger(eu)))},_restoreCurrent:function(i,r){var e,s,u,o,f;if(!(i===t||i<0)){if(this._removeCurrent(),r)this._setCurrent(this.thead.find("th:not(.k-group-cell)").eq(i));else{if(e=0,s=this.virtualScroll||{},this._rowVirtualIndex?e=s.rows?this.virtualScrollable.position(this._rowVirtualIndex):this._rowVirtualIndex:i=0,u=n(),this.lockedTable&&(u=this.lockedTable.find(">tbody>tr").eq(e)),u=u.add(this.tbody.children().eq(e)),this._hasVirtualColumns()&&(o=parseInt(u.find("td:first").attr("colspan"),10),i=this._virtualCellIndex-(o>1?o-1:0)),f=u.find(">td:not(.k-group-cell):not(.k-hierarchy-cell)").eq(i),!f.length||i<0)return;this._hasVirtualColumns()?this._setCurrent(f,!0,!0):this._setCurrent(f)}this._current&&k(this._current.closest("table")[0],!0)}},_restoreSelection:function(){var t,n=this,r=n.items(),i=ni(n.dataSource.options.schema.model)?n.dataSource.options.schema.model.fn.idField:n.dataSource.options.schema.model.id;t=a(r,function(t){var r=n.dataItem(t)[i];if(n._selectedIds[r])return t}),n.select(t)},_angularItems:function(n){i.ui.DataBoundWidget.fn._angularItems.call(this,n),"cleanup"!==n||this.dataSource&&this.dataSource.options.endless||this._cleanupDetailItems(),this._angularGroupItems(n),this._angularGroupFooterItems(n)},_cleanupDetailItems:function(){var n=this;n._hasDetails()&&(n.angular("cleanup",function(){return{elements:n.tbody.children(".k-detail-row")}}),n.tbody.find(".k-detail-cell").empty())},_angularGroupItems:function(t){var i=this,r=i.tbody;i.lockedContent&&(r=i.lockedTable.find("tbody")),i._group&&i.angular(t,function(){return{elements:r.children(".k-grouping-row"),data:n.map(ef(i.dataSource.view()),function(n){return{dataItem:n}})}})},_angularGroupFooterItems:function(t){var i=this,r=i.tbody;i.lockedContent&&(r=i.element),i._group&&i.groupFooterTemplate&&i.angular(t,function(){return{elements:r.find(".k-group-footer"),data:n.map(wo(i.dataSource.view()),function(n){return{dataItem:n}})}})},_renderContent:function(n,t,i){var u,a,l,o,r=this,e="",f=null!=r.lockedContent,c=null,s=r.options.scrollable,h={rowTemplate:r.rowTemplate,altRowTemplate:r.altRowTemplate,groupFooterTemplate:r.groupFooterTemplate,groupHeaderColumnTemplate:r.groupHeaderColumnTemplate};if(s&&s.endless&&!r.dataSource.options.endless&&(r._skipRerenderItemsCount=0,r.content&&(r.content[0].scrollTop=0)),c=r._skipRerenderItemsCount>0,t=f?t-tt(ar(r.columns)).length:t,i>0)for(t=f?t-i:t,r.detailTemplate&&t++,r.groupFooterTemplate&&(r._groupAggregatesDefaultObject=r.dataSource.aggregates()),r.options.scrollable.endless&&(o=r.dataSource.flatView().length),u=0,a=n.length;u<a;u++)r._skippedGroups||(r._skippedGroups=[]),l=o&&u===n.length-1&&o!==r.dataSource.total(),e+=r._groupRowHtml(n[u],t,0,f?so:fr,h,f,l);else e+=r._rowsHtml(n,h);c?(r.tbody.append(e),clearTimeout(r._endlessFetchTimeOut),r._endlessFetchTimeOut=setTimeout(function(){r._groupToCollapse&&(r.collapseGroup(r._groupToCollapse),r._groupToCollapse=null)}),r._endlessFetchInProgress=null):r.tbody=gf(r.tbody,r.table,e,this.options.$angular)},_renderGroupRows:function(){var ft,p,nt,w,it,r,c,b,d,ot,h,y,ut,e,s,g,et,t=this,k=t._groupRows,ht=t.wrapper.find(".k-grouping-row"),v=t._groups(),st=null!=t.lockedContent;ht.each(function(ht,ct){e=n(ct),ot=e.closest("table").parent(),h=ot.is("."+th),p=tt(h?o(l(t.columns)):o(rt(t.columns))),s=e.find("."+gs).length,st?(ft=h?fr:so,nt=h?p.length+v-s:p.length):(ft=fr,nt=p.length+v-s),w=ht>=k.length?k[ht-k.length]:k[ht],it=w.field,r=a(u(t.columns),function(n){return n.field==it})[0]||{},et=!(r.groupHeaderTemplate||!o(t.columns)[0].groupHeaderColumnTemplate)&&o(t.columns)[0],c=r.groupHeaderTemplate?r.groupHeaderTemplate:o(t.columns)[0].groupHeaderColumnTemplate,b=(r.title||it)+": "+wf(w.value,r.format,r.values,r.encoded),v=v,d=t._groupData(w,!1,et),g=h?t.lockedGroupHeaderColumnTemplate:t.groupHeaderColumnTemplate,c&&(b=typeof c===lt?c(d):i.template(c)(d)),y=e.prev().length?e.prev():e.parent(),ut=n(g?g(f({},d,{groupCells:s,colspan:v-s,text:b})):ft(nt,s,b)),y.is("tbody")?y.prepend(ut):y.after(ut),e.remove()})},_renderLockedContent:function(n,t,i){var r,c,e,f="",h=null,s={rowTemplate:this.lockedRowTemplate,altRowTemplate:this.lockedAltRowTemplate,groupFooterTemplate:this.lockedGroupFooterTemplate,groupHeaderColumnTemplate:this.lockedGroupHeaderColumnTemplate};if(this.lockedContent){if(e=this.lockedTable,h=this._skipRerenderItemsCount>0,i>0)for(t-=o(u(rt(this.columns))).length,r=0,c=n.length;r<c;r++)f+=this._groupRowHtml(n[r],t,0,fr,s,!1,this.options.scrollable.endless&&r===n.length-1);else f=this._rowsHtml(n,s);h?e.children("tbody").append(f):gf(e.children("tbody"),e,f,this.options.$angular),this._syncLockedContentHeight()}},_togglePagerVisibility:function(){this.options.pageable.alwaysVisible===!1&&this.wrapper.find(".k-grid-pager").toggle(this.dataSource.total()>=this.dataSource.pageSize())},_adjustRowsHeight:function(n,t){for(var e,o,f,r=n[0].rows,c=r.length,u=t[0].rows,h=n.add(t),l=h.length,s=[],i=0;i<c&&u[i];i++)r[i].style.height&&(r[i].style.height=u[i].style.height="");for(i=0;i<c&&u[i];i++)e=r[i].offsetHeight,o=u[i].offsetHeight,f=0,e>o?f=e:e<o&&(f=o),s.push(f);for(i=0;i<l;i++)h[i].style.display="none";for(i=0;i<c;i++)s[i]&&(r[i].style.height=u[i].style.height=s[i]+1+"px");for(i=0;i<l;i++)h[i].style.display=""}}),i.ExcelMixin&&i.ExcelMixin.extend(dt.prototype),i.PDFMixin&&(i.PDFMixin.extend(dt.prototype),dt.prototype._drawPDF_autoPageBreak=function(r){function y(){s&&l!==t?(u.one("change",v),u.page(l)):(f.refresh(),v())}function v(){c.appendTo(document.body);var t=n.extend({},f.options.pdf,{_destructive:!0,progress:function(n){r.notify({page:n.page,pageNumber:n.pageNum,progress:.5+n.pageNum/n.totalPages/2,totalPages:n.totalPages})}});i.drawing.drawDOM(e,t).always(function(){c.remove()}).then(function(n){o.resolve(n)}).fail(function(n){o.reject(n)})}function h(){var n=u.page(),t=s?u.totalPages():1;a.append(p.find("tr")),n<t?u.page(n+1):(u.unbind("change",h),y())}var a,l,f=this,o=new n.Deferred,u=f.dataSource,s=f.options.pdf.allPages,p=f.wrapper.find('table[role$="grid"] > tbody'),c=n("<div>").css({position:"absolute",left:-1e4,top:-1e4}),e=f.wrapper.clone().css({height:"auto",width:"auto"}).appendTo(c);return e.find(".k-grid-content").css({height:"auto",width:"auto",overflow:"visible"}),e.find('table[role$="grid"], .k-grid-footer table').css({height:"auto",width:"100%",overflow:"visible"}),e.find(".k-grid-pager, .k-grid-toolbar, .k-grouping-header").remove(),e.find(".k-grid-header, .k-grid-footer, .k-auto-scrollable").css({paddingRight:0}),this._initPDFProgress(r),a=e.find('table[role$="grid"] > tbody').empty(),l=u.page(),s?(u.bind("change",h),u.page(1)):h(),o.promise()},dt.prototype._drawPDF=function(r){function l(){s&&c!==t?(u.unbind("change",h),u.one("change",function(){e.resolve(o)}),u.page(c)):e.resolve(o)}function h(){f._drawPDFShadow({width:f.wrapper.width()},{avoidLinks:f.options.pdf.avoidLinks}).done(function(n){var t=u.page(),i=s?u.totalPages():1,f={page:n,pageNumber:t,progress:t/i,totalPages:i};r.notify(f),o.append(f.page),t<i?u.page(t+1):l()}).fail(function(n){e.reject(n)})}var e,u,s,o,c,f=this;return f.options.pdf.paperSize&&"auto"!=f.options.pdf.paperSize?f._drawPDF_autoPageBreak(r):(e=new n.Deferred,u=f.dataSource,s=f.options.pdf.allPages,this._initPDFProgress(r),o=new i.drawing.Group,c=u.page(),s?(u.bind("change",h),u.page(1)):h(),e.promise())},dt.prototype._initPDFProgress=function(t){var u,r=n("<div class='k-loading-pdf-mask'><div class='k-loading-color'></div></div>");r.prepend(this.wrapper.clone().css({position:"absolute",top:0,left:0})),this.wrapper.append(r),u=n("<div class='k-loading-pdf-progress'>").appendTo(r).kendoProgressBar({type:"chunk",chunkCount:10,min:0,max:1,value:0}).data("kendoProgressBar"),t.progress(function(n){u.value(n.progress)}).always(function(){i.destroy(r),r.remove()})}),ut.plugin(dt),ut.plugin(du)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.notification.min",["kendo.core.min","kendo.popup.min"],n)}(function(){return function(n,t){var r=window.kendo,s=r.ui.Widget,nt=n.proxy,l=n.extend,e=window.setTimeout,k="click",d="show",b="hide",c="k-notification",f=".k-notification-wrap .k-i-close",v="k-hiding",w="info",ut="success",rt="warning",ft="error",i="top",o="left",h="bottom",a="right",p="up",u=".kendoNotification",it='<div class="k-widget k-popup k-notification"></div>',y='<div class="k-notification-wrap"><span class="k-icon k-i-#=typeIcon#" title="#=typeIcon#"></span><div class="k-notification-content">#=content#</div><span class="k-icon k-i-close" title="Hide"></span></div>',g=y.replace("#=content#","#:content#"),tt=s.extend({init:function(t,i){var u=this;s.fn.init.call(u,t,i),i=u.options,i.appendTo&&n(i.appendTo).is(t)||u.element.hide(),u._compileTemplates(i.templates),u._guid="_"+r.guid(),u._isRtl=r.support.isRtl(t),u._compileStacking(i.stacking,i.position.top,i.position.left),r.notify(u)},events:[d,b],options:{name:"Notification",position:{pinned:!0,top:null,left:null,bottom:20,right:20},stacking:"default",hideOnClick:!0,button:!1,allowHideAfter:0,autoHideAfter:5e3,appendTo:null,width:null,height:null,templates:[],animation:{open:{effects:"fade:in",duration:300},close:{effects:"fade:out",duration:600,hide:!0}}},_compileTemplates:function(t){var i=this,u=r.template;i._compiled={},n.each(t,function(t,r){i._compiled[r.type]=u(r.template||n("#"+r.templateId).html())}),i._defaultCompiled=u(y),i._safeCompiled=u(g)},_getCompiled:function(n,t){var i=t?this._safeCompiled:this._defaultCompiled;return n?this._compiled[n]||i:i},_compileStacking:function(n,t,r){var e,s,c=this,f={paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},u=null!==r?o:a;switch(n){case"down":e=h+" "+u,s=i+" "+u,delete f.paddingBottom;break;case a:e=i+" "+a,s=i+" "+o,delete f.paddingRight;break;case o:e=i+" "+o,s=i+" "+a,delete f.paddingLeft;break;case p:e=i+" "+u,s=h+" "+u,delete f.paddingTop;break;default:null!==t?(e=h+" "+u,s=i+" "+u,delete f.paddingBottom):(e=i+" "+u,s=h+" "+u,delete f.paddingTop)}c._popupOrigin=e,c._popupPosition=s,c._popupPaddings=f},_attachPopupEvents:function(n,t){function r(n){n.on(k+u,function(){h._hidePopup(t)})}var o,h=this,i=n.allowHideAfter,s=!isNaN(i)&&i>0;n.hideOnClick?t.bind("activate",function(){s?e(function(){r(t.element)},i):r(t.element)}):n.button&&(o=t.element.find(f),s?e(function(){r(o)},i):r(o))},_showPopup:function(t,i){var s,h,o=this,y=i.autoHideAfter,c=i.position.left,a=i.position.top;h=n("."+o._guid+":not(."+v+")").last(),s=new r.ui.Popup(t,{anchor:h[0]?h:document.body,origin:o._popupOrigin,position:o._popupPosition,animation:i.animation,copyAnchorStyles:!1,modal:!0,collision:"",isRtl:o._isRtl,close:function(){o._triggerHide(this.element)},deactivate:function(n){n.sender.element.off(u),n.sender.element.find(f).off(u),n.sender.destroy()}}),o._attachPopupEvents(i,s),t.removeClass("k-group k-reset"),h[0]?s.open():(null===c&&(c=n(window).width()-t.outerWidth()-i.position.right),null===a&&(a=n(window).height()-t.outerHeight()-i.position.bottom),s.open(c,a)),s.wrapper.addClass(o._guid).css(l({margin:0,zIndex:10050},o._popupPaddings)),i.position.pinned?(s.wrapper.css("position","fixed"),h[0]&&o._togglePin(s.wrapper,!0)):h[0]||o._togglePin(s.wrapper,!1),y>0&&e(function(){o._hidePopup(s)},y)},_hidePopup:function(n){n.wrapper.addClass(v),n.close()},_togglePin:function(t,r){var f=n(window),u=r?-1:1;t.css({top:parseInt(t.css(i),10)+u*f.scrollTop(),left:parseInt(t.css(o),10)+u*f.scrollLeft()})},_attachStaticEvents:function(n,t){function r(n){n.on(k+u,nt(s._hideStatic,s,t))}var s=this,i=n.allowHideAfter,o=!isNaN(i)&&i>0;n.hideOnClick?o?e(function(){r(t)},i):r(t):n.button&&(o?e(function(){r(t.find(f))},i):r(t.find(f)))},_showStatic:function(t,i){var f,r=this,u=i.autoHideAfter,h=i.animation,s=i.stacking==p||i.stacking==o?"prependTo":"appendTo";t.removeClass("k-popup").addClass(r._guid)[s](i.appendTo).hide().kendoAnimate(h.open||!1),f=r.getNotifications(),f.each(function(t,f){r._attachStaticEvents(i,n(f)),u>0&&e(function(){r._hideStatic(n(f))},u)})},_hideStatic:function(n){n.kendoAnimate(l(this.options.animation.close||!1,{complete:function(){n.off(u).find(f).off(u),n.remove()}})),this._triggerHide(n)},_triggerHide:function(n){this.trigger(b,{element:n}),this.angular("cleanup",function(){return{elements:n}})},show:function(i,u,f){var h,a,e=this,o=e.options,s=n(it);return u||(u=w),null!==i&&i!==t&&""!==i&&(r.isFunction(i)&&(i=i()),a={typeIcon:u,content:""},h=n.isPlainObject(i)?l(a,i):l(a,{content:i}),s.addClass(c+"-"+u).toggleClass(c+"-button",o.button).toggleClass(c+"-closable",o.button).attr("data-role","alert").css({width:o.width,height:o.height}).append(e._getCompiled(u,f)(h)),e.angular("compile",function(){return{elements:s,data:[{dataItem:h}]}}),n(o.appendTo)[0]?e._showStatic(s,o):e._showPopup(s,o),e.trigger(d,{element:s})),e},showText:function(n,t){this.show(n,t,!0)},info:function(n){return this.show(n,w)},success:function(n){return this.show(n,ut)},warning:function(n){return this.show(n,rt)},error:function(n){return this.show(n,ft)},hide:function(){var t=this,i=t.getNotifications();return i.each(t.options.appendTo?function(i,r){t._hideStatic(n(r))}:function(i,r){var u=n(r).data("kendoPopup");u&&t._hidePopup(u)}),t},getNotifications:function(){var i=this,t=n("."+i._guid+":not(."+v+")");return i.options.appendTo?t:t.children("."+c)},setOptions:function(n){var i,r=this;s.fn.setOptions.call(r,n),i=r.options,n.templates!==t&&r._compileTemplates(i.templates),n.stacking===t&&n.position===t||r._compileStacking(i.stacking,i.position.top,i.position.left)},destroy:function(){s.fn.destroy.call(this),this.getNotifications().off(u).find(f).off(u)}});r.ui.plugin(tt)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.upload.min",["kendo.core.min"],n)}(function(){return function(n,t){function kt(t){return n.map(bt(t),function(n){return n.name}).join(", ")}function bt(n){var t=n[0];return t.files?wt(t.files):[{name:ei(t.value),extension:pt(t.value),size:null}]}function wt(t){return n.map(t,function(n){return ii(n)})}function ii(n){var t=n.name||n.fileName;return{name:i.htmlEncode(t),extension:pt(t),size:"number"==typeof n.size?n.size:n.fileSize,rawFile:n}}function pt(n){var t=n.match(ti);return t?t[0]:""}function ei(n){var t=n.lastIndexOf("\\");return t!=-1?n.substr(t+1):n}function g(t,r){var u=i.guid();return n.map(t,function(n){return n.uid=r?i.guid():u,n})}function yt(n,t){for(var f=oi(t.allowedExtensions),u=t.maxFileSize,r=t.minFileSize,i=0;i<n.length;i++)ui(n[i],f),fi(n[i],r,u)}function oi(t){return n.map(t,function(n){var t="."===n.substring(0,1)?n:"."+n;return t.toLowerCase()})}function ui(t,i){i.length>0&&i.indexOf(t.extension.toLowerCase())<0&&(t.validationErrors=t.validationErrors||[],n.inArray(ut,t.validationErrors)===-1&&t.validationErrors.push(ut))}function fi(t,i,r){0!==i&&t.size<i&&(t.validationErrors=t.validationErrors||[],n.inArray(ht,t.validationErrors)===-1&&t.validationErrors.push(ht)),0!==r&&t.size>r&&(t.validationErrors=t.validationErrors||[],n.inArray(st,t.validationErrors)===-1&&t.validationErrors.push(st))}function k(n){var i,t=0;if("number"!=typeof n[0].size)return"";for(i=0;i<n.length;i++)n[i].size&&(t+=n[i].size);return t/=1024,t<1024?t.toFixed(2)+" KB":(t/1024).toFixed(2)+" MB"}function vt(t){return!t.multiple&&n(".k-file",t.wrapper).length>1}function lt(i,r,u,f){var e,o;return r._supportsRemove()?(e=i.data("fileNames"),o=n.map(e,function(n){return n.name}),f===!1?(r._removeFileEntry(i),t):(r._submitRemove(o,u,function(n,t,u){var f=r.trigger(y,{operation:"remove",files:e,response:n,XMLHttpRequest:u});f||r._removeFileEntry(i)},function(n){vt(r)&&r._removeFileEntry(i),r.trigger(s,{operation:"remove",files:e,XMLHttpRequest:n}),b("Server response: "+n.responseText)}),t)):(!vt(r)&&f||r._removeFileEntry(i),t)}function at(t,i,r){var f=!1,u="";try{u=n.parseJSON(dt(t)),f=!0}catch(e){r()}f&&i(u)}function dt(n){return t!==n&&""!==n||(n="{}"),n}function l(n){n.stopPropagation(),n.preventDefault()}function a(n,t,i,r){var u,f;n.on("dragenter"+t,function(n){i(n),f=new Date,u||(u=setInterval(function(){var n=new Date-f;n>100&&(r(),clearInterval(u),u=null)},100))}).on("dragover"+t,function(){f=new Date})}function gt(n){return n.is(".k-file-progress, .k-file-success, .k-file-error")}function r(t){return n(t.target).closest(".k-file")}var v,w,i=window.kendo,o=i.ui.Widget,nt=i.antiForgeryTokens,b=i.logToConsole,ti=/\.([^\.]+)$/,f=".kendoUpload",p="select",tt="upload",y="success",s="error",ct="complete",c="cancel",rt="clear",it="pause",ot="resume",et="progress",u="remove",e="validationErrors",st="invalidMaxFileSize",ht="invalidMinFileSize",ut="invalidFileExtension",ri=1e3,ni=2e3,h={loading:"k-i-upload",warning:"k-i-warning",success:"k-i-check"},d=o.extend({init:function(t,r){var e,s,h,u=this;o.fn.init.call(u,t,r),u.name=t.name,u.multiple=u.options.multiple,u.directory=u.options.directory,u.localization=u.options.localization,e=u.element,u.wrapper=e.closest(".k-upload"),0===u.wrapper.length&&(u.wrapper=u._wrapInput(e)),u._activeInput(e),u.toggle(u.options.enabled),s=u._ns=f+"-"+i.guid(),e.closest("form").on("submit"+s,n.proxy(u._onParentFormSubmit,u)).on("reset"+s,n.proxy(u._onParentFormReset,u)),u.options.async.saveUrl?(u._module=u._supportsFormData()?new w(u):new v(u),u._async=!0,h=u.options.files,h.length>0&&u._renderInitialFiles(h)):u._module=new ft(u),u._toggleDropZone(),u.wrapper.on("click",".k-upload-action",n.proxy(u._onFileAction,u)).on("click",".k-clear-selected",n.proxy(u._onClearSelected,u)).on("click",".k-upload-selected",n.proxy(u._onUploadSelected,u)),u.element.val()&&u._onInputChange({target:u.element})},events:[p,tt,y,s,ct,c,rt,et,u,it,ot],options:{name:"Upload",enabled:!0,multiple:!0,directory:!1,showFileList:!0,template:"",files:[],async:{autoRetryAfter:0,bufferChunkSize:1e7,maxAutoRetries:1,removeVerb:"POST",autoUpload:!0,withCredentials:!0,accept:"*/*; q=0.5, application/json",useArrayBuffer:!1},localization:{select:"Select files...",cancel:"Cancel",retry:"Retry",remove:"Remove",pause:"Pause",resume:"Resume",clearSelectedFiles:"Clear",uploadSelectedFiles:"Upload",dropFilesHere:"Drop files here to upload",invalidFiles:"Invalid file(s). Please check file upload requirements.",statusUploading:"uploading",statusUploaded:"uploaded",statusWarning:"warning",statusFailed:"failed",headerStatusUploading:"Uploading...",headerStatusPaused:"Paused",headerStatusUploaded:"Done",uploadSuccess:"File(s) uploaded successfully.",uploadFail:"File(s) failed to upload.",invalidMaxFileSize:"File size too large.",invalidMinFileSize:"File size too small.",invalidFileExtension:"File type not allowed."},validation:{allowedExtensions:[],maxFileSize:0,minFileSize:0},dropZone:""},setOptions:function(t){var i=this,r=i.element;n(i.options.dropZone).off(i._ns),o.fn.setOptions.call(i,t),i.multiple=i.options.multiple,i.directory=i.options.directory,r.attr("multiple",!!i._supportsMultiple()&&i.multiple),i.directory&&(r.attr("webkitdirectory",i.directory),r.attr("directory",i.directory)),i.toggle(i.options.enabled),i._toggleDropZone()},enable:function(n){n=t===n||n,this.toggle(n)},disable:function(){this.toggle(!1)},toggle:function(n){n=t===n?n:!n,this.wrapper.toggleClass("k-state-disabled",n),this.element.prop("disabled",n)},focus:function(){this.element.focus()},destroy:function(){var t=this,i=n(t.options.dropZone);n(document).add(n(".k-dropzone",t.wrapper)).add(t.wrapper.closest("form")).off(t._ns),i.length>0&&i.off(t._ns),n(t.element).off(f),o.fn.destroy.call(t)},pause:function(t){this._module.onPause({target:n(t,this.wrapper)});var i=t.find(".k-i-pause-sm");i.removeClass("k-i-pause-sm").addClass("k-i-play-sm").attr("title",this.localization.resume),n(i).parent().attr("aria-label",this.localization.resume)},resume:function(t){this._module.onResume({target:n(t,this.wrapper)});var i=t.find(".k-i-play-sm");i.removeClass("k-i-play-sm").addClass("k-i-pause-sm").attr("title",this.localization.pause),n(i).parent().attr("aria-label",this.localization.pause)},upload:function(){var n=this;n._module.onSaveSelected()},getFiles:function(){for(var r,i,e=this,f=[],u=e.wrapper.find(".k-file"),t=0;t<u.length;t++)if(r=n(u[t]).data("fileNames"))for(i=0;i<r.length;i++)f.push(r[i]);return f},clearAllFiles:function(){var n=this,t=n.wrapper.find(".k-file");t.each(function(t,i){n._removeFileByDomElement(i,!1)})},removeAllFiles:function(){var n=this,t=n.wrapper.find(".k-file");t.each(function(t,i){n._removeFileByDomElement(i,!0)})},removeFileByUid:function(n){this._removeFileByUid(n,!0)},clearFileByUid:function(n){this._removeFileByUid(n,!1)},_removeFileByUid:function(t,r){var u,f=this;"string"==typeof t&&(u=n(".k-file["+i.attr("uid")+'="'+t+'"]',f.wrapper),u.length>0&&f._removeFileByDomElement(u,r))},clearFile:function(n){this._removeFile(n,!1)},removeFile:function(n){this._removeFile(n,!0)},_removeFile:function(t,i){var u,r=this,f=r.wrapper.find(".k-file");"function"==typeof t&&f.each(function(f,e){u=n(e).data("fileNames"),t(u)&&r._removeFileByDomElement(e,i)})},_removeFileByDomElement:function(t,i){var f,r=this,u={target:n(t,r.wrapper)};r.options.async.saveUrl?(n(t).hasClass("k-file-progress")?r._module.onCancel(u):r._module.onRemove(u,{},i),f=n(".k-file",r.wrapper),0===f.length?r._hideHeaderUploadstatus():r._updateHeaderUploadStatus()):r._module.onRemove(u,{},i)},_addInput:function(t){if(t[0].nodeType){var i=this,r=t.clone().val("");r.insertAfter(i.element).data("kendo"+i.options.prefix+i.options.name,i),n(i.element).hide().attr("tabindex","-1").removeAttr("id").off(f),i._activeInput(r),i.element.focus()}},_activeInput:function(t){var i=this,r=i.wrapper;i.element=t,i.directory&&(t.attr("webkitdirectory",i.directory),t.attr("directory",i.directory)),t.attr("multiple",!!i._supportsMultiple()&&i.multiple).attr("autocomplete","off").on("click"+f,function(n){r.hasClass("k-state-disabled")&&n.preventDefault()}).on("focus"+f,function(){n(this).parent().addClass("k-state-focused")}).on("blur"+f,function(){n(this).parent().removeClass("k-state-focused")}).on("change"+f,n.proxy(i._onInputChange,i)).on("keydown"+f,n.proxy(i._onInputKeyDown,i))},_onInputKeyDown:function(n){var r=this,t=r.wrapper.find(".k-upload-action:visible:first");n.keyCode===i.keys.TAB&&t.length>0&&!n.shiftKey&&(n.preventDefault(),t.focus())},_onInputChange:function(t){var f,i=this,r=n(t.target),u=g(i._inputFiles(r),i._isAsyncNonBatch());yt(u,i.options.validation),f=i.trigger(p,{files:u}),f?(i._addInput(r),r.remove()):i._module.onSelect({target:r},u)},_readDirectory:function(t){var r=new n.Deferred,f=t.createReader(),i=[],u=function(){f.readEntries(function(n){n.length?(i=i.concat(n),u()):r.resolve(i)},r.reject)};return u(),r.promise()},_readFile:function(n){var t=this,i=n.fullPath;n.file(function(n){n.relativePath=i.slice(1),t.droppedFolderFiles.push(n),t.droppedFolderCounter--,0===t.droppedFolderCounter&&setTimeout(function(){0===t.droppedFolderCounter&&t.droppedFolderFiles.length&&(t._proceedDroppedItems(t.droppedFolderFiles),t.droppedFolderFiles=[])},0)},function(){b("File error.")})},_traverseFileTree:function(n,t){var i=this;t||i.droppedFolderCounter--,this._readDirectory(n).then(function(n){i.droppedFolderCounter+=n.length;for(var t=0;t<n.length;t++)n[t].isFile?i._readFile(n[t]):n[t].isDirectory&&i._traverseFileTree(n[t])})},_onDrop:function(n){var e,r,u,i=n.originalEvent.dataTransfer,t=this,f=i.files;if(l(n),t.options.directoryDrop&&i.items)for(e=i.items.length,t.droppedFolderCounter=0,t.droppedFolderFiles=[],r=0;r<e;r++)i.items[r].webkitGetAsEntry?(u=i.items[r].webkitGetAsEntry(),u.isDirectory?t._traverseFileTree(u,!0):u.isFile&&t.droppedFolderFiles.push(i.files[r])):t._proceedDroppedItems(f);else t._proceedDroppedItems(f)},_proceedDroppedItems:function(t){var u,i=this,r=g(wt(t),i._isAsyncNonBatch());t.length>0&&!i.wrapper.hasClass("k-state-disabled")&&(!i.multiple&&r.length>1&&r.splice(1,r.length-1),yt(r,i.options.validation),u=i.trigger(p,{files:r}),u||i._module.onSelect({target:n(".k-dropzone",i.wrapper)},r))},_filesContainValidationErrors:function(t){var i=!1;return n(t).each(function(n,t){if(t[e]&&t[e].length>0)return i=!0,!1}),i},_isAsyncNonBatch:function(){return this._async&&!this.options.async.batch||!1},_renderInitialFiles:function(n){var f,i,r=this,t=0;for(n=g(n,!0),t=0;t<n.length;t++)f=n[t],i=r._enqueueFile(f.name,{fileNames:[f]}),i.addClass("k-file-success").data("files",[n[t]]),r._supportsRemove()&&r._fileAction(i,u)},_prepareTemplateData:function(n,t){for(var u=t.fileNames,i={},f=0,r=0,r=0;r<u.length;r++)f+=u[r].size;return i.name=n,i.size=f,i.files=t.fileNames,i},_prepareDefaultSingleFileEntryTemplate:function(t){var h=this,r=t.fileNames[0],s=k(t.fileNames),o=i.getFileGroup(r.extension,!0),u=r[e],f="";return f+=u&&u.length>0?"<li class='k-file k-file-invalid'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div><span class='k-file-invalid-group-wrapper'><span class='k-file-group k-icon k-i-"+o+"'></span><span class='k-file-state'></span></span><span class='k-file-name-size-wrapper'><span class='k-file-name k-file-name-invalid' title='"+r.name+"'>"+r.name+"</span><span class='k-file-validation-message k-text-error'>"+h.localization[u[0]]+"</span></span>":"<li class='k-file'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div><span class='k-file-group-wrapper'><span class='k-file-group k-icon k-i-"+o+"'></span><span class='k-file-state'></span></span><span class='k-file-name-size-wrapper'><span class='k-file-name' title='"+r.name+"'>"+r.name+"</span><span class='k-file-size'>"+s+"</span></span>",f+="<strong class='k-upload-status'></strong>",n(f)},_prepareDefaultMultipleFileEntriesTemplate:function(t){var f,r,h,o=this,u=t.fileNames,s=o._filesContainValidationErrors(u),c=k(u),i="";for(i+=s?"<li class='k-file k-file-invalid'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div><span class='k-multiple-files-invalid-group-wrapper'><span class='k-file-group k-icon k-i-files'></span>":"<li class='k-file'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div><span class='k-multiple-files-group-wrapper'><span class='k-file-group k-icon k-i-files'></span>",i+="<span class='k-file-state'></span></span>",u.sort(function(n,t){return n[e]?-1:t[e]?1:0}),i+="<span class='k-multiple-files-wrapper'>",f=0;f<u.length;f++)r=u[f],h=k([r]),i+="<span class='k-file-name-size-wrapper'>",i+=r[e]&&r[e].length>0?"<span class='k-file-name k-file-name-invalid' title='"+r.name+"'>"+r.name+"</span>":"<span class='k-file-name' title='"+r.name+"'>"+r.name+"</span>",i+="<span class='k-file-size'>"+h+"</span></span>";return i+=s?"<span class='k-file-validation-message k-text-error'>"+o.localization.invalidFiles+"</span>":"<span class='k-file-information'>Total: "+u.length+" files, "+c+"</span>",i+="</span><strong class='k-upload-status'></strong>",n(i)},_enqueueFile:function(t,r){var h,e,l,c,f=this,a=r.fileNames[0].uid,o=n(".k-upload-files",f.wrapper),v=f.options,s=v.template;return 0===o.length&&(o=n("<ul class='k-upload-files k-reset'></ul>").appendTo(f.wrapper),f.options.showFileList||o.hide(),f.wrapper.removeClass("k-upload-empty")),h=n(".k-file",o),s?(l=f._prepareTemplateData(t,r),s=i.template(s),e=n("<li class='k-file'>"+s(l)+"</li>"),e.find(".k-upload-action").addClass("k-button k-button-icon k-flat"),f.angular("compile",function(){return{elements:e,data:[l]}})):e=1===r.fileNames.length?f._prepareDefaultSingleFileEntryTemplate(r):f._prepareDefaultMultipleFileEntriesTemplate(r),e.attr(i.attr("uid"),a).appendTo(o).data(r),f._async||n(".k-progress",e).width("100%"),!f.multiple&&h.length>0&&(c={files:h.data("fileNames"),headers:{}},f.trigger(u,c)||f._module.onRemove({target:n(h,f.wrapper)},c)),e},_removeFileEntry:function(t){var r,f,e,u=this,i=t.closest(".k-upload-files");t.remove(),r=n(".k-file",i),f=n(".k-file-success, .k-file-error",i),e=n(".k-file-invalid",i),f.length!==r.length&&e.length!==r.length||this._hideActionButtons(),0===r.length?(i.remove(),u.wrapper.addClass("k-upload-empty"),u._hideHeaderUploadstatus()):u._updateHeaderUploadStatus()},_fileAction:function(n,t,i){var r,u={remove:"k-i-x",cancel:"k-i-cancel",retry:"k-i-retry",pause:"k-i-pause-sm"},f={remove:"k-i-close",cancel:"k-i-cancel",retry:"k-i-reload-sm",pause:"k-i-pause-sm"};u.hasOwnProperty(t)&&(i||this._clearFileAction(n),this.options.template?(r=n.find(".k-upload-action").first(),r.find(".k-icon").length?r.next(".k-upload-action").length&&r.next(".k-upload-action").addClass("k-button").append("<span class='k-icon "+f[t]+" "+u[t]+"' title='"+this.localization[t]+"'aria-label='"+this.localization[t]+"'></span>").show():r.addClass("k-button").append("<span class='k-icon "+f[t]+" "+u[t]+"' title='"+this.localization[t]+"'aria-label='"+this.localization[t]+"'></span>").show()):(i||n.find(".k-upload-status .k-upload-action").remove(),n.find(".k-upload-status").append(this._renderAction(u[t],this.localization[t],f[t]))))},_fileState:function(t,i){var r=this.localization,f={uploading:{text:r.statusUploading},uploaded:{text:r.statusUploaded},failed:{text:r.statusFailed}},u=f[i];u&&n("span.k-file-state",t).text(u.text)},_renderAction:function(t,i,r){return""!==t?n("<button type='button' class='k-button k-button-icon k-flat k-upload-action' aria-label='"+i+"'><span class='k-icon "+r+" "+t+"' title='"+i+"'></span></button>").on("focus",function(){n(this).addClass("k-state-focused")}).on("blur",function(){n(this).removeClass("k-state-focused")}):n("<button type='button' class='k-button'>"+i+"</button>")},_clearFileAction:function(t){n(".k-upload-action",t).empty().hide()},_onFileAction:function(t){var s,e,r,o,h,f,i=this;return i.wrapper.hasClass("k-state-disabled")||(s=n(t.target).closest(".k-upload-action"),e=s.find(".k-icon"),r=s.closest(".k-file"),o=r.data("fileNames"),h=i._filesContainValidationErrors(o),f={files:o,headers:{}},i._retryClicked=!1,e.hasClass("k-i-x")?i.trigger(u,f)||i._module.onRemove({target:n(r,i.wrapper)},f,!h):e.hasClass("k-i-cancel")?(i.trigger(c,f),i._module.onCancel({target:n(r,i.wrapper)}),i._checkAllComplete(),i._updateHeaderUploadStatus()):e.hasClass("k-i-pause-sm")?(i.trigger(it,f),i.pause(r),i._updateHeaderUploadStatus()):e.hasClass("k-i-play-sm")?(i.trigger(ot,f),i.resume(r)):e.hasClass("k-i-retry")&&(n(".k-i-warning",r).remove(),n(".k-progressbar",r).finish().show(),i._module.onRetry({target:n(r,i.wrapper)}),i._retryClicked=!0)),!1},_onUploadSelected:function(){var t=this,n=t.wrapper;return n.hasClass("k-state-disabled")||this._module.onSaveSelected(),!1},_onClearSelected:function(){var n=this,i=n.wrapper,t={};return i.hasClass("k-state-disabled")||n.trigger(rt,t)||n.clearAllFiles(),!1},_onFileProgress:function(t,i){var u;i>100&&(i=100),n(".k-progressbar",t.target).removeClass("k-hidden"),this.options.template?n(".k-progress",t.target).width(i+"%"):(u=n(".k-upload-pct",t.target),0===u.length&&n(".k-upload-status",t.target).prepend("<span class='k-upload-pct'></span>"),100!==i?n(".k-upload-pct",t.target).text(i+"%"):n(".k-upload-pct",t.target).remove(),n(".k-progress",t.target).width(i+"%")),this.trigger(et,{files:r(t).data("fileNames"),percentComplete:i})},_onUploadSuccess:function(n,t,i){var f=this,e=r(n),c=e.data("fileNames"),s=e.find(".k-file-information"),o=e.find(".k-file-size"),h=f.trigger(y,{files:e.data("fileNames"),response:t,operation:"upload",XMLHttpRequest:i});h?f._setUploadErrorState(e):(f._fileState(e,"uploaded"),e.removeClass("k-file-progress").addClass("k-file-success"),s.length>0?s.addClass("k-hidden").after('<span class="k-file-validation-message k-text-success">'+c.length+" "+f.localization.uploadSuccess+"</span>"):o.length>0&&o.addClass("k-hidden").after('<span class="k-file-validation-message k-text-success">'+f.localization.uploadSuccess+"</span>"),f._updateHeaderUploadStatus(),f._supportsRemove()?f._fileAction(e,u):f._clearFileAction(e)),f._hideUploadProgress(e),f._checkAllComplete()},_onUploadError:function(n,t){var i=this,f=i._module,u=r(n),e=u.data("uid");i._setUploadErrorState(u),i.trigger(s,{operation:"upload",files:u.data("fileNames"),XMLHttpRequest:t}),b("Server response: "+t.responseText),i.options.async.chunkSize?f._decreasePosition&&f._decreasePosition(e):i._hideUploadProgress(u),i._checkAllComplete(),this.options.async.autoRetryAfter&&this._autoRetryAfter(u)},_autoRetryAfter:function(n){var i=this,t=this._module.retries;t&&(t[n.data("uid")]||(t[n.data("uid")]=1),t[n.data("uid")]<=this.options.async.maxAutoRetries&&(t[n.data("uid")]++,setTimeout(function(){i._module.performUpload(n)},this.options.async.autoRetryAfter)))},_setUploadErrorState:function(t){var r,i=this,o=t.data("fileNames"),f=t.find(".k-file-information"),e=t.find(".k-file-size");i._fileState(t,"failed"),t.removeClass("k-file-progress").addClass("k-file-error"),f.length>0?f.addClass("k-hidden").after('<span class="k-file-validation-message k-text-error">'+o.length+" "+i.localization.uploadFail+"</span>"):e.length>0&&e.addClass("k-hidden").after('<span class="k-file-validation-message k-text-error">'+i.localization.uploadFail+"</span>"),i._updateUploadProgress(t),r=n(".k-upload-pct",t),r.length>0&&r.remove(),this._updateHeaderUploadStatus(),this._fileAction(t,"retry"),this._fileAction(t,u,!0),i._retryClicked&&t.find(".k-i-retry").parent().focus()},_updateUploadProgress:function(t){var u,r,f,i=this;i.options.async.chunkSize?(u=t.data("uid"),i._module.metaData&&(r=i._module.metaData[u],r&&(f=r.totalChunks?Math.round(r.chunkIndex/r.totalChunks*100):100,i._onFileProgress({target:n(t,i.wrapper)},f)))):n(".k-progress",t).width("100%")},_hideUploadProgress:function(t){n(".k-progressbar",t).delay(ri).fadeOut(ni,function(){n(this).find(".k-progress").css("width","0%")})},_showActionButtons:function(){var t=this,r=n(".k-action-buttons",t.wrapper),i=n(".k-upload-selected",t.wrapper),u=n(".k-clear-selected",t.wrapper);0===i.length&&(i=t._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected").addClass("k-primary"),u=t._renderAction("",this.localization.clearSelectedFiles).addClass("k-clear-selected")),r.length||(r=n("<div />").addClass("k-action-buttons").append(u,i)),this.wrapper.append(r)},_hideActionButtons:function(){n(".k-action-buttons",this.wrapper).remove()},_showHeaderUploadStatus:function(t){var r=this,u=r.localization,f=n(".k-dropzone",r.wrapper),i=n(".k-upload-status-total",r.wrapper);0!==i.length&&i.remove(),n(".k-dropzone-hint",r.wrapper).addClass("k-hidden"),i='<strong class="k-upload-status k-upload-status-total"><span class="k-icon"></span></strong>',t?(i=n(i).append(u.headerStatusUploading),i.find(".k-icon").addClass(h.loading)):(i=n(i).append(u.headerStatusUploaded),i.find(".k-icon").addClass(h.warning)),f.length>0?f.append(i):n(".k-upload-button",r.wrapper).after(i)},_updateHeaderUploadStatus:function(){var e,r,t=this,i=n(".k-upload-status-total",this.wrapper),f=n(".k-file",t.wrapper).not(".k-file-success, .k-file-error, .k-file-invalid"),o=n(".k-file-invalid",t.wrapper),s=n(".k-file-error",t.wrapper),u=n(".k-file",t.wrapper).find(".k-i-play-sm");!u.length||u.length!==f.length&&t.options.async.concurrent?(0===f.length||o.length>0||s.length>0)&&(e=n(".k-file.k-file-error, .k-file.k-file-invalid",t.wrapper),i=n(".k-upload-status-total",t.wrapper),r=n(".k-icon",i).removeClass().addClass("k-icon").addClass(0!==e.length?h.warning:h.success),i.html(r).append(t.localization.headerStatusUploaded)):(r=n(".k-icon",i).removeClass().addClass("k-icon").addClass("k-i-pause-sm"),i.html(r).append(t.localization.headerStatusPaused))},_hideHeaderUploadstatus:function(){var t=this,i=t.options.dropZone;n(".k-upload-status-total",this.wrapper).remove(),""===i&&n(".k-dropzone-hint",t.wrapper).removeClass("k-hidden")},_onParentFormSubmit:function(){var i,u=this,r=u.element;t!==this._module.onAbort&&this._module.onAbort(),r.value||(i=n(r),i.attr("disabled","disabled"),window.setTimeout(function(){i.removeAttr("disabled")},0))},_onParentFormReset:function(){n(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return"undefined"!=typeof FormData},_supportsMultiple:function(){var n=this._userAgent().indexOf("Windows")>-1;return!(i.support.browser.opera||i.support.browser.safari&&n)},_supportsDrop:function(){var n=this._userAgent().toLowerCase(),r=/chrome/.test(n),i=!r&&/safari/.test(n),t=i&&/windows/.test(n);return!t&&this._supportsFormData()&&this.options.async.saveUrl},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var i=this,r=i._ns,t=n(".k-dropzone",i.wrapper).on("dragenter"+r,l).on("dragover"+r,function(n){n.preventDefault()}).on("drop"+r,n.proxy(i._onDrop,i));t.find(".k-dropzone-hint").length||t.append(n("<em class='k-dropzone-hint'>"+i.localization.dropFilesHere+"</em>")),a(t,r,function(){t.closest(".k-upload").hasClass("k-state-disabled")||t.addClass("k-dropzone-hovered")},function(){t.removeClass("k-dropzone-hovered")}),i._bindDocumentDragEventWrappers(t)},_setupCustomDropZone:function(){var r,t=this,i=n(t.options.dropZone);t.wrapper.find(".k-dropzone-hint").length?n(".k-dropzone-hint",t.wrapper).addClass("k-hidden"):n(".k-dropzone",t.wrapper).append(n("<em class='k-dropzone-hint k-hidden'>"+t.localization.dropFilesHere+"</em>")),r=t._ns,i.on("dragenter"+r,l).on("dragover"+r,function(n){n.preventDefault()}).on("drop"+r,n.proxy(t._onDrop,t)),a(i,r,function(r){t.wrapper.hasClass("k-state-disabled")||(i.removeClass("k-dropzone-hovered"),i.addClass("k-dropzone-hovered"),n(r.target).addClass("k-dropzone-hovered"))},function(){i.removeClass("k-dropzone-hovered"),i.find(".k-dropzone-hovered").removeClass("k-dropzone-hovered")}),t._bindDocumentDragEventWrappers(i)},_bindDocumentDragEventWrappers:function(t){var i=this,r=i._ns;a(n(document),r,function(){i.wrapper.hasClass("k-state-disabled")||(t.addClass("k-dropzone-active"),t.closest(".k-upload").removeClass("k-upload-empty"),t.find(".k-dropzone-hint").removeClass("k-hidden"))},function(){t.removeClass("k-dropzone-active"),t.find(".k-dropzone-hint").addClass("k-hidden"),0===n("li.k-file",t.closest(".k-upload")).length&&t.closest(".k-upload").addClass("k-upload-empty")})},_toggleDropZone:function(){var t=this,i=t.options.dropZone;t._supportsDrop()&&(n(i).off(t._ns),n(".k-dropzone",t.wrapper).off(t._ns),""!==i?t._setupCustomDropZone():t._setupDropZone())},_supportsRemove:function(){return!!this.options.async.removeUrl},_submitRemove:function(t,i,r,u){var e=this,o=e.options.async.removeField||"fileNames",f=n.extend(i.data,nt());f[o]=t,jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:dt,url:this.options.async.removeUrl,traditional:!0,data:f,headers:i.headers,success:r,error:u,xhrFields:{withCredentials:this.options.async.withCredentials}})},_wrapInput:function(n){var i=this,t=i.options;return n.wrap("<div class='k-widget k-upload'><div class='k-dropzone'><div class='k-button k-upload-button' aria-label='"+this.localization.select+"'></div></div></div>"),t.async.saveUrl?n.closest(".k-upload").addClass("k-upload-async"):n.closest(".k-upload").addClass("k-upload-sync"),n.closest(".k-upload").addClass("k-upload-empty"),n.closest(".k-button").append("<span>"+this.localization.select+"</span>"),n.closest(".k-upload")},_checkAllComplete:function(){0===n(".k-file.k-file-progress",this.wrapper).length&&this.trigger(ct)},_inputFiles:function(n){return bt(n)}}),ft=function(n){this.name="syncUploadModule",this.element=n.wrapper,this.upload=n,this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};ft.prototype={onSelect:function(t,i){var e,o,r=this.upload,f=n(t.target),s=r._filesContainValidationErrors(i);r._addInput(f),e={fileNames:i},s?f.remove():e.relatedInput=f,o=r._enqueueFile(kt(f),e),s&&r._hideUploadProgress(o),r._fileAction(o,u)},onRemove:function(n){var i=r(n),t=i.data("relatedInput");t&&t.remove(),this.upload._removeFileEntry(i)}},v=function(n){this.name="iframeUploadModule",this.element=n.wrapper,this.upload=n,this.iframes=[]},d._frameId=0,v.prototype={onSelect:function(t,i){var r=this.upload,o=n(t.target),e=r._filesContainValidationErrors(i),f=this.prepareUpload(o,i,e);r.options.async.autoUpload?e?(r._fileAction(f,u),r._showHeaderUploadStatus(!1)):this.performUpload(f):(r._fileAction(f,u),e?r._updateHeaderUploadStatus():r._showActionButtons()),e&&r._hideUploadProgress(f)},prepareUpload:function(t,i,r){var e,o,u,h,f=this.upload,s=n(f.element),c=f.options.async.saveField||t.attr("name");return f._addInput(t),t.attr("name",c),r?(t.remove(),o={fileNames:i}):(u=this.createFrame(f.name+"_"+d._frameId++),this.registerFrame(u),h=this.createForm(f.options.async.saveUrl,u.attr("name")).append(s),o={frame:u,relatedInput:s,fileNames:i}),e=f._enqueueFile(kt(t),o),u&&u.data({form:h,file:e}),e},performUpload:function(t){var f,e,o,u={files:t.data("fileNames")},r=t.data("frame"),i=this.upload,l=t.find(".k-file-validation-message"),h=t.find(".k-file-information"),s=t.find(".k-file-size");if(i.trigger(tt,u))i._removeFileEntry(r.data("file")),this.cleanupFrame(r),this.unregisterFrame(r);else{i._hideActionButtons(),i._showHeaderUploadStatus(!0),r.appendTo(document.body),f=r.data("form").attr("action",i.options.async.saveUrl).appendTo(document.body),u.data=n.extend({},u.data,nt());for(e in u.data)o=f.find("input[name='"+e+"']"),0===o.length&&(o=n("<input>",{type:"hidden",name:e}).prependTo(f)),o.val(u.data[e]);i._fileAction(t,c),i._fileState(t,"uploading"),n(t).removeClass("k-file-error").addClass("k-file-progress"),l.length>0&&l.remove(),h.length>0?h.removeClass("k-hidden"):s.length>0&&s.removeClass("k-hidden"),r.one("load",n.proxy(this.onIframeLoad,this)),f[0].submit()}},onSaveSelected:function(){var t=this,i=t.upload;n(".k-file",this.element).each(function(){var r=n(this),f=gt(r),u=i._filesContainValidationErrors(r.data("fileNames"));f||u||t.performUpload(r)})},onIframeLoad:function(t){var i,r=n(t.target);try{i=r.contents().text()}catch(u){i="Error trying to get server response: "+u}this.processResponse(r,i)},processResponse:function(t,i){var f=t.data("file"),r=this,u={responseText:i};at(i,function(i){n.extend(u,{statusText:"OK",status:"200"}),r.upload._onFileProgress({target:n(f,r.upload.wrapper)},100),r.upload._onUploadSuccess({target:n(f,r.upload.wrapper)},i,u),r.cleanupFrame(t),r.unregisterFrame(t)},function(){n.extend(u,{statusText:"error",status:"500"}),r.upload._onUploadError({target:n(f,r.upload.wrapper)},u)})},onCancel:function(t){var i=n(t.target).data("frame");this.stopFrameSubmit(i),this.cleanupFrame(i),this.unregisterFrame(i),this.upload._removeFileEntry(i.data("file"))},onRetry:function(n){var t=r(n);this.performUpload(t)},onRemove:function(n,t,i){var e=this,o=e.upload,u=r(n),f=u.data("frame");f?(e.unregisterFrame(f),o._removeFileEntry(u),e.cleanupFrame(f)):u.hasClass("k-file-success")?lt(u,o,t,i):o._removeFileEntry(u)},onAbort:function(){var i=this.element,t=this;n.each(this.iframes,function(){n("input",this.data("form")).appendTo(i),t.stopFrameSubmit(this[0]),this.data("form").remove(),this.remove()}),this.iframes=[]},createFrame:function(t){return n("<iframe name='"+t+"' id='"+t+"' style='display:none;' />")},createForm:function(t,i){return n("<form enctype='multipart/form-data' method='POST' action='"+t+"' target='"+i+"'/>")},stopFrameSubmit:function(n){t!==n.stop?n.stop():n.document&&n.document.execCommand("Stop")},registerFrame:function(n){this.iframes.push(n)},unregisterFrame:function(t){this.iframes=n.grep(this.iframes,function(n){return n.attr("name")!=t.attr("name")})},cleanupFrame:function(n){var t=n.data("form");n.data("file").data("frame",null),setTimeout(function(){t.remove(),n.remove()},1)}},w=function(n){this.name="formDataUploadModule",this.element=n.wrapper,this.upload=n,this.position={},this.metaData={},this.cancelled={},this.resume={},this.paused={},this.retries={}},w.prototype={onSelect:function(t,i){var f,o,r=this.upload,e=this,h=n(t.target),s=this.prepareUpload(h,i);n.each(s,function(t){f=r._filesContainValidationErrors(n(this.data("fileNames"))),r.options.async.autoUpload?f?(r._fileAction(this,u),r._showHeaderUploadStatus(!1)):r.options.async.chunkSize?(e.prepareChunk(this),o=this.prev(),(r.options.async.concurrent||0===t&&!o.length||0===t&&o.hasClass("k-file-success"))&&e.performUpload(this)):e.performUpload(this):(r._fileAction(this,u),f?r._updateHeaderUploadStatus():(r._showActionButtons(),this.addClass("k-toupload"))),f&&r._hideUploadProgress(this)})},prepareUpload:function(t,i){var r=this.enqueueFiles(i);return t.is("input")&&(n.each(r,function(){n(this).data("relatedInput",t)}),t.data("relatedFileEntries",r),this.upload._addInput(t)),r},enqueueFiles:function(t){var e,f,i,u,r=this.upload,s=t.length,o=[];if(r.options.async.batch===!0)e=n.map(t,function(n){return n.name}).join(", "),(r.directory||r.options.directoryDrop)&&n(t).each(function(){(this.rawFile.webkitRelativePath||this.rawFile.relativePath)&&(this.name=this.rawFile.webkitRelativePath||this.rawFile.relativePath)}),u=r._enqueueFile(e,{fileNames:t}),u.data("files",t),o.push(u);else for(f=0;f<s;f++)i=t[f],e=i.name,(r.directory||r.options.directoryDrop)&&(i.rawFile.webkitRelativePath||i.rawFile.relativePath)&&(i.name=i.rawFile.webkitRelativePath||i.rawFile.relativePath),u=r._enqueueFile(e,{fileNames:[i]}),u.data("files",[i]),o.push(u);return o},performUpload:function(t){var f,o,i=this.upload,u=this.createFormData(),e=this.createXHR(),r={files:t.data("fileNames"),XMLHttpRequest:e},l=t.find(".k-file-validation-message"),h=t.find(".k-file-information"),s=t.find(".k-file-size");if(i.trigger(tt,r))this.removeFileEntry(t);else{if(0===t.find(".k-i-cancel").length&&(i.options.async.chunkSize&&i._fileAction(t,it),i._fileAction(t,c,i.options.async.chunkSize)),i.wrapper.find(".k-toupload").length||i._hideActionButtons(),i._showHeaderUploadStatus(!0),r.formData)u=r.formData;else{r.data=n.extend({},r.data,nt());for(o in r.data)u.append(o,r.data[o]);f=t.data("files"),f&&this.populateFormData(u,f)}i._fileState(t,"uploading"),n(t).removeClass("k-file-error").addClass("k-file-progress"),l.length>0&&l.remove(),h.length>0?h.removeClass("k-hidden"):s.length>0&&s.removeClass("k-hidden"),i.options.async.useArrayBuffer&&window.FileReader?this._readFile(i.options.async.saveUrl,u,t,e):this.postFormData(i.options.async.saveUrl,u,t,e)}},_readFile:function(i,r,u,f){var e=this,o=e.upload,s=u.data("files")[0],h=new FileReader;h.onload=function(h){try{e.fileArrayBuffer=e.fileArrayBuffer?e._appendBuffer(e.fileArrayBuffer,h.target.result):h.target.result}catch(c){return o._onUploadError({target:n(u,o.wrapper)},f),t}e.position[s.uid]>s.size?(e.postFormData(o.options.async.saveUrl,e.fileArrayBuffer,u,f),e.fileArrayBuffer=null):e._readFile(i,r,u,f)},h.onerror=function(){o._onUploadError({target:n(u,o.wrapper)},f)},h.readAsArrayBuffer(e._getCurrentChunk(s.rawFile,s.uid))},_appendBuffer:function(n,t){var i=new Uint8Array(n.byteLength+t.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(t),n.byteLength),i.buffer},onSaveSelected:function(){var t=this,i=t.upload;n(".k-toupload",this.element).filter(function(){var t=n(this),u=gt(t),r=i._filesContainValidationErrors(t.data("fileNames"));return!u&&!r}).each(function(r){var u=n(this),f=u.prev();u.removeClass("k-toupload"),i.options.async.chunkSize?(t.prepareChunk(u),(i.options.async.concurrent||0===r&&!f.length||0===r&&f.hasClass("k-file-success")||f.hasClass("k-file-error"))&&t.performUpload(u)):t.performUpload(u)})},onCancel:function(n){var t=r(n);this.upload.options.async.chunkSize&&(this.cancelled[t.data("uid")]=!0),this.stopUploadRequest(t),this.removeFileEntry(t)},onPause:function(n){var u=r(n),t=u.data("uid"),i=this.upload.options.async;i.chunkSize&&(this.retries[t]=i.maxAutoRetries+1,this.paused[t]=!0,this.resume[t]=!1)},onResume:function(n){var i=r(n),t=i.data("uid");this.upload.options.async.chunkSize&&(delete this.paused[t],this.resume[t]=!0,this.retries[i.data("uid")]=1,this._increaseChunkIndex(t),this.performUpload(i))},onRetry:function(n){var t=r(n),i=this.upload.options.async;i.chunkSize&&(this.retries[t.data("uid")]=i.maxAutoRetries+1,delete this.paused[t.data("uid")]),this.performUpload(t)},onRemove:function(n,t,i){var e=this,o=e.upload,u=r(n),f=this.upload.options.async;f.chunkSize&&(this.retries[u.data("uid")]=f.maxAutoRetries+1),u.hasClass("k-file-success")?lt(u,o,t,i):e.removeFileEntry(u)},createXHR:function(){return new XMLHttpRequest},postFormData:function(n,t,i,r){var f,u=this;i.data("request",r),r.addEventListener("load",function(n){u.onRequestSuccess.call(u,n,i)},!1),r.addEventListener(s,function(n){u.onRequestError.call(u,n,i)},!1),r.upload.addEventListener("progress",function(n){u.onRequestProgress.call(u,n,i)},!1),r.open("POST",n,!0),r.withCredentials=this.upload.options.async.withCredentials,f=this.upload.options.async.accept,f&&r.setRequestHeader("Accept",f),r.send(t)},createFormData:function(){return new FormData},populateFormData:function(n,t){var f,r,u,e,o=t.length,i=this.upload;if(i.options.async.chunkSize)u=t[0].uid,f=this._getCurrentChunk(t[0].rawFile,u),n.append(i.options.async.saveField||i.name,f),e=JSON.stringify(this.metaData[u]),n.append("metadata",e);else for(r=0;r<o;r++)n.append(i.options.async.saveField||i.name,t[r].rawFile);return n},onRequestSuccess:function(t,i){function f(){r.upload._onUploadError({target:n(i,r.upload.wrapper)},u)}function e(t){var o=r.upload.options.async.batch,e=r.upload.options.async.chunkSize,s=r.upload.options.async.concurrent,f=t.fileUid;r.paused[f]||r.cancelled[f]||(delete r.retries[f],!e||o||t.uploaded?!e||o||s||!i.next().length||i.next().hasClass("k-toupload")?(r.upload._onFileProgress({target:n(i,r.upload.wrapper)},100),r.upload._onUploadSuccess({target:n(i,r.upload.wrapper)},t,u),r.cleanupFileEntry(i)):(r.upload._onFileProgress({target:n(i,r.upload.wrapper)},100),r._resetChunkIndex(f),r.upload._onUploadSuccess({target:n(i,r.upload.wrapper)},t,u),r.performUpload(i.next())):(r._increaseChunkIndex(f),r.performUpload(i)))}var u=t.target,r=this;u.status>=200&&u.status<=299?at(u.responseText,e,f):f()},onRequestError:function(t,i){var r=t.target;this.upload._onUploadError({target:n(i,this.upload.wrapper)},r)},cleanupFileEntry:function(t){var r=t.data("relatedInput"),i=!0;r&&(n.each(r.data("relatedFileEntries")||[],function(){this.parent().length>0&&this[0]!=t[0]&&(i=i&&this.hasClass("k-file-success"))}),i&&r.remove())},removeFileEntry:function(n){var r=this.upload.options.async.chunkSize,i=this.upload.options.async.concurrent,t=this.upload.wrapper.find(".k-upload-selected").length>0;this.cleanupFileEntry(n),!r||i||t||n.next().length&&this.performUpload(n.next()),this.upload._removeFileEntry(n)},onRequestProgress:function(t,i){var r,u=Math.round(100*t.loaded/t.total),f=i.data("uid");this.upload.options.async.chunkSize&&(r=this.metaData[f],u=r&&r.totalChunks?Math.round(r.chunkIndex/r.totalChunks*100):100),this.upload._onFileProgress({target:n(i,this.upload.wrapper)},u)},stopUploadRequest:function(n){n.data("request").abort()},prepareChunk:function(n){var r=n.data("files")[0],t=r.rawFile,i=r.uid,u=this.upload.options.async.chunkSize;this.position[i]=0,this.metaData[i]={chunkIndex:0,contentType:t.type,fileName:t.name,relativePath:r.name,totalFileSize:t.size,totalChunks:Math.ceil(t.size/u),uploadUid:i}},_decreaseChunkIndex:function(n){this.metaData[n].chunkIndex--},_increaseChunkIndex:function(n){this.metaData[n].chunkIndex++},_resetChunkIndex:function(n){this.metaData[n].chunkIndex=0},_decreasePosition:function(n){this.position[n]-=this.upload.options.async.chunkSize},_getCurrentChunk:function(n,t){var r,f=this.position[t],i=this.upload.options.async,u=i.chunkSize||i.bufferChunkSize;return this.position[t]||(this.position[t]=0),this.position[t]+=u,(r=this._getChunker(n))?n[r](f,this.position[t]):n},_getChunker:function(n){return n.slice?"slice":n.mozSlice?"mozSlice":n.webkitSlice?"webkitSlice":null}},i.ui.plugin(d)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),!function(n,t){t("kendo.touch.min",["kendo.core.min","kendo.userevents.min"],n)}(function(){return function(n){var i=window.kendo,f=i.ui.Widget,r=n.proxy,u=Math.abs,o=20,e=f.extend({init:function(n,t){function e(n){return function(t){u._triggerTouch(n,t)}}function o(n){return function(t){u.trigger(n,{touches:t.touches,distance:t.distance,center:t.center,event:t.event})}}var u=this;f.fn.init.call(u,n,t),t=u.options,n=u.element,u.wrapper=n,u.events=new i.UserEvents(n,{filter:t.filter,surface:t.surface,minHold:t.minHold,multiTouch:t.multiTouch,allowSelection:!0,fastTap:t.fastTap,press:e("touchstart"),hold:e("hold"),tap:r(u,"_tap"),gesturestart:o("gesturestart"),gesturechange:o("gesturechange"),gestureend:o("gestureend")}),t.enableSwipe?(u.events.bind("start",r(u,"_swipestart")),u.events.bind("move",r(u,"_swipemove"))):(u.events.bind("start",r(u,"_dragstart")),u.events.bind("move",e("drag")),u.events.bind("end",e("dragend"))),i.notify(u)},events:["touchstart","dragstart","drag","dragend","tap","doubletap","hold","swipe","gesturestart","gesturechange","gestureend"],options:{name:"Touch",surface:null,global:!1,fastTap:!1,filter:null,multiTouch:!1,enableSwipe:!1,minXDelta:30,maxYDelta:20,maxDuration:1e3,minHold:800,doubleTapTimeout:800},cancel:function(){this.events.cancel()},destroy:function(){f.fn.destroy.call(this),this.events.destroy()},_triggerTouch:function(n,t){this.trigger(n,{touch:t.touch,event:t.event})&&t.preventDefault()},_tap:function(n){var t=this,u=t.lastTap,r=n.touch;u&&r.endTime-u.endTime<t.options.doubleTapTimeout&&i.touchDelta(r,u).distance<o?(t._triggerTouch("doubletap",n),t.lastTap=null):(t._triggerTouch("tap",n),t.lastTap=r)},_dragstart:function(n){this._triggerTouch("dragstart",n)},_swipestart:function(n){2*u(n.x.velocity)>=u(n.y.velocity)&&n.sender.capture()},_swipemove:function(n){var r=this,i=r.options,t=n.touch,e=n.event.timeStamp-t.startTime,f=t.x.initialDelta>0?"right":"left";u(t.x.initialDelta)>=i.minXDelta&&u(t.y.initialDelta)<i.maxYDelta&&e<i.maxDuration&&(r.trigger("swipe",{direction:f,touch:n.touch}),t.cancel())}});i.ui.plugin(e)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()});!function(n,t){t("aspnetmvc/kendo.data.aspnetmvc.min",["kendo.data.min","kendo.combobox.min","kendo.multiselect.min","kendo.validator.min"],n)}(function(){!function(n,t){function u(t,i,r){var e,u={};return t.sort?(u[this.options.prefix+"sort"]=n.map(t.sort,function(n){return n.field+"-"+n.dir}).join("~"),delete t.sort):u[this.options.prefix+"sort"]="",t.page&&(u[this.options.prefix+"page"]=t.page,delete t.page),t.pageSize&&(u[this.options.prefix+"pageSize"]=t.pageSize,delete t.pageSize),t.group?(u[this.options.prefix+"group"]=n.map(t.group,function(n){return n.field+"-"+n.dir}).join("~"),delete t.group):u[this.options.prefix+"group"]="",t.aggregate&&(u[this.options.prefix+"aggregate"]=n.map(t.aggregate,function(n){return n.field+"-"+n.aggregate}).join("~"),delete t.aggregate),t.filter?(u[this.options.prefix+"filter"]=h(t.filter,r.encode),delete t.filter):(u[this.options.prefix+"filter"]="",delete t.filter),t.groupPaging||(delete t.take,delete t.skip),e=new f(r),e.serialize(u,t,""),u}function h(i,r){return i.filters?n.map(i.filters,function(n){var i=n.filters&&n.filters.length>1,t=h(n,r);return t&&i&&(t="("+t+")"),t}).join("~"+i.logic+"~"):i.field?i.field+"~"+i.operator+"~"+w(i.value,r):t}function w(n,t){if("string"==typeof n){if(!(n.indexOf("Date(")>-1))return n=n.replace(p,"''"),t&&(n=encodeURIComponent(n)),"'"+n+"'";n=new Date(parseInt(n.replace(/^\/Date\((.*?)\)\/$/,"$1"),10))}return n&&n.getTime?"datetime'"+i.format("{0:yyyy-MM-ddTHH-mm-ss}",n)+"'":n}function o(n,i){return t!==n?n:i}function l(t){var u=t.HasSubgroups||t.hasSubgroups||!1,r=t.Items||t.items,e=t.ItemCount||t.itemCount,f=t.SubgroupCount||t.subgroupCount;return{value:o(t.Key,o(t.key,t.value)),field:t.Member||t.member||t.field,hasSubgroups:u,aggregates:a(t.Aggregates||t.aggregates),items:u?n.map(r,l):r,itemCount:e,subgroupCount:f,uid:i.guid()}}function y(n){var t={};return t[n.AggregateMethodName.toLowerCase()]=n.Value,t}function a(n){var r,u,t,i={};for(r in n){i={},t=n[r];for(u in t)i[u.toLowerCase()]=t[u];n[r]=i}return n}function c(n){for(var t,u={},i=0,f=n.length;i<f;i++)t=n[i],u[t.Member]=r(!0,u[t.Member],y(t));return u}var i=window.kendo,p=/'/gi,r=n.extend,v=n.isArray,e=n.isPlainObject,s=".",f=function(n){n=n||{},this.culture=n.culture||i.culture(),this.stringifyDates=n.stringifyDates,this.decimalSeparator=this.culture.numberFormat[s]};f.prototype=f.fn={serialize:function(n,t,i){var u,r;for(r in t)u=i?i+"."+r:r,this.serializeField(n,t[r],t,r,u)},serializeField:function(n,i,r,u,f){v(i)?this.serializeArray(n,i,f):e(i)?this.serialize(n,i,f):n[f]===t&&(n[f]=r[u]=this.serializeValue(i))},serializeArray:function(n,t,i){for(var e,u,o,r=0,f=0;r<t.length;r++)e=t[r],u="["+f+"]",o=i+u,this.serializeField(n,e,t,u,o),f++},serializeValue:function(n){return n instanceof Date?n=this.stringifyDates?i.stringify(n).replace(/"/g,""):i.toString(n,"G",this.culture.name):"number"==typeof n&&(n=(""+n).replace(s,this.decimalSeparator)),n}},r(!0,i.data,{schemas:{"aspnetmvc-ajax":{groups:function(t){return n.map(this._dataAccessFunction(t),l)},aggregates:function(t){var i,r;if(t=t.d||t,i=t.AggregateResults||[],!n.isArray(i)){for(r in i)i[r]=c(i[r]);return i}return c(i)}}}}),r(!0,i.data,{transports:{"aspnetmvc-ajax":i.data.RemoteTransport.extend({init:function(n){var f=this,t=(n||{}).stringifyDates;i.data.RemoteTransport.fn.init.call(this,r(!0,{},this.options,n,{parameterMap:function(n,i){return u.call(f,n,i,{encode:!1,stringifyDates:t})}}))},read:function(n){var t=this.options.data,r=this.options.read.url;e(t)?(r&&(this.options.data=null),!t.Data.length&&r?i.data.RemoteTransport.fn.read.call(this,n):n.success(t)):i.data.RemoteTransport.fn.read.call(this,n)},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"},parameterMap:u,prefix:""}})}}),r(!0,i.data,{schemas:{webapi:i.data.schemas["aspnetmvc-ajax"]}}),r(!0,i.data,{transports:{webapi:i.data.RemoteTransport.extend({init:function(n){var f,t,s=this,o=(n||{}).stringifyDates,e=i.cultures[n.culture]||i.cultures["en-US"];n.update&&(f="string"==typeof n.update?n.update:n.update.url,n.update=r(n.update,{url:function(t){return i.format(f,t[n.idField])}})),n.destroy&&(t="string"==typeof n.destroy?n.destroy:n.destroy.url,n.destroy=r(n.destroy,{url:function(r){return i.format(t,r[n.idField])}})),n.create&&"string"==typeof n.create&&(n.create={url:n.create}),i.data.RemoteTransport.fn.init.call(this,r(!0,{},this.options,n,{parameterMap:function(n,t){return u.call(s,n,t,{encode:!1,stringifyDates:o,culture:e})}}))},read:function(n){var t=this.options.data,r=this.options.read.url;e(t)?(r&&(this.options.data=null),!t.Data.length&&r?i.data.RemoteTransport.fn.read.call(this,n):n.success(t)):i.data.RemoteTransport.fn.read.call(this,n)},options:{read:{type:"GET"},update:{type:"PUT"},create:{type:"POST"},destroy:{type:"DELETE"},parameterMap:u,prefix:""}})}}),r(!0,i.data,{transports:{"aspnetmvc-server":i.data.RemoteTransport.extend({init:function(n){var t=this;i.data.RemoteTransport.fn.init.call(this,r(n,{parameterMap:function(n,i){return u.call(t,n,i,{encode:!0})}}))},read:function(t){var r,i,u=this.options.prefix,e=[u+"sort",u+"page",u+"pageSize",u+"group",u+"aggregate",u+"filter"],f=RegExp("("+e.join("|")+")=[^&]*&?","g");i=location.search.replace(f,"").replace("?",""),i.length&&!/&$/.test(i)&&(i+="&"),t=this.setup(t,"read"),r=t.url,r.indexOf("?")>=0?(i=i.replace(/(.*?=.*?)&/g,function(n){return r.indexOf(n.substr(0,n.indexOf("=")))>=0?"":n}),r+="&"+i):r+="?"+i,r+=n.map(t.data,function(n,t){return t+"="+n}).join("&"),location.href=r}})}})}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),function(n,t){t("aspnetmvc/kendo.combobox.aspnetmvc.min",["aspnetmvc/kendo.data.aspnetmvc.min"],n)}(function(){!function(n){var r=window.kendo,i=r.ui;i&&i.ComboBox&&(i.ComboBox.requestData=function(t){var u,r,i=n(t).data("kendoComboBox");if(i)return u=i.dataSource.filter(),r=i.input.val(),u&&u.filters.length||(r=""),{text:r}})}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),function(n,t){t("aspnetmvc/kendo.multicolumncombobox.aspnetmvc.min",["aspnetmvc/kendo.data.aspnetmvc.min"],n)}(function(){!function(n){var r=window.kendo,i=r.ui;i&&i.MultiColumnComboBox&&(i.MultiColumnComboBox.requestData=function(t){var u,r,i=n(t).data("kendoMultiColumnComboBox");if(i)return u=i.dataSource.filter(),r=i.input.val(),u&&u.filters.length||(r=""),{text:r}})}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),function(n,t){t("aspnetmvc/kendo.dropdownlist.aspnetmvc.min",["aspnetmvc/kendo.data.aspnetmvc.min"],n)}(function(){!function(n){var r=window.kendo,i=r.ui;i&&i.DropDownList&&(i.DropDownList.requestData=function(t){var u,f,i,r=n(t).data("kendoDropDownList");if(r)return u=r.dataSource.filter(),f=r.filterInput,i=f?f.val():"",u&&u.filters.length||(i=""),{text:i}})}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),function(n,t){t("aspnetmvc/kendo.dropdowntree.aspnetmvc.min",["aspnetmvc/kendo.data.aspnetmvc.min"],n)}(function(){!function(n){var r=window.kendo,i=r.ui;i&&i.DropDownTree&&(i.DropDownTree.requestData=function(t){var u,f,i,r=n(t).data("kendoDropDownTree");if(r)return u=r.dataSource.filter(),f=r.filterInput,i=f?f.val():"",u&&u.filters.length||(i=""),{text:i}})}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),function(n,t){t("aspnetmvc/kendo.multiselect.aspnetmvc.min",["aspnetmvc/kendo.combobox.aspnetmvc.min"],n)}(function(){!function(n){var r=window.kendo,i=r.ui;i&&i.MultiSelect&&(i.MultiSelect.requestData=function(t){var r,i=n(t).data("kendoMultiSelect");if(i)return r=i.input.val(),{text:r!==i.options.placeholder?r:""}})}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),function(n,t){t("aspnetmvc/kendo.imagebrowser.aspnetmvc.min",["aspnetmvc/kendo.multiselect.aspnetmvc.min"],n)}(function(){!function(n){var i=window.kendo,r=n.extend,u=n.isFunction;r(!0,i.data,{schemas:{"imagebrowser-aspnetmvc":{data:function(n){return n||[]},model:{id:"name",fields:{name:{field:"Name"},size:{field:"Size"},type:{field:"EntryType",parse:function(n){return 0==n?"f":"d"}}}}}}}),r(!0,i.data,{schemas:{"filebrowser-aspnetmvc":i.data.schemas["imagebrowser-aspnetmvc"]}}),r(!0,i.data,{transports:{"imagebrowser-aspnetmvc":i.data.RemoteTransport.extend({init:function(t){i.data.RemoteTransport.fn.init.call(this,n.extend(!0,{},this.options,t))},_call:function(t,r){r.data=n.extend({},r.data,{path:this.options.path()}),u(this.options[t])?this.options[t].call(this,r):i.data.RemoteTransport.fn[t].call(this,r)},read:function(n){this._call("read",n)},create:function(n){this._call("create",n)},destroy:function(n){this._call("destroy",n)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"},parameterMap:function(n,t){return"read"!=t&&(n.EntryType="f"===n.EntryType?0:1),n}}})}}),r(!0,i.data,{transports:{"filebrowser-aspnetmvc":i.data.transports["imagebrowser-aspnetmvc"]}})}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),function(n,t){t("aspnetmvc/kendo.validator.aspnetmvc.min",["aspnetmvc/kendo.imagebrowser.aspnetmvc.min"],n)}(function(){!function(n){function v(){var n,t={};for(n in i)t["mvc"+n]=o(n);return t}function l(){var n,t={};for(n in i)t["mvc"+n]=a(n);return t}function c(n,t){var u,i,r,o,e={},f=n.data(),s=t.length;for(r in f)i=r.toLowerCase(),u=i.indexOf(t),u>-1&&(o="valserver"===i?u:u+s,i=i.substring(o,r.length),i&&(e[i]=f[r]));return e}function h(t){for(var u=t.Fields||[],r={},i=0,f=u.length;i<f;i++)n.extend(!0,r,y(u[i]));return r}function y(n){for(var r,h,c={},s={},u=n.FieldName,i=n.ValidationRules,t=0,o=i.length;t<o;t++)r=i[t].ValidationType,h=i[t].ValidationParameters,c[u+r]=f(u,r,h),s[u+r]=e(i[t].ErrorMessage);return{rules:c,messages:s}}function o(n){return function(t){return t.attr("data-val-"+n)}}function a(n){return function(t){return!t.filter("[data-val-"+n+"]").length||i[n](t,c(t,n))}}function e(n){return function(){return n}}function f(n,t,r){return function(u){return!u.filter("[name="+n+"]").length||i[t](u,r)}}function s(n,t){return"string"==typeof t&&(t=RegExp("^(?:"+t+")$")),t.test(n)}var r=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,u=".k-switch",i={required:function(n){var o,e,i,f=n.val(),t=n.filter("[type=checkbox]");return t.length&&(o=t[0].name.replace(r,"\\$1"),e="input:hidden[name='"+o+"']",t.closest(u).length&&(t=t.closest(u)),i=t.next(e),i.length||(i=t.next("label.k-checkbox-label").next(e)),f=i.length?i.val():n.prop("checked")===!0),!(""===f||!f||0===f.length)},number:function(n){return""===n.val()||null==n.val()||null!==kendo.parseFloat(n.val())},regex:function(n,t){return""===n.val()||s(n.val(),t.pattern)},range:function(n,t){return""===n.val()||this.min(n,t)&&this.max(n,t)},min:function(n,t){var r=parseFloat(t.min)||0,i=kendo.parseFloat(n.val());return r<=i},max:function(n,t){var r=parseFloat(t.max)||0,i=kendo.parseFloat(n.val());return i<=r},date:function(n){return""===n.val()||null!==kendo.parseDate(n.val())},length:function(n,t){if(""!==n.val()){var i=kendo.trim(n.val()).length;return(!t.min||i>=(t.min||0))&&(!t.max||i<=(t.max||0))}return!0},server:function(n,t){return!t.server}};n.extend(!0,kendo.ui.validator,{rules:l(),messages:v(),messageLocators:{mvcLocator:{locate:function(n,t){return t=t.replace(r,"\\$1"),n.find(".field-validation-valid[data-valmsg-for='"+t+"'], .field-validation-error[data-valmsg-for='"+t+"']")},decorate:function(n,t){n.addClass("field-validation-error").attr("data-valmsg-for",t||"")}},mvcMetadataLocator:{locate:function(n,t){return t=t.replace(r,"\\$1"),n.find("#"+t+"_validationMessage.field-validation-valid")},decorate:function(n,t){n.addClass("field-validation-error").attr("id",t+"_validationMessage")}}},ruleResolvers:{mvcMetaDataResolver:{resolve:function(t){var i,r=window.mvcClientValidationMetadata||[];if(r.length)for(t=n(t),i=0;i<r.length;i++)if(r[i].FormId==t.attr("id"))return h(r[i]);return{}}}},validateOnInit:function(n){return!!n.find("input[data-val-server]").length},allowSubmit:function(n,t){return!!t&&t.length===n.find("input[data-val-server]").length}})}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),function(n,t){t("aspnetmvc/kendo.filemanager.aspnetmvc.min",["aspnetmvc/kendo.data.aspnetmvc.min"],n)}(function(){!function(n){var r=window.kendo,i=n.extend;i(!0,r.data,{schemas:{filemanager:{data:function(n){return n||[]},model:{id:"path",hasChildren:"hasDirectories",fields:{name:{field:"Name",editable:!0,type:"String",defaultValue:"New Folder"},size:{field:"Size",editable:!1,type:"Number"},path:{field:"Path",editable:!1,type:"String"},extension:{field:"Extension",editable:!1,type:"String"},isDirectory:{field:"IsDirectory",editable:!1,defaultValue:!0,type:"Boolean"},hasDirectories:{field:"HasDirectories",editable:!1,defaultValue:!1,type:"Boolean"},created:{field:"Created",type:"Date",editable:!1},createdUtc:{field:"CreatedUtc",type:"Date",editable:!1},modified:{field:"Modified",type:"Date",editable:!1},modifiedUtc:{field:"ModifiedUtc",type:"Date",editable:!1}}}}}})}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),function(n,t){t("kendo.aspnetmvc.min",["kendo.data.min","kendo.combobox.min","kendo.dropdownlist.min","kendo.dropdowntree.min","kendo.multiselect.min","kendo.validator.min","aspnetmvc/kendo.data.aspnetmvc.min","aspnetmvc/kendo.combobox.aspnetmvc.min","aspnetmvc/kendo.multicolumncombobox.aspnetmvc.min","aspnetmvc/kendo.dropdownlist.aspnetmvc.min","aspnetmvc/kendo.dropdowntree.aspnetmvc.min","aspnetmvc/kendo.multiselect.aspnetmvc.min","aspnetmvc/kendo.imagebrowser.aspnetmvc.min","aspnetmvc/kendo.validator.aspnetmvc.min","aspnetmvc/kendo.filemanager.aspnetmvc.min"],n)}(function(){!function(n){function r(t){kendo.__documentIsReady?t():n(t)}var i=n.extend;n(function(){kendo.__documentIsReady=!0}),i(kendo,{syncReady:r})}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()});/*!
 * Powered by Sphinx
 * http://www.lesphinx.eu
 *
 * Copyright (c) Le Sphinx Développement
 */
jQuery.fn.selectToUISlider=function(n){function tt(n){return n.constructor==Array}function o(n){return t.tooltipSrc=="text"?r[n>=0?n:0].text:r[n>=0?n:0].value}function h(n){t.cursors!=null&&t.cursors.length>0&&(t.cursors.find("img").hide().css("visibility","visible"),n>=0?t.cursors.find("img:eq("+n+")").show():t.cursors.find("img:eq(0)").show().css("visibility","hidden"))}function nt(n){return(n/(r.length-1)*100).toFixed(2)+"%"}var l,i,y,k,p,e,a,b,f,d,c;if(navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1){var v=$(this).closest("table"),s=v.find("caption"),w=s.height();s.css("position","absolute"),s.css("top",-w+"px"),s.css("left","0px"),s.css("width","100%"),v.css("margin-top",w+"px"),v.css("position","relative")}var u=jQuery(this),t=jQuery.extend({labels:3,width:null,showRange:!0,cursors:null,showTicks:!0,tooltip:!0,tooltipSrc:"text",labelSrc:"value",sliderOptions:null},n),g=function(){var n=[];return u.each(function(){n.push("handle_"+jQuery(this).attr("id"))}),n}(),r=function(){var n=[];return u.eq(0).find("option:gt(0)").each(function(){n.push({value:jQuery(this).attr("value"),text:jQuery(this).text()})}),n}(),it=function(){if(u.eq(0).find("optgroup").length>0){var n=[];return u.eq(0).find("optgroup").each(function(t){n[t]={},n[t].label=jQuery(this).attr("label"),n[t].options=[],jQuery(this).find("option").each(function(){n[t].options.push({text:jQuery(this).text(),value:jQuery(this).attr("value")})})}),n}return null}();for(l={orientation:"horizontal",max:r.length-1,isRTL:$("html").hasClass("rtl"),range:t.showRange?"min":!1,slide:function(n,t){var r=jQuery(t.handle),u=o(t.value),i;try{r.show().attr("aria-valuetext",u).attr("aria-valuenow",t.value).find(".ui-slider-tooltip .ttContent").text(u)}catch(n){}h(t.value),i=jQuery("#"+r.attr("id").split("handle_")[1]),i.val(t.value+1),i.trigger("changeslider").trigger("valuechange")},value:function(){return u.get(0).selectedIndex-1}()},t.sliderOptions=n?jQuery.extend(l,n.sliderOptions):l,u.bind("change keydown click",function(){var t=jQuery(this).get(0).selectedIndex-1,i=jQuery("#handle_"+jQuery(this).attr("id")),n;i.parents(".ui-slider:eq(0)").slider("value",t),n=o(t);try{i.attr("aria-valuetext",n).attr("aria-valuenow",t).find(".ui-slider-tooltip .ttContent").text(n)}catch(r){}}),i=jQuery("<div></div>"),y=u.first().prop("disabled")||$("#obsreadonly").val()==="1",u.each(function(n){var f="",u=jQuery("label[for="+jQuery(this).attr("id")+"]"),e=u.length>0?"Slider control for "+u.text()+"":"",s=u.attr("id")||u.attr("id","label_"+g[n]).attr("id"),r;t.tooltip==!1&&(f=' style="display: none;"'),r=jQuery('<a href="#" tabindex="0" id="'+g[n]+'" class="ui-slider-handle" role="slider" aria-labelledby="'+s+'" aria-valuemin="'+t.sliderOptions.min+'" aria-valuemax="'+t.sliderOptions.max+'" aria-valuenow="'+t.sliderOptions.value+'" aria-valuetext="'+o(t.sliderOptions.value)+'" ><span class="screenReaderContext">'+e+'</span><span class="ui-slider-tooltip ui-widget-content ui-corner-all"'+f+'><span class="ttContent"></span><span class="ui-tooltip-pointer-down ui-widget-content"><span class="ui-tooltip-pointer-down-inner"></span></span></span></a>'),t.sliderOptions.value<=-1&&r.hide(),i.attr("tabindex","0"),r.data("handleNum",n).appendTo(i),y||(i.keydown(function(n){n.keyCode==32&&(n.preventDefault(),$(this).click(),r.focus())}).bind("click",function(){if(r.css("display")=="none"&&!r.data("ishidden")){r.show();var n=jQuery("#"+r.attr("id").split("handle_")[1]);n.get(0).selectedIndex<=0&&(i.slider("value",0),n.val(1),n.trigger("changeslider").trigger("valuechange"),setTimeout(function(){h(0)},50))}r.data("ishidden",!1)}),r.keydown(function(n){n.keyCode==32&&(n.preventDefault(),$(this).trigger("mousedown").trigger("mouseup"),i.focus())}).bind("mousedown",function(){$(this).data("oldval",$(this).attr("aria-valuenow"))}).bind("mouseup",function(){if($(this).css("display")!="none"&&$(this).data("oldval")==$(this).attr("aria-valuenow")){$(this).hide().data("ishidden",!0);var t=jQuery("#"+$(this).attr("id").split("handle_")[1]);i.slider("value",-1),t.val(0),t.trigger("changeslider").trigger("valuechange"),setTimeout(function(){h(-1)},50)}}))}),k=i.append('<ol class="ui-slider-scale ui-helper-reset" role="presentation"></ol>').find(".ui-slider-scale:eq(0)"),jQuery(r).each(function(n){var e=n==r.length-1||n==0?'style="display: none;"':"",u=t.labelSrc=="text"?this.text:this.value,f=t.sliderOptions.orientation==="horizontal"?"left":"top",i='<li style="'+f+":"+nt(n)+'"><span class="ui-slider-label">'+u+"</span>";t.showTicks&&(i+='<span class="ui-slider-tic ui-widget-content"'+e+"></span>"),i+="</li>",k.append(i)}),t.labels>1&&i.find(".ui-slider-scale li:last span.ui-slider-label, .ui-slider-scale dd:last span.ui-slider-label").addClass("ui-slider-label-show"),p=Math.max(1,Math.round(r.length/t.labels)),e=0;e<r.length;e+=p)r.length-e>p&&i.find(".ui-slider-scale li:eq("+e+") span.ui-slider-label, .ui-slider-scale dd:eq("+e+") span.ui-slider-label").addClass("ui-slider-label-show");return i.insertAfter(jQuery(this).eq(this.length-1)).slider(t.sliderOptions).attr("role","application"),a=i.find(".ui-slider-handle"),b=i.slider("value")===0&&(!a.data("ishidden")||a.data("ishidden")===!0)?-1:i.slider("value"),h(b),y&&i.slider({disabled:!0}),f=0,d=$("html").hasClass("rtl"),hasJqMobile||i.addClass("grey").addClass("small").addClass("little-handle"),i.find(".ui-slider-label-show").each(function(){jQuery(this).css(d?"marginRight":"marginLeft",-jQuery(this).width()/2),f=jQuery(this).height()>f?jQuery(this).height():f}),f>0&&i.css("marginBottom",f+10+"px"),t.sliderOptions.orientation==="horizontal"?!t.width||i.css("max-width",t.width+"px"):i.css("height",(t.width||189)+"px"),i.find(".ui-tooltip-pointer-down-inner").each(function(){var t=jQuery(".ui-tooltip-pointer-down-inner").css("borderTopWidth"),n=jQuery(this).parents(".ui-slider-tooltip").css("backgroundColor");jQuery(this).css("border-top",t+" solid "+n)}),c=i.slider("value"),tt(c)?jQuery(c).each(function(n){i.find(".ui-slider-tooltip .ttContent").eq(n).text(o(this))}):i.find(".ui-slider-tooltip .ttContent").eq(0).text(o(c)),this};/*!
 * Powered by Sphinx
 * http://www.lesphinx.eu
 *
 * Copyright (c) Le Sphinx Développement
 */
(function(n){n.ordered=function(t,i){var k,f,h,o,e,l,s,tt,g,u,r,y,c,nt,v,a,d,w,rt,it,ut,b,p;k={disabled:!1,debug:!1},f=this,f.settings={},f.initialized=!1,h=n(t),o=t,p=h.hasClass("select-dndsortable"),e=h.prev("input[type=text]"),l=e.prop("disabled")||n("#obsreadonly").val()==="1",s=p?e.data("val-maxordered-val")!=null?parseInt(e.data("val-maxordered-val"),10):-1:e.data("val-maxcheck-val")!=null?parseInt(e.data("val-maxcheck-val"),10):-1,tt=!1,g=function(){var n=[];return h.eq(0).find("option").each(function(){n.push({value:jQuery(this).attr("value"),text:jQuery(this).text(),imageurl:jQuery(this).data("image"),imagewidth:jQuery(this).data("image-width"),isexclusive:jQuery(this).data("isexclusive")===!0})}),n}(),f.init=function(){f.settings=n.extend({},k,i),c("ordered plugin initialization for elt: "+o.id),f.settings.debug&&e.removeClass("hdn-ordered"),f.settings.disabled&&(l=!0);try{d(),b(),w(),f.bindSortableList(),h.hide();h.parent().on("keydown",function(t){if(t.keyCode===32){var i=n(t.target).closest("li.ui-draggable-handle");i.length&&(t.preventDefault(),i.find("a").trigger(bindingClickType))}});c("ordered plugin successfully initialized for elt: "+o.id)}catch(t){c("ordered plugin error during initialization for elt: "+o.id+" error message: "+t)}f.initialized=!0},d=function(){u=n('<ul role="group"id="draggable-'+o.id+'" class="draggable" ></ul>'),n(g).each(function(){var i,t;this.imageurl!==undefined?(f.containsImg=!0,i=n('<img alt="'+this.text+'" src="'+this.imageurl+'" />'),this.imagewidth!==undefined&&i.width(this.imagewidth),t=n('<li role="checkbox" aria-checked="false" aria-label="'+this.text+'" name="r'+o.id+'" class="ui-state-default noSort" data-value="'+this.value+'" data-isexclusive="'+this.isexclusive+'" ><div><span class="mod"><span class="label" style="text-align: center;"></span></span></div></li>'),t.find("span.label").append(i),hasJqMobile||t.attr("tabindex","0"),u.append(t)):(t=n('<li role="checkbox" aria-checked="false" aria-label="'+this.text+'" name="r'+o.id+'" class="ui-state-default noSort" data-value="'+this.value+'" data-isexclusive="'+this.isexclusive+'" ><div><span class="mod"><span class="label">'+this.text+"</span></span></div></li>"),hasJqMobile||t.attr("tabindex","0"),u.append(t))}),h.after(u),n.fn.disableSelection!=undefined&&u.disableSelection(),u.after("<div style='clear:both; height:0px;'></div>");var t=u.find("li");l||t.draggable({connectToSortable:"#sortable-"+o.id,cursorAt:{left:100,top:5},helper:function(){return n(this).clone().width(n(this).width())},revert:"invalid",opacity:.8,distance:30,start:nt,stop:v})},y=function(t){if(n(":input:focus").blur(),t.preventDefault(),t.stopImmediatePropagation(),n(this).hasClass("ui-icon-circle-plus")){if(s<0||r.find("li").length<s){var i=n(this).closest("li").clone();r.append(i),n(this).closest("li").hide(),r.find(">p").remove(),a()}}else u.find("li[data-value="+n(this).closest("li").data("value")+"]").fadeIn("fast"),n(this).closest("li").remove(),a()},b=function(){u.find("li>div").each(function(){n(this).append('<span class="btn"><a class="ui-icon ui-icon-circle-plus">+</a></span>')});u.find("a").on("internalclick",y);if(!l)u.find("a").on(bindingClickType,y)},w=function(){r=n('<ul id="sortable-'+o.id+'" class="connectedSortable" ></ul>'),u.after(r),l||r.sortable({placeholder:"ui-state-highlight",axis:"y",cancel:".ui-state-disabled",distance:5,stop:a}),f.containsImg?setTimeout(function(){f.setSortableHeight()},100):f.setSortableHeight()},f.setSortableHeight=function(){r!=null&&u!=null&&(s<0?r.css("min-height",u.outerHeight(!0)+"px"):r.css("min-height",s*(u.find("li:first").outerHeight(!0)+2)+"px"))},f.bindSortableList=function(){var t=e.val(),i=t.split(","),n;if(t!=="")for(n=0;n<i.length;n+=1)u.find("li[data-value="+i[n]+"]").find("a").trigger("internalclick");a()},f.clearValues=function(){u.find("li").show(),r.find("li").remove(),a()},nt=function(){n(":input:focus").blur(),r.addClass("highlighted"),r.find(">p").remove()},v=function(){c("ordered showDescDrag"),r.find("li").length>0?r.find(">p").remove():r.find(">p").length==0&&r.append("<p class='desc-drag ui-state-disabled'>"+e.data("text-drag")+"</p>"),r.removeClass("highlighted")},a=function(t,i){var h,a,w,o;try{if(c("ordered refreshSortable"),undefined!=i&&u.find("li[data-value="+i.item.data("value")+"]").fadeOut("fast"),h=r.find(".ui-icon-circle-plus"),h.removeClass("ui-icon-circle-plus").addClass("ui-icon-circle-minus").text("-"),!l)h.one(bindingClickType,y);undefined!=h&&(a=n(h.parents("li")[0]),w=a.data("value"),(a.data("isexclusive")||r.hasClass("hasexclusive"))&&(r.find("li").each(function(){var t=n(this).data("value");t!==w&&(n(this).remove(),u.find("li[data-value="+t+"]").fadeIn())}),a.data("isexclusive")?r.addClass("hasexclusive"):r.removeClass("hasexclusive"))),r.find("li").each(function(){if(n(this).attr("aria-checked","true"),p){var t=parseInt(n(this).index()+1,10);n(this).find(".num").length==0&&n(this).find(">div").prepend('<div class="wrapper-num"><span class="num"></span></div>'),n(this).find(".num").text(t)}}),u.find("li").each(function(){n(this).is(":visible")?n(this).attr("aria-checked","false"):n(this).attr("aria-checked","true")}),r.find("li").length==s?u.find("li").draggable("disable"):u.find("li").draggable("enable"),o="",r.find("li[data-value]").each(function(){o!=""&&(o+=","),o+=n(this).data("value")}),e.val()!==o&&(e.val(o).focus(),e.blur(),f.initialized&&e.trigger("valuechange")),v(),setTimeout(function(){n(window).scroll()},500)}catch(b){}},c=function(n){try{f.settings.debug&&window.console&&window.console.log(n)}catch(t){}},f.init(),v()},n.fn.ordered=function(t){return this.each(function(){if(undefined==n(this).data("ordered")){var i=new n.ordered(this,t);n(this).data("ordered",i)}})},n.orderedbox=function(t,i){var v,f,r,h,e,a,o,u,p,d,y,g,nt,s,c;v={debug:!1},f=this,f.settings={},f.initialized=!1,r=n(t),h=t,e=r.prev("input[type=text]"),a=e.prop("disabled")||n("#obsreadonly").val()==="1",o=e.data("val-maxordered-val")!=null?parseInt(e.data("val-maxordered-val"),10):-1,u=1,f.init=function(){f.settings=n.extend({},v,i),c("orderedbox plugin initialization for elt: "+h.id),f.settings.debug&&e.removeClass("hdn-ordered");try{p(),a||d(),f.selectValues(),c("orderedbox plugin successfully initialized for elt: "+h.id)}catch(t){c("orderedbox plugin error during initialization for elt: "+h.id+" error message: "+t)}f.initialized=!0};var k='<span class="btn-minus" title="-"></span>',w='<span class="btn-plus" title="+"></span>',b='<span class="btn-conf">'+k+w+"</span>",p=function(){r.find("td, li").each(function(){var t=n(this).find("label, span.label");if(t.length>0&&(n(this).addClass("box").attr("role","checkbox"),n(this).attr("aria-label",t.text()),n(this).attr("name","r"+h.id),hasJqMobile||n(this).attr("tabindex","0"),!r.hasClass("varclosebtn"))){n(this).wrapInner("<div></div>"),n(this).find(">div").wrapInner('<span class="mod"></span>');var i=!t.hasClass("pictoimg")&&r.hasClass("ordered-left"),f=!t.hasClass("pictoimg")&&r.hasClass("ordered-top"),u=!t.hasClass("pictoimg")&&r.hasClass("ordered-bottom");i?(n(this).find(">div").append('<div class="wrapper-num"><span class="num"></span></div>'),n(this).find(".num").css("marginRight","0px").css("marginLeft","10px")):f?(n(this).find(">div").append('<div class="wrapper-num"><span class="num"></span></div>'),n(this).find(".wrapper-num").css("display","block").css("margin","auto"),n(this).find(".mod").css("display","block")):u?(n(this).find(">div").prepend('<div class="wrapper-num"><span class="num"></span></div>'),n(this).find(".wrapper-num").css("display","block").css("margin","auto"),n(this).find(".mod").css("display","block")):n(this).find(">div").prepend('<div class="wrapper-num"><span class="num"></span></div>'),a?n(this).addClass("disabled"):(n(this).append(b),i&&n(this).find(".btn-conf").css("left","0px")),n(this).find(".pictoimg span").remove(),n.fn.disableSelection!=undefined&&n(this).disableSelection()}})},d=function(){r.hasClass("varclosebtn")?r.find(".box").keydown(function(t){t.keyCode==32&&(t.preventDefault(),l(n(t.target)))}):hasJqMobile||r.find(".box").hover(function(){!n(this).data("selected")&&(o<=0||u<=o)&&n(this).find(".num").text(u)},function(){n(this).data("selected")||n(this).find(".num").empty()}).keydown(function(t){t.keyCode==32&&(t.preventDefault(),l(n(t.target)))}),r.bind(bindingClickType,function(t){n(":input:focus").blur(),t.preventDefault(),l(n(t.target))})},l=function(t){var f,h,c,i,e;i=t.hasClass("box")?t:t.closest(".box"),t.hasClass("btn-minus")?i.data("selected")&&i.data("selected")<u-1&&(f=i.data("selected"),h=y(f+1),h.data("selected",f).find(".num").text(f),i.data("selected",f+1).find(".num").text(f+1),s()):t.hasClass("btn-plus")?i.data("selected")?i.data("selected")&&i.data("selected")>1&&(f=i.data("selected"),h=y(f-1),h.data("selected",f).find(".num").text(f),i.data("selected",f-1).find(".num").text(f-1),s()):(o<=0||u<=o)&&(i.is("[data-isexclusive]")?(u=1,r.find(".box").each(function(){n(this).removeClass("selected").removeData("selected").find(".num").empty(),n(this).attr("aria-checked",!1)})):(e=r.find(".box.selected").filter("[data-isexclusive]"),e.length>0&&(e.removeClass("selected").removeData("selected").find(".num").empty(),e.attr("aria-checked",!1),u=1)),i.data("selected",u).addClass("selected").find(".num").text(u++),i.attr("aria-checked",!0),s()):i.length&&(i.data("selected")?(c=i.data("selected"),i.removeClass("selected").removeData("selected").find(".num").empty(),i.attr("aria-checked",!1),u--,r.find(".box").each(function(){n(this).data("selected")&&n(this).data("selected")>c&&(n(this).data("selected",n(this).data("selected")-1),n(this).find(".num").text(n(this).data("selected")))})):(o<=0||u<=o)&&(i.is("[data-isexclusive]")?(u=1,r.find(".box").each(function(){n(this).removeClass("selected").removeData("selected").find(".num").empty(),n(this).attr("aria-checked",!1)})):(e=r.find(".box.selected").filter("[data-isexclusive]"),e.length>0&&(e.removeClass("selected").removeData("selected").find(".num").empty(),e.attr("aria-checked",!1),u=1)),i.data("selected",u).addClass("selected").find(".num").text(u++),i.attr("aria-checked",!0)),s())},y=function(t){var u,i=!1;return r.find(".box").each(function(){!i&&n(this).data("selected")&&n(this).data("selected")===t&&(u=n(this),i=!0)}),u};f.selectValues=function(){var f=e.val(),t,n,i;if(f&&f.length>0&&(t=e.val().split(","),t.length>0))for(n=0;n<t.length;n+=1)i=r.find("td[data-value="+t[n]+"], li[data-value="+t[n]+"]"),i.length>0&&(i.data("selected",u).addClass("selected").find(".num").text(u++),i.attr("aria-checked",!0));s()},f.clearValues=function(){u=1,r.find(".box").each(function(){n(this).removeClass("selected").removeData("selected").find(".num").empty(),n(this).attr("aria-checked",!1)})},s=function(){var i,t;o>0&&u>o?r.find(".box").not(".selected").addClass("box-disabled").removeClass("box"):r.find(".box-disabled").addClass("box").removeClass("box-disabled"),i=new Array(u-1),r.find(".selected").each(function(){i[n(this).data("selected")-1]=n(this).data("value")}),t=i.join(),e.val()!==t&&(e.val(t).focus(),e.blur(),f.initialized&&e.trigger("valuechange")),r.hasClass("varclosebtn")&&r.data("plugin_sphVarCloseBtn").setSelectedBtns()},c=function(n){try{f.settings.debug&&window.console&&window.console.log(n)}catch(t){}},f.init()},n.fn.orderedbox=function(t){return this.each(function(){if(undefined==n(this).data("orderedbox")){var i=new n.orderedbox(this,t);n(this).data("orderedbox",i)}})}})(jQuery);/*!
 * Powered by Sphinx
 * http://www.lesphinx.eu
 *
 * Copyright (c) Le Sphinx Développement
 */
(function(n){n.tabdisplay=function(t,i){var f,w,ft,k,st,o,it,b,ot,tt,d,et,rt,v,g,a,y,s,e,c,h,r,u,l,p,ht,nt,ut;rt={debug:!1,type:"onebyone"},f=this,f.settings={},v=n(t),g=t,r=null,nt=!0,u=-1,e=[],v.data("slidepreventclick")&&(nt=!1),f.init=function(){f.settings=n.extend({},rt,i),w("slide plugin initialization for elt: "+g.id);try{if(f.settings.type==="onebyone")s=v.find(">tbody>tr");else{s=v.find("section.arrayquestion");var t=v.find(".wrapper-slidegroup");t.find(".qslidewrapper").next().addClass("slideContent")}f.setDisplayedRows(!0),f.showfirst(),w("slide plugin successfully initialized for elt: "+g.id)}catch(r){w("slide plugin error during initialization for elt: "+g.id+" error message: "+r)}},ut=function(){var t=!1,n;return a?t=c.val()!=="":y?t=h.val()!=="":(n=r.find("select.select-rating"),t=n!==undefined&&n!==null&&n.length>0?n.val()!=="":r.find(":checked").length!==0),t},f.showfirst=function(){var e=r,t=this.settings.type==="onebyone",i;if(r!=null&&(a?c.unbind("changeslider.onebyone"):y?h.unbind("change.onebyone"):r.find("select.select-rating").length>0||f.settings.type==="onebyone"?r.unbind(bindingClickType+".onebyone"):r.unbind("change.onebyone"),t||(p.unbind(bindingClickType+".onebyone"),l.unbind(bindingClickType+".onebyone"))),r=null,u=-1,b(),t&&s.hide(),bHasRequired=s.find(".input-validation-error").length>0,this.settings.type==="onebyone"||bHasRequired)for(i=et();r!==null&&(ut()||u<i)&&(!bHasRequired||r.find(".input-validation-error").length===0);)t&&r.show(),b();r!==null&&(k(),t?r.show():d(e,!0)),n(window).scroll()},f.setDisplayedRows=function(t){var h=0,c=!0,i=-1;u!==-1&&e.length!==0&&(i=r!==null?e[u]:e[e.length-1]),e=[],s.each(function(){n(this).hasClass("ssv-not-displayed")||n(this).hasClass("ssv-hidden")?h==i&&(c=!1,n(this).hide()):(e.push(h),h==i&&(u=e.length-1),f.settings.type==="onebyone"?h<i&&n(this).show():t||h==i||n(this).hide()),h++}),c!==!0?(u=-1,o(null)):f.settings.type!=="onebyone"?r!==null?tt():t||e.length===0||(b(),d(null,!0),k()):i!=-1||t||e.length===0||(b(),d(null,!0),k())};var k=function(){var t=e.length;f.settings.type==="slide"&&(t=e.length-1),nt&&u<t&&r!==null&&(a?c.bind("changeslider.onebyone",function(t){o(n(t.target))}):y?h.bind("change.onebyone",function(t){o(n(t.target))}):r.find("select.select-rating").length>0||f.settings.type==="onebyone"?(r.bind(bindingClickType+".onebyone",function(t){o(n(t.target))}),r.find("div.rateit").bind("rated.onebyone",function(t){o(n(t.target))})):r.bind("change.onebyone",function(t){o(n(t.target))}),r.bind("tabDisplayClick.onebyone",function(t){o(n(t.target))})),f.settings.type!=="onebyone"&&r!==null&&l&&(l.bind(bindingClickType+".onebyone",function(t){o(n(t.target))}),p.bind(bindingClickType+".onebyone",function(t){o(n(t.target))}))},o=function(t){var w,g;if(r!==null){var o=t,i=!1,tt=!1,nt=f.settings.type==="onebyone";t!==null?t.hasClass("slideprevious")||t.hasClass("slidenext")?(tt=t.hasClass("slideprevious"),i=t.hasClass("slidenext")):nt?(o.tagName!=="TD"&&(o=o.closest("td")),(o.index()>0||!o.closest("table").is(v))&&(i=!0)):(w=o.parents(".slideContent"),w!==null&&w!==undefined&&w.length>0&&(i=!0)):i=!0,(i||tt)&&(r!==null&&(a?c.unbind("changeslider.onebyone"):y?h.unbind("change.onebyone"):r.find("select.select-rating").length>0||f.settings.type==="onebyone"?(r.unbind(bindingClickType+".onebyone"),r.find("div.rateit").unbind("rated.onebyone")):r.unbind("change.onebyone")),nt||(p.unbind(bindingClickType+".onebyone"),l.unbind(bindingClickType+".onebyone")),i?(b(),r!=null&&(nt?(r.fadeIn(250),n(window).scroll(),checkFooterVisibility()):(g=u-1,d(n(s[e[g]]),!0))),k()):(ot(),r!==null&&(g=u+1,d(n(s[e[g]]),!1),k())))}},d=function(t,i){if(r!==null&&(t===null||t!==null&&t[0]!==r[0])){t!==null&&(i?t.find("h4").addClass("disappear"):t.find("h4").addClass("disappear-right"));var u=r.find("h4");u.removeClass("disappear").removeClass("disappear-right"),t===null?r.show():(i?u.addClass("appear"):u.addClass("appear-left"),setTimeout(function(){r!==null&&r.show(),t!==null&&t.hide(),n(window).scroll(),r!==null&&(r.find("img[data-imgclick]").each(function(){n(this).data("plugin_sphImgClick").setCanvasAndShapes()}),r.find(".varclosebtn").each(function(){n(this).data("plugin_sphVarCloseBtn").setBtnsHeight()}),f.settings.type==="onebyone"||ft(r.find(".qslidewrapper"))||(n(document).scrollTop(r.offset().top),n(body).scrollTop(r.offset().top))),setTimeout(function(){i?u.removeClass("appear"):u.removeClass("appear-left")},10)},500)),tt()}},tt=function(){r!==null&&(u>0?l.show():l.hide(),u<e.length-1?p.show():p.hide())},b=function(){it(!1)},ot=function(){it(!0)},it=function(t){if(e.length===0)r=null,u=-1,a=!1,y=!1;else{if(w("moveCurrentRow "+u),t?u--:u++,u>=0&&u<e.length?r=n(s[e[u]]):(r=null,u=-1),c=null,h=null,r!==null){var i=r.find("select.select-slider");i.length>0&&(c=i.first()),i=r.find("select").not(".select-rating"),i.length>0&&(h=i.first()),l=r.find(".slideprevious"),p=r.find(".slidenext")}a=c!==null,y=h!==null,w("moveCurrentRow end"+u)}},ft=function(t){var r=n(window).scrollTop(),f=r+n(window).height(),i=t.offset().top,u=i+t.height();return u<=f&&i>=r},w=function(n){try{f.settings.debug&&window.console&&window.console.log(n)}catch(t){}},et=function(){var t=0;return e.forEach(function(i){var f=n(s[i]),u=!1,r=f.find("select.select-slider");r.length>0?u=r.first().val()!=="":(r=f.find("select").not(".select-rating"),r.length>0?u=r.first().val()!=="":(r=f.find("select.select-rating"),u=r!==undefined&&r!==null&&r.length>0?r.val()!=="":f.find(":checked").length!==0)),u&&(t=i)}),t};f.init()},n.fn.tabdisplay=function(t){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var i;if(undefined==n(this).data("tabdisplay"))i=new n.tabdisplay(this,t),n(this).data("tabdisplay",i);else{i=n(this).data("tabdisplay");switch(t){case"showfirst":i.showfirst()}}})}})(jQuery);(function(n,t,i,r){function f(t,i){this.element=t,this.$el=n(t),this.options=n.extend({},e,i),this.isMultiGroup=this.$el.is("td"),this.isGroup=!this.isMultiGroup&&this.$el.closest("table.table-buttons").length>0,this.isBalayage=!this.isMultiGroup&&!this.isGroup&&this.$el.closest(".slideContent").length>0,this.isMultiGroup?(this.btns=this.$el.closest("table").find("td.col-"+this.$el.data("closebtn-col")+" > div.cell-content"),this.inputs=this.btns.find("input")):this.isGroup?(this.btns=this.$el.find("td:not(.td-label) > div.cell-content"),this.inputs=this.$el.find("input")):(this.btns=this.$el.find("label, span.label"),this.inputs=this.$el.find("input")),this.isLabel=this.btns.is("label")||this.btns.is("div"),this._defaults=e,this._name=u,this.init()}function o(n,t,i){t||(t=250);var r,u;return function(){var o=i||this,f=+new Date,e=arguments;r&&f<r+t?(clearTimeout(u),u=setTimeout(function(){r=f,n.apply(o,e)},t)):(r=f,n.apply(o,e))}}var u="sphVarCloseBtn",e={};f.prototype={init:function(){var n=this;return n.wrapButtons().setBtnsHeight().setSelectedBtns().attachEvents(),n},wrapButtons:function(){var t=this;return t.isGroup||t.isMultiGroup?t.inputs.each(function(){var t=n(this);t.closest("td").addClass("closebtn")}):(t.btns.wrapInner("<span></span>"),t.$el.closest(".array").length&&t.inputs.each(function(){var i=n(this),r=t.isBalayage?i.next("label, span.label"):i.find("+label, +span.label");r.attr("style",i.attr("style"))})),t.isLabel||t.btns.attr("role",this.inputs.first().is(":radio")?"radio":"checkbox").attr("aria-checked","false"),t},attachEvents:function(){var i=this;n("html").hasClass("lt-ie8")||i.isGroup||i.isMultiGroup||n(t).resize(o(function(){i.setBtnsHeight()},1e3));i.inputs.on("change evaluate",function(n,t,r,u){typeof u!="undefined"&&u.length>0?i.setSelectedBtn(u):i.setSelectedBtns()});return i},setBtnsHeight:function(){var t=this,i=0;return t.isGroup||t.isMultiGroup||(t.btns.addClass("auto-height").each(function(){var t=n(this);i=Math.max(i,t.height())}).removeClass("auto-height"),i>0&&t.btns.css("height",i+"px")),t},setSelectedBtn:function(n){var t=this,e=n.data("confBtn"),i,u,f;return e!==r?(i=e.td,u=e.hasTd,f=e.inp):(i=n.closest("td"),u=i.length>0,f=t.isGroup||t.isMultiGroup?i.find("input"):n.prev(),f.length===0&&(f=n.next()),n.data("confBtn",{td:i,hasTd:u,inp:f})),t.isGroup||t.isMultiGroup||!u||i.addClass("tdbtn-selected"),f.prop("checked")||u&&i.hasClass("box")&&i.hasClass("selected")?(n.addClass("btn-selected"),t.isLabel||n.attr("aria-checked","true"),u&&i.data("selected")!=r&&n.attr("data-num",i.data("selected")).addClass("numbered"),(t.isGroup||t.isMultiGroup)&&n.addClass("grp-btn-selected")):(n.removeClass("btn-selected").removeClass("numbered"),t.isLabel||n.attr("aria-checked","false"),(t.isGroup||t.isMultiGroup)&&n.removeClass("grp-btn-selected")),t},setSelectedBtns:function(){var t=this;return t.btns.each(function(){t.setSelectedBtn(n(this))}),t}},n.fn[u]=function(t){return this.each(function(){n.data(this,"plugin_"+u)||n.data(this,"plugin_"+u,new f(this,t))})}})(jQuery,window,document);/*! RateIt | v1.0.22 / 05/27/2014 | https://rateit.codeplex.com/license
    http://rateit.codeplex.com | Twitter: @gjunge
*/
(function(n){function t(t){var f=t.originalEvent.changedTouches,i=f[0],u="",r;switch(t.type){case"touchmove":u="mousemove";break;case"touchend":u="mouseup";break;default:return}r=document.createEvent("MouseEvent"),r.initMouseEvent(u,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(r),t.preventDefault(),n(":input:focus").blur()}n.rateit={aria:{resetLabel:"reset rating",ratingLabel:"rating"}},n.fn.rateit=function(i,r){var e;if(navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1){var o=n(this).closest("table"),f=o.find("caption"),h=f.height();f.css("position","absolute"),f.css("top",-h+"px"),f.css("left","0px"),f.css("width","100%"),o.css("margin-top",h+"px"),o.css("position","relative")}var c=1,u={},l="init",s=function(n){return n.charAt(0).toUpperCase()+n.substr(1)};if(this.length===0)return this;if(e=n.type(i),e=="object"||i===undefined||i===null)u=n.extend({},n.fn.rateit.defaults,i);else{if(e=="string"&&i!=="reset"&&r===undefined)return this.data("rateit"+s(i));e=="string"&&(l="setvalue")}return this.each(function(){var o=n(this),f=function(n,t){if(t!=null){var r="aria-value"+(n=="value"?"now":n),i=o.find(".rateit-range");i.attr(r)!=undefined&&i.attr(r,t)}return arguments[0]="rateit"+s(n),o.data.apply(o,arguments)},b,d,v,k,it,e,tt,h,y,w,a;if(i=="reset"){b=f("init");for(d in b)o.data(d,b[d]);f("backingfld")&&(e=n(f("backingfld")),e.val(f("value")),e.trigger("change"),e[0].min&&(e[0].min=f("min")),e[0].max&&(e[0].max=f("max")),e[0].step&&(e[0].step=f("step"))),o.trigger("reset")}if(o.hasClass("rateit")||o.addClass("rateit"),v=o.css("direction")!="rtl",l=="setvalue"){if(!f("init"))throw"Can't set value before init";i!="readonly"||r!=!0||f("readonly")||(o.find(".rateit-range").unbind(),f("wired",!1)),i=="value"&&(r=r==null?f("min"):Math.max(f("min"),Math.min(f("max"),r))),f("backingfld")&&(e=n(f("backingfld")),i=="value"&&e.val(r),i=="min"&&e[0].min&&(e[0].min=r),i=="max"&&e[0].max&&(e[0].max=r),i=="step"&&e[0].step&&(e[0].step=r)),f(i,r)}f("init")||(f("min",isNaN(f("min"))?u.min:f("min")),f("max",isNaN(f("max"))?u.max:f("max")),f("step",f("step")||u.step),f("readonly",f("readonly")!==undefined?f("readonly"):u.readonly),f("resetable",f("resetable")!==undefined?f("resetable"):u.resetable),f("backingfld",f("backingfld")||u.backingfld),f("starwidth",f("starwidth")||u.starwidth),f("starheight",f("starheight")||u.starheight),f("value",Math.max(f("min"),Math.min(f("max"),isNaN(f("value"))?isNaN(u.value)?u.min:u.value:f("value")))),f("ispreset",f("ispreset")!==undefined?f("ispreset"):u.ispreset),f("backingfld")&&(e=n(f("backingfld")).hide(),(e.attr("disabled")||e.attr("readonly"))&&f("readonly",!0),e[0].nodeName=="INPUT"&&(e[0].type=="range"||e[0].type=="text")&&(f("min",parseInt(e.attr("min"))||f("min")),f("max",parseInt(e.attr("max"))||f("max")),f("step",parseInt(e.attr("step"))||f("step"))),e[0].nodeName=="SELECT"&&e[0].options.length>1?(f("min",isNaN(f("min"))?Number(e[0].options[0].value):f("min")),f("max",Number(e[0].options[e[0].length-1].value)),f("step",Number(e[0].options[1].value)-Number(e[0].options[0].value)),k=e.find("option[selected]"),k.length==1&&f("value",k.val())):f("value",e.val())),it=o[0].nodeName=="DIV"?"div":"span",c++,e=n(f("backingfld")),tt='<button id="rateit-reset-{{index}}" type="button" data-role="none" class="rateit-reset" aria-label="'+n.rateit.aria.resetLabel+'" aria-controls="rateit-range-{{index}}"></button><{{element}} id="rateit-range-{{index}}" class="rateit-range" tabindex="0" role="slider" aria-labelledby="'+e.attr("aria-labelledby")+'" aria-owns="rateit-reset-{{index}}" aria-valuemin="'+f("min")+'" aria-valuemax="'+f("max")+'" aria-valuenow="'+f("value")+'"><{{element}} class="rateit-selected" style="height:'+f("starheight")+'px"></{{element}}><{{element}} class="rateit-hover" style="height:'+f("starheight")+'px"></{{element}}></{{element}}>',o.append(tt.replace(/{{index}}/gi,c).replace(/{{element}}/gi,it)),v||(o.find(".rateit-reset").css("float","right"),o.find(".rateit-selected").addClass("rateit-selected-rtl"),o.find(".rateit-hover").addClass("rateit-hover-rtl")),f("init",JSON.parse(JSON.stringify(o.data())))),o.find(".rateit-selected, .rateit-hover").height(f("starheight")),h=o.find(".rateit-range"),h.width(f("starwidth")*(f("max")-f("min"))).height(f("starheight")),y="rateit-preset"+(v?"":"-rtl"),f("ispreset")?o.find(".rateit-selected").addClass(y):o.find(".rateit-selected").removeClass(y),f("value")!=null&&(w=(f("value")-f("min"))*f("starwidth"),o.find(".rateit-selected").width(w)),a=o.find(".rateit-reset"),a.data("wired")!==!0&&a.bind("click",function(t){t.preventDefault(),a.blur();var i=n.Event("beforereset");if(o.trigger(i),i.isDefaultPrevented())return!1;o.rateit("value",null),o.trigger("reset")}).data("wired",!0);var nt=function(t,i){var u=i.changedTouches?i.changedTouches[0].pageX:i.pageX,r=u-n(t).offset().left;return v||(r=h.width()-r),r>h.width()&&(r=h.width()),r<0&&(r=0),w=Math.ceil(r/f("starwidth")*(1/f("step")))},ft=function(n){var i=n*f("starwidth")*f("step"),r=h.find(".rateit-hover"),t;r.data("width")!=i&&(h.find(".rateit-selected").hide(),r.width(i).show().data("width",i),t=[n*f("step")+f("min")],o.trigger("hover",t).trigger("over",t))},p=function(t){var u=n.Event("beforerated"),i,r;return(o.trigger(u,[t]),u.isDefaultPrevented())?!1:(i=o.siblings("select"),i.length&&i.data("val-required")==undefined&&i.val()==t)?(i.val(""),f("init",n.extend({},f("init"),{rateitValue:""})),o.rateit("reset"),o.find(".rateit-hover").hide(),!1):(f("value",t),f("backingfld")&&(r=n(f("backingfld")),r.val(t),r.trigger("change"),isFormSubmitted&&r.valid()),f("ispreset")&&(h.find(".rateit-selected").removeClass(y),f("ispreset",!1)),h.find(".rateit-hover").hide(),h.find(".rateit-selected").width(t*f("starwidth")-f("min")*f("starwidth")).show(),o.trigger("hover",[null]).trigger("over",[null]).trigger("rated",[t]),!0)},g=Date.now||function(){return+new Date},ut=function(n,t,i){var r,f,u,s,e,o=function(){var h=g()-s;h<t&&h>=0?r=setTimeout(o,t-h):(r=null,i||(e=n.apply(u,f),r||(u=f=null)))};return function(){u=this,f=arguments,s=g();var h=i&&!r;return r||(r=setTimeout(o,t)),h&&(e=n.apply(u,f),u=f=null),e}},rt=ut(p,500,!0);f("readonly")?a.hide():(f("resetable")||a.hide(),f("wired")||(h.bind("touchmove touchend",t),h.mousemove(function(n){var t=nt(this,n);ft(t)}),h.mouseleave(function(){h.find(".rateit-hover").hide().width(0).data("width",""),o.trigger("hover",[null]).trigger("over",[null]),h.find(".rateit-selected").show()}),h.mouseup(function(n){var i=nt(this,n),t=i*f("step")+f("min");rt(t),h.blur()}),h.keyup(function(n){(n.which==38||n.which==(v?39:37))&&p(Math.min(f("value")+f("step"),f("max"))),(n.which==40||n.which==(v?37:39))&&p(Math.max(f("value")-f("step"),f("min")))}),f("wired",!0)),f("resetable")&&a.show()),h.attr("aria-readonly",f("readonly"))})},n.fn.rateit.defaults={min:0,max:5,step:.5,starwidth:16,starheight:16,readonly:!1,resetable:!0,ispreset:!1},n(function(){n("div.rateit, span.rateit").rateit()})})(jQuery);!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n="undefined"!=typeof globalThis?globalThis:n||self).noUiSlider={})}(this,function(n){"use strict";function h(n){return"object"==typeof n&&"function"==typeof n.to}function it(n){n.parentElement.removeChild(n)}function a(n){return null!=n}function k(n){n.preventDefault()}function u(n){return"number"==typeof n&&!isNaN(n)&&isFinite(n)}function b(n,i,r){0<r&&(t(n,i),setTimeout(function(){o(n,i)},r))}function p(n){return Math.max(Math.min(n,100),0)}function s(n){return Array.isArray(n)?n:[n]}function gt(n){return n=(n=String(n)).split("."),1<n.length?n[1].length:0}function t(n,t){n.classList&&!/\s/.test(t)?n.classList.add(t):n.className+=" "+t}function o(n,t){n.classList&&!/\s/.test(t)?n.classList.remove(t):n.className=n.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function g(n){var i=void 0!==window.pageXOffset,t="CSS1Compat"===(n.compatMode||"");return{x:i?window.pageXOffset:(t?n.documentElement:n.body).scrollLeft,y:i?window.pageYOffset:(t?n.documentElement:n.body).scrollTop}}function y(n,t){return 100/(t-n)}function c(n,t,i){return 100*t/(n[i+1]-n[i])}function e(n,t){for(var i=1;n>=t[i];)i+=1;return i}function ni(n,t,i){if(i>=n.slice(-1)[0])return 100;var u=e(i,n),f=n[u-1],r=n[u],n=t[u-1],u=t[u];return n+(i=i,c(r=[f,r],r[0]<0?i+Math.abs(r[0]):i-r[0],0)/y(n,u))}function ti(n,t,i,r){if(100===r)return r;var u=e(r,n),f=n[u-1],o=n[u];return i?(o-f)/2<r-f?o:f:t[u-1]?n[u-1]+(n=r-n[u-1],u=t[u-1],Math.round(n/u)*u):r}function r(n,t,i){var r,u;for(this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.snap=t,u=[],Object.keys(n).forEach(function(t){u.push([s(n[t]),t])}),u.sort(function(n,t){return n[0][0]-t[0][0]}),r=0;r<u.length;r++)this.handleEntryPoint(u[r][1],u[r][0]);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)this.handleStepPoint(r,this.xNumSteps[r])}function dt(n,t){if(!u(t))throw new Error("noUiSlider: 'step' is not numeric.");n.singleStep=t}function wt(n,t){if(!u(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");n.keyboardPageMultiplier=t}function ct(n,t){if(!u(t))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");n.keyboardMultiplier=t}function bt(n,t){if(!u(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");n.keyboardDefaultStep=t}function kt(n,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");n.spectrum=new v(t,n.snap||!1,n.singleStep)}function ei(n,t){if(t=s(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");n.handles=t.length,n.start=t}function oi(n,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.");n.snap=t}function si(n,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.");n.animate=t}function fi(n,t){if("number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.");n.animationDuration=t}function ii(n,t){var r,i=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(r=1;r<n.handles;r++)i.push(t);i.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==n.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");i=t}n.connect=i}function ri(n,t){switch(t){case"horizontal":n.ort=0;break;case"vertical":n.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.");}}function tt(n,t){if(!u(t))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==t&&(n.margin=n.spectrum.getDistance(t))}function ui(n,t){if(!u(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(n.limit=n.spectrum.getDistance(t),!n.limit||n.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.");}function pt(n,t){var i,r,t;if(!u(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&2!==t.length&&!u(t[0])&&!u(t[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==t){for(Array.isArray(t)||(t=[t,t]),n.padding=[n.spectrum.getDistance(t[0]),n.spectrum.getDistance(t[1])],i=0;i<n.spectrum.xNumSteps.length-1;i++)if(n.padding[0][i]<0||n.padding[1][i]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");if(r=t[0]+t[1],t=n.spectrum.xVal[0],1<r/(n.spectrum.xVal[n.spectrum.xVal.length-1]-t))throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.");}}function et(n,t){switch(t){case"ltr":n.dir=0;break;case"rtl":n.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.");}}function ot(n,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var o=0<=t.indexOf("tap"),f=0<=t.indexOf("drag"),i=0<=t.indexOf("fixed"),r=0<=t.indexOf("snap"),e=0<=t.indexOf("hover"),u=0<=t.indexOf("unconstrained"),t=0<=t.indexOf("drag-all");if(i){if(2!==n.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");tt(n,n.start[1]-n.start[0])}if(u&&(n.margin||n.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");n.events={tap:o||r,drag:f,dragAll:t,fixed:i,snap:r,hover:e,unconstrained:u}}function ft(n,t){if(!1!==t)if(!0===t||h(t)){n.tooltips=[];for(var i=0;i<n.handles;i++)n.tooltips.push(t)}else{if((t=s(t)).length!==n.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.forEach(function(n){if("boolean"!=typeof n&&!h(n))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.");}),n.tooltips=t}}function ut(n,t){if(t.length!==n.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");n.handleAttributes=t}function rt(n,t){if(!h(t))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");n.ariaFormat=t}function st(n,t){if(!h(i=t)||"function"!=typeof i.from)throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");var i;n.format=t}function at(n,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");n.keyboardSupport=t}function vt(n,t){n.documentElement=t}function yt(n,t){if("string"!=typeof t&&!1!==t)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");n.cssPrefix=t}function ht(n,t){if("object"!=typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof n.cssPrefix?(n.cssClasses={},Object.keys(t).forEach(function(i){n.cssClasses[i]=n.cssPrefix+t[i]})):n.cssClasses=t}function d(n){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:w,format:w},r={step:{r:!1,t:dt},keyboardPageMultiplier:{r:!1,t:wt},keyboardMultiplier:{r:!1,t:ct},keyboardDefaultStep:{r:!1,t:bt},start:{r:!0,t:ei},connect:{r:!0,t:ii},direction:{r:!0,t:et},snap:{r:!1,t:oi},animate:{r:!1,t:si},animationDuration:{r:!1,t:fi},range:{r:!0,t:kt},orientation:{r:!1,t:ri},margin:{r:!1,t:tt},limit:{r:!1,t:ui},padding:{r:!1,t:pt},behaviour:{r:!0,t:ot},ariaFormat:{r:!1,t:rt},format:{r:!1,t:st},tooltips:{r:!1,t:ft},keyboardSupport:{r:!0,t:at},documentElement:{r:!1,t:vt},cssPrefix:{r:!0,t:yt},cssClasses:{r:!0,t:ht},handleAttributes:{r:!1,t:ut}},u={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:l,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};n.format&&!n.ariaFormat&&(n.ariaFormat=n.format),Object.keys(r).forEach(function(i){if(a(n[i])||void 0!==u[i])r[i].t(t,(a(n[i])?n:u)[i]);else if(r[i].r)throw new Error("noUiSlider: '"+i+"' is required.");}),t.pips=n.pips;var i=document.createElement("div"),f=void 0!==i.style.msTransform,i=void 0!==i.style.transform;return t.transformRule=i?"transform":f?"msTransform":"webkitTransform",t.style=[["left","top"],["right","bottom"]][t.dir][t.ort],t}function lt(i,r,u){function nt(n,i){var r=ht.createElement("div");return i&&t(r,i),n.appendChild(r),r}function nr(n,i){var f,n=nt(n,r.cssClasses.origin),u=nt(n,r.cssClasses.handle);return nt(u,r.cssClasses.touchArea),u.setAttribute("data-handle",String(i)),r.keyboardSupport&&(u.setAttribute("tabindex","0"),u.addEventListener("keydown",function(n){return function(n,t){var i;if(yi()||ui(t))return!1;var s=["Left","Right"],o=["Down","Up"],u=["PageDown","PageUp"],h=["Home","End"];r.dir&&!r.ort?s.reverse():r.ort&&!r.dir&&(o.reverse(),u.reverse());var f=n.key.replace("Arrow",""),a=f===u[0],v=f===u[1],u=f===o[0]||f===s[0]||a,o=f===o[1]||f===s[1]||v,s=f===h[0],h=f===h[1];if(!(u||o||s||h))return!0;if(n.preventDefault(),o||u){if(i=u?0:1,i=si(t)[i],null===i)return!1;!1===i&&(i=e.getDefaultStep(c[t],u,r.keyboardDefaultStep)),i*=v||a?r.keyboardPageMultiplier:r.keyboardMultiplier,i=Math.max(i,1e-7),i*=u?-1:1,i=w[t]+i}else i=h?r.spectrum.xVal[r.spectrum.xVal.length-1]:r.spectrum.xVal[0];return ct(t,e.toStepping(i),!0,!0),l("slide",t),l("update",t),l("change",t),l("set",t),!1}(n,i)})),void 0!==r.handleAttributes&&(f=r.handleAttributes[i],Object.keys(f).forEach(function(n){u.setAttribute(n,f[n])})),u.setAttribute("role","slider"),u.setAttribute("aria-orientation",r.ort?"vertical":"horizontal"),0===i?t(u,r.cssClasses.handleLower):i===r.handles-1&&t(u,r.cssClasses.handleUpper),n}function bi(n,t){return!!t&&nt(n,r.cssClasses.connect)}function tr(n,t){return!(!r.tooltips||!r.tooltips[t])&&nt(n.firstChild,r.cssClasses.tooltip)}function yi(){return v.hasAttribute("disabled")}function ui(n){return h[n].hasAttribute("disabled")}function ri(){rt&&(lt("update"+f.tooltips),rt.forEach(function(n){n&&it(n)}),rt=null)}function di(){ri(),rt=h.map(tr),ni("update"+f.tooltips,function(n,t,i){rt&&r.tooltips&&!1!==rt[t]&&(n=n[t],!0!==r.tooltips[t]&&(n=r.tooltips[t].to(i[t])),rt[t].innerHTML=n)})}function ki(n,t){return n.map(function(n){return e.fromStepping(t?e.getStep(n):n)})}function fr(t){var i=function(t){if(t.mode===n.PipsMode.Range||t.mode===n.PipsMode.Steps)return e.xVal;if(t.mode!==n.PipsMode.Count)return t.mode===n.PipsMode.Positions?ki(t.values,t.stepped):t.mode===n.PipsMode.Values?t.stepped?t.values.map(function(n){return e.fromStepping(e.getStep(e.toStepping(n)))}):t.values:[];if(t.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var i=t.values-1,u=100/i,r=[];i--;)r[i]=i*u;return r.push(100),ki(r,t.stepped)}(t),u={},o=e.xVal[0],s=e.xVal[e.xVal.length-1],h=!1,f=!1,r=0;return(i=i.slice().sort(function(n,t){return n-t}).filter(function(n){return!this[n]&&(this[n]=!0)},{}))[0]!==o&&(i.unshift(o),h=!0),i[i.length-1]!==s&&(i.push(s),f=!0),i.forEach(function(o,s){var c,y,p,k,w,v,d,g,o=o,l=i[s+1],b=t.mode===n.PipsMode.Steps,a=(a=b?e.xNumSteps[s]:a)||l-o;for(void 0===l&&(l=o),a=Math.max(a,1e-7),c=o;c<=l;c=Number((c+a).toFixed(7))){for(v=(k=(p=e.toStepping(c))-r)/(t.density||1),g=k/(d=Math.round(v)),y=1;y<=d;y+=1)u[(w=r+y*g).toFixed(5)]=[e.fromStepping(w),0];v=-1<i.indexOf(c)?n.PipsType.LargeValue:b?n.PipsType.SmallValue:n.PipsType.NoValue,!s&&h&&c!==l&&(v=0),c===l&&f||(u[p.toFixed(5)]=[c,v]),r=p}}),u}function er(i,u,f){function s(n,t){var i=t===r.cssClasses.value;return t+" "+(i?a:h)[r.ort]+" "+(i?c:l)[n]}var e,o=ht.createElement("div"),c=((e={})[n.PipsType.None]="",e[n.PipsType.NoValue]=r.cssClasses.valueNormal,e[n.PipsType.LargeValue]=r.cssClasses.valueLarge,e[n.PipsType.SmallValue]=r.cssClasses.valueSub,e),l=((e={})[n.PipsType.None]="",e[n.PipsType.NoValue]=r.cssClasses.markerNormal,e[n.PipsType.LargeValue]=r.cssClasses.markerLarge,e[n.PipsType.SmallValue]=r.cssClasses.markerSub,e),a=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],h=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];return t(o,r.cssClasses.pips),t(o,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(i).forEach(function(t){var c,h,e;h=i[c=t][0],e=i[t][1],(e=u?u(h,e):e)!==n.PipsType.None&&((t=nt(o,!1)).className=s(e,r.cssClasses.marker),t.style[r.style]=c+"%",e>n.PipsType.NoValue&&((t=nt(o,!1)).className=s(e,r.cssClasses.value),t.setAttribute("data-value",String(h)),t.style[r.style]=c+"%",t.innerHTML=String(f.to(h))))}),o}function kt(){bt&&(it(bt),bt=null)}function dt(n){kt();var i=fr(n),t=n.filter,n=n.format||{to:function(n){return String(Math.round(n))}};return bt=v.appendChild(er(i,t,n))}function wi(){var t=ut.getBoundingClientRect(),n="offset"+["Width","Height"][r.ort];return 0===r.ort?t.width||ut[n]:t.height||ut[n]}function et(n,t,i,u){function e(f){var o,e=function(n,t,i){var u=0===n.type.indexOf("touch"),s=0===n.type.indexOf("mouse"),o=0===n.type.indexOf("pointer"),e=0,f=0,r;if(0===n.type.indexOf("MSPointer")&&(o=!0),"mousedown"===n.type&&!n.buttons&&!n.touches)return!1;if(u)if(r=function(t){return t=t.target,t===i||i.contains(t)||n.composed&&n.composedPath().shift()===i},"touchstart"===n.type){if(u=Array.prototype.filter.call(n.touches,r),1<u.length)return!1;e=u[0].pageX,f=u[0].pageY}else{if(r=Array.prototype.find.call(n.changedTouches,r),!r)return!1;e=r.pageX,f=r.pageY}return t=t||g(ht),(s||o)&&(e=n.clientX+t.x,f=n.clientY+t.y),n.pageOffset=t,n.points=[e,f],n.cursor=s||o,n}(f,u.pageOffset,u.target||t);return!!e&&!(yi()&&!u.doNotReject)&&(o=v,f=r.cssClasses.tap,!((o.classList?o.classList.contains(f):new RegExp("\\b"+f+"\\b").test(o.className))&&!u.doNotReject)&&!(n===ft.start&&void 0!==e.buttons&&1<e.buttons)&&(!u.hover||!e.buttons)&&(ci||e.preventDefault(),e.calcPoint=e.points[r.ort],void i(e,u)))}var f=[];return n.split(" ").forEach(function(n){t.addEventListener(n,e,!!ci&&{passive:!0}),f.push([n,e])}),f}function pi(n){var u,i,t=p(t=100*(n-(t=ut,u=r.ort,i=t.getBoundingClientRect(),t=(n=t.ownerDocument).documentElement,n=g(n),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(n.x=0),u?i.top+n.y-t.clientTop:i.left+n.x-t.clientLeft))/wi());return r.dir?100-t:t}function or(n,t){"mouseout"===n.type&&"HTML"===n.target.nodeName&&null===n.relatedTarget&&fi(n,t)}function ir(n,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===n.buttons&&0!==t.buttonsProperty)return fi(n,t);n=(r.dir?-1:1)*(n.calcPoint-t.startCalcPoint),li(0<n,100*n/t.baseSize,t.locations,t.handleNumbers,t.connect)}function fi(n,t){t.handle&&(o(t.handle,r.cssClasses.active),--gt),t.listeners.forEach(function(n){vt.removeEventListener(n[0],n[1])}),0===gt&&(o(v,r.cssClasses.drag),ei(),n.cursor&&(pt.style.cursor="",pt.removeEventListener("selectstart",k))),t.handleNumbers.forEach(function(n){l("change",n),l("set",n),l("end",n)})}function ii(n,i){var f,e,o,u;i.handleNumbers.some(ui)||(1===i.handleNumbers.length&&(u=h[i.handleNumbers[0]].children[0],gt+=1,t(u,r.cssClasses.active)),n.stopPropagation(),e=et(ft.move,vt,ir,{target:n.target,handle:u,connect:i.connect,listeners:f=[],startCalcPoint:n.calcPoint,baseSize:wi(),pageOffset:n.pageOffset,handleNumbers:i.handleNumbers,buttonsProperty:n.buttons,locations:c.slice()}),o=et(ft.end,vt,fi,{target:n.target,handle:u,listeners:f,doNotReject:!0,handleNumbers:i.handleNumbers}),u=et("mouseout",vt,or,{target:n.target,handle:u,listeners:f,doNotReject:!0,handleNumbers:i.handleNumbers}),f.push.apply(f,e.concat(o,u)),n.cursor&&(pt.style.cursor=getComputedStyle(n.target).cursor,1<h.length&&t(v,r.cssClasses.drag),pt.addEventListener("selectstart",k,!1)),i.handleNumbers.forEach(function(n){l("start",n)}))}function rr(n){n.stopPropagation();var u,i,f,e=pi(n.calcPoint),t=(u=e,f=!(i=100),h.forEach(function(n,t){var e,r;ui(t)||(e=c[t],((r=Math.abs(e-u))<i||r<=i&&e<u||100===r&&100===i)&&(f=t,i=r))}),f);!1!==t&&(r.events.snap||b(v,r.cssClasses.tap,r.animationDuration),ct(t,e,!0,!0),ei(),l("slide",t,!0),l("update",t,!0),r.events.snap?ii(n,{handleNumbers:[t]}):(l("change",t,!0),l("set",t,!0)))}function ur(n){var n=pi(n.calcPoint),n=e.getStep(n),t=e.fromStepping(n);Object.keys(tt).forEach(function(n){"hover"===n.split(".")[0]&&tt[n].forEach(function(n){n.call(at,t)})})}function ni(n,t){tt[n]=tt[n]||[],tt[n].push(t),"update"===n.split(".")[0]&&h.forEach(function(n,t){l("update",t)})}function lt(n){var t=n&&n.split(".")[0],i=t?n.substring(t.length):n;Object.keys(tt).forEach(function(n){var r=n.split(".")[0],u=n.substring(r.length);t&&t!==r||i&&i!==u||((r=u)!==f.aria&&r!==f.tooltips||i===u)&&delete tt[n]})}function l(n,t,i){Object.keys(tt).forEach(function(u){var f=u.split(".")[0];n===f&&tt[u].forEach(function(n){n.call(at,w.map(r.format.to),t,w.slice(),i||!1,c.slice(),at)})})}function yt(n,t,i,u,f,o){var s;return 1<h.length&&!r.events.unconstrained&&(u&&0<t&&(s=e.getAbsoluteDistance(n[t-1],r.margin,!1),i=Math.max(i,s)),f&&t<h.length-1&&(s=e.getAbsoluteDistance(n[t+1],r.margin,!0),i=Math.min(i,s))),1<h.length&&r.limit&&(u&&0<t&&(s=e.getAbsoluteDistance(n[t-1],r.limit,!1),i=Math.min(i,s)),f&&t<h.length-1&&(s=e.getAbsoluteDistance(n[t+1],r.limit,!0),i=Math.max(i,s))),r.padding&&(0===t&&(s=e.getAbsoluteDistance(0,r.padding[0],!1),i=Math.max(i,s)),t===h.length-1&&(s=e.getAbsoluteDistance(100,r.padding[1],!0),i=Math.min(i,s))),!((i=p(i=e.getStep(i)))===n[t]&&!o)&&i}function ti(n,t){var i=r.ort;return(i?t:n)+", "+(i?n:t)}function li(n,t,i,r,u){var e=i.slice(),h=r[0],s=[!n,n],o=[n,!n],f;r=r.slice(),n&&r.reverse(),1<r.length?r.forEach(function(n,i){i=yt(e,n,e[n]+t,s[i],o[i],!1),!1===i?t=0:(t=i-e[n],e[n]=i)}):s=o=[!0],f=!1,r.forEach(function(n,r){f=ct(n,i[n]+t,s[r],o[r])||f}),f&&(r.forEach(function(n){l("update",n),l("slide",n)}),null!=u&&l("drag",h))}function hi(n,t){return r.dir?100-n-t:n}function ei(){y.forEach(function(n){var t=50<c[n]?-1:1,t=3+(h.length+t*n);h[n].style.zIndex=String(t)})}function ct(n,t,i,u,f){return!1!==(t=f?t:yt(c,n,t,i,u,!1))&&(t=t,c[n=n]=t,w[n]=e.fromStepping(t),t="translate("+ti(hi(t,0)-gi+"%","0")+")",h[n].style[r.transformRule]=t,ai(n),ai(n+1),!0)}function ai(n){var i,t;ot[n]&&(t=100,i="translate("+ti(hi(i=(i=0)!==n?c[n-1]:i,t=(t=n!==ot.length-1?c[n]:t)-i)+"%","0")+")",t="scale("+ti(t/100,"1")+")",ot[n].style[r.transformRule]=i+" "+t)}function vi(n,t){return null===n||!1===n||void 0===n?c[t]:("number"==typeof n&&(n=String(n)),!1===(n=!1!==(n=r.format.from(n))?e.toStepping(n):n)||isNaN(n)?c[t]:n)}function wt(n,t,i){var f=s(n),n=void 0===c[0],o,u;for(t=void 0===t||t,r.animate&&!n&&b(v,r.cssClasses.tap,r.animationDuration),y.forEach(function(n){ct(n,vi(f[n],n),!0,!1,i)}),u=1===y.length?0:1,n&&e.hasNoSize()&&(i=!0,c[0]=0,1<y.length&&(o=100/(y.length-1),y.forEach(function(n){c[n]=n*o})));u<y.length;++u)y.forEach(function(n){ct(n,c[n],!0,!0,i)});ei(),y.forEach(function(n){l("update",n),null!==f[n]&&t&&l("set",n)})}function oi(n){return(n=void 0===n?!1:n)?1===w.length?w[0]:w.slice(0):(n=w.map(r.format.to),1===n.length?n[0]:n)}function si(n){var u=c[n],i=e.getNearbySteps(u),f=w[n],t=i.thisStep.step,n=null;return r.snap?[f-i.stepBefore.startValue||null,i.stepAfter.startValue-f||null]:(!1!==t&&f+t>i.stepAfter.startValue&&(t=i.stepAfter.startValue-f),n=f>i.thisStep.startValue?i.thisStep.step:!1!==i.stepBefore.step&&f-i.stepBefore.highestStep,100===u?t=null:0===u&&(n=null),u=e.countStepDecimals(),null!==t&&!1!==t&&(t=Number(t.toFixed(u))),[n=null!==n&&!1!==n?Number(n.toFixed(u)):n,t])}var ut,h,ot,bt,rt,st,ft=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},ci=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1,n;try{n=Object.defineProperty({},"passive",{get:function(){t=!0}}),window.addEventListener("test",null,n)}catch(t){}return t}(),v=i,e=r.spectrum,w=[],c=[],y=[],gt=0,tt={},ht=i.ownerDocument,vt=r.documentElement||ht.documentElement,pt=ht.body,gi="rtl"===ht.dir||1===r.ort?0:100,at;return t(i=v,r.cssClasses.target),0===r.dir?t(i,r.cssClasses.ltr):t(i,r.cssClasses.rtl),0===r.ort?t(i,r.cssClasses.horizontal):t(i,r.cssClasses.vertical),t(i,"rtl"===getComputedStyle(i).direction?r.cssClasses.textDirectionRtl:r.cssClasses.textDirectionLtr),ut=nt(i,r.cssClasses.base),function(n,t){var u=nt(t,r.cssClasses.connects),i;for(h=[],(ot=[]).push(bi(u,n[0])),i=0;i<r.handles;i++)h.push(nr(t,i)),y[i]=i,ot.push(bi(u,n[i+1]))}(r.connect,ut),(st=r.events).fixed||h.forEach(function(n,t){et(ft.start,n.children[0],ii,{handleNumbers:[t]})}),st.tap&&et(ft.start,ut,rr,{}),st.hover&&et(ft.move,ut,ur,{hover:!0}),st.drag&&ot.forEach(function(n,i){var o,s,u,e,f;!1!==n&&0!==i&&i!==ot.length-1&&(o=h[i-1],s=h[i],u=[n],e=[o,s],f=[i-1,i],t(n,r.cssClasses.draggable),st.fixed&&(u.push(o.children[0]),u.push(s.children[0])),st.dragAll&&(e=h,f=y),u.forEach(function(t){et(ft.start,t,ii,{handles:e,handleNumbers:f,connect:n})}))}),wt(r.start),r.pips&&dt(r.pips),r.tooltips&&di(),lt("update"+f.aria),ni("update"+f.aria,function(n,t,i,u,f){y.forEach(function(n){var t=h[n],s=yt(c,n,0,!0,!0,!0),o=yt(c,n,100,!0,!0,!0),u=f[n],n=String(r.ariaFormat.to(i[n])),s=e.fromStepping(s).toFixed(1),o=e.fromStepping(o).toFixed(1),u=e.fromStepping(u).toFixed(1);t.children[0].setAttribute("aria-valuemin",s),t.children[0].setAttribute("aria-valuemax",o),t.children[0].setAttribute("aria-valuenow",u),t.children[0].setAttribute("aria-valuetext",n)})}),at={destroy:function(){for(lt(f.aria),lt(f.tooltips),Object.keys(r.cssClasses).forEach(function(n){o(v,r.cssClasses[n])});v.firstChild;)v.removeChild(v.firstChild);delete v.noUiSlider},steps:function(){return y.map(si)},on:ni,off:lt,get:oi,set:wt,setHandle:function(n,t,i,r){if(!(0<=(n=Number(n))&&n<y.length))throw new Error("noUiSlider: invalid handle number, got: "+n);ct(n,vi(t,n),!0,!0,r),l("update",n),i&&l("set",n)},reset:function(n){wt(r.start,n)},__moveHandles:function(n,t,i){li(n,t,c,i)},options:u,updateOptions:function(n,t){var o=oi(),f=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"],i;f.forEach(function(t){void 0!==n[t]&&(u[t]=n[t])}),i=d(u),f.forEach(function(t){void 0!==n[t]&&(r[t]=i[t])}),e=i.spectrum,r.margin=i.margin,r.limit=i.limit,r.padding=i.padding,r.pips?dt(r.pips):kt(),(r.tooltips?di:ri)(),c=[],wt(a(n.start)?n.start:o,t)},target:v,removePips:kt,removeTooltips:ri,getPositions:function(){return c.slice()},getTooltips:function(){return rt},getOrigins:function(){return h},pips:dt}}function nt(n,t){if(!n||!n.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+n);if(n.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");return t=lt(n,d(t),t),n.noUiSlider=t}var v,i;n.PipsMode=void 0,(i=n.PipsMode||(n.PipsMode={})).Range="range",i.Steps="steps",i.Positions="positions",i.Count="count",i.Values="values",n.PipsType=void 0,(i=n.PipsType||(n.PipsType={}))[i.None=-1]="None",i[i.NoValue=0]="NoValue",i[i.LargeValue=1]="LargeValue",i[i.SmallValue=2]="SmallValue",v=(r.prototype.getDistance=function(n){for(var i=[],t=0;t<this.xNumSteps.length-1;t++)i[t]=c(this.xVal,n,t);return i},r.prototype.getAbsoluteDistance=function(n,t,i){var r=0;if(n<this.xPct[this.xPct.length-1])for(;n>this.xPct[r+1];)r++;else n===this.xPct[this.xPct.length-1]&&(r=this.xPct.length-2);i||n!==this.xPct[r+1]||r++;for(var h,f=1,s=(t=null===t?[]:t)[r],e=0,c=0,u=0,o=i?(n-this.xPct[r])/(this.xPct[r+1]-this.xPct[r]):(this.xPct[r+1]-n)/(this.xPct[r+1]-this.xPct[r]);0<s;)h=this.xPct[r+1+u]-this.xPct[r+u],100<t[r+u]*f+100-100*o?(e=h*o,f=(s-100*o)/t[r+u],o=1):(e=t[r+u]*h/100*f,f=0),i?(c-=e,1<=this.xPct.length+u&&u--):(c+=e,1<=this.xPct.length-u&&u++),s=t[r+u]*f;return n+c},r.prototype.toStepping=function(n){return n=ni(this.xVal,this.xPct,n)},r.prototype.fromStepping=function(n){return function(n,t,i){if(100<=i)return n.slice(-1)[0];var r=e(i,t),f=n[r-1],u=n[r],n=t[r-1],r=t[r];return(i-n)*y(n,r)*((u=[f,u])[1]-u[0])/100+u[0]}(this.xVal,this.xPct,n)},r.prototype.getStep=function(n){return n=ti(this.xPct,this.xSteps,this.snap,n)},r.prototype.getDefaultStep=function(n,t,i){var r=e(n,this.xPct);return(100===n||t&&n===this.xPct[r-1])&&(r=Math.max(r-1,1)),(this.xVal[r]-this.xVal[r-1])/i},r.prototype.getNearbySteps=function(n){return n=e(n,this.xPct),{stepBefore:{startValue:this.xVal[n-2],step:this.xNumSteps[n-2],highestStep:this.xHighestCompleteStep[n-2]},thisStep:{startValue:this.xVal[n-1],step:this.xNumSteps[n-1],highestStep:this.xHighestCompleteStep[n-1]},stepAfter:{startValue:this.xVal[n],step:this.xNumSteps[n],highestStep:this.xHighestCompleteStep[n]}}},r.prototype.countStepDecimals=function(){var n=this.xNumSteps.map(gt);return Math.max.apply(null,n)},r.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},r.prototype.convert=function(n){return this.getStep(this.toStepping(n))},r.prototype.handleEntryPoint=function(n,t){if(n="min"===n?0:"max"===n?100:parseFloat(n),!u(n)||!u(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(n),this.xVal.push(t[0]),t=Number(t[1]),n?this.xSteps.push(!isNaN(t)&&t):isNaN(t)||(this.xSteps[0]=t),this.xHighestCompleteStep.push(0)},r.prototype.handleStepPoint=function(n,t){t&&(this.xVal[n]!==this.xVal[n+1]?(this.xSteps[n]=c([this.xVal[n],this.xVal[n+1]],t,0)/y(this.xPct[n],this.xPct[n+1]),t=(this.xVal[n+1]-this.xVal[n])/this.xNumSteps[n],t=Math.ceil(Number(t.toFixed(3))-1),t=this.xVal[n]+this.xNumSteps[n]*t,this.xHighestCompleteStep[n]=t):this.xSteps[n]=this.xHighestCompleteStep[n]=this.xVal[n])},r);var w={to:function(n){return void 0===n?"":n.toFixed(2)},from:Number},l={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},f={tooltips:".__tooltips",aria:".__aria"};i={__spectrum:v,cssClasses:l,create:nt},n.create=nt,n.cssClasses=l,n.default=i,Object.defineProperty(n,"__esModule",{value:!0})});function treeViewQuestionsOpened(){var t,i,n;OnClientShow(),t=$("div.rcbSlide"),t.length>0&&(i=$("div#ctl00_mtm_TreeViewQuestions"),n=i.offset(),n.top=n.top+i.height(),t.offset(n))}function treeViewQuestionsClosing(){OnClientClose()}function ClientTreeViewNodeClicked(n,t){var u=t.get_node().get_value(),i=$("#wrapper-"+u),f=!1,r;i.length==0&&u.indexOf("p")==0&&(f=!0,i=$("li.newfiche[data-pageid="+u.substring(1)+"]")),n.unselectAllNodes(),i.length>0&&(f||(r=GetPage(i),r.siblings().find(".ui-selected").removeClass("ui-selected"),r.find(".ui-selected").removeClass("ui-selected"),i.parent().addClass("ui-selected"),UpdateSelectedViewItems()),setTimeout(function(){$(document).scrollTop(i.offset().top-100)},200))}function ShowContextualMenu(n){$(".row_context").hide();var t=$(n).parent().parent().find(".row_context");$(t).show()}function ShowProperties(){var n=GetRadWindowManager();n.open("windows/creation/properties.aspx?rnd="+Math.floor(Math.random()*11),"wndProperties")}function ShowLibrary(){if(nmv()>-1&&nv()>=nmv())return showLimit(!0),!1;var n=GetRadWindowManager();n.open("windows/creation/library.aspx?rnd="+Math.floor(Math.random()*11),"wndLibrary")}function ShowThemes(){var n=GetRadWindowManager();n.open("windows/creation/themes2.aspx?rnd="+Math.floor(Math.random()*11),"wndTheme")}function ShowJumps(){var n=GetRadWindowManager();n.open("windows/JumpDefinition.aspx?rnd="+Math.floor(Math.random()*11),"wndJumps2")}function ShowEditThanks(){var n=GetRadWindowManager();n.open("windows/creation/multimedia2.aspx?rnd="+Math.floor(Math.random()*11)+"&issavetext=true","wndMultimediaItem")}function nmv(){var n=Base64.decode($(".hdnmv").val()).split("&")[0];return parseInt(n)}function nv(){var n=Base64.decode($(".hdnv").val()).split("&")[0];return parseInt(n)}function AddItem(n){if(nmv()>-1&&nv()>=nmv())return showLimit(!0),!1;var t=GetRadWindowManager();n=="q"?t.open("windows/creation/createquestion2.aspx?rnd="+Math.floor(Math.random()*11),"wndEditItem"):n=="p"?t.open("windows/creation/page.aspx?rnd="+Math.floor(Math.random()*11),"wndPartItem"):n=="m"&&t.open("windows/creation/multimedia2.aspx?rnd="+Math.floor(Math.random()*11),"wndMultimediaItem")}function AddItemAfter(n,t){var u,i,r;if(nmv()>-1&&nv()>=nmv())return showLimit(!0),!1;u=GetItem(n),i=GetPosition(u),i.index++,r=GetRadWindowManager(),t=="q"?r.open("windows/creation/createquestion2.aspx?rnd="+Math.floor(Math.random()*11)+"&numPage="+i.numPage+"&index="+i.index,"wndEditItem"):t=="p"?r.open("windows/creation/page.aspx?rnd="+Math.floor(Math.random()*11)+"&numPage="+i.numPage+"&index="+i.index,"wndPartItem"):t=="m"&&r.open("windows/creation/multimedia2.aspx?rnd="+Math.floor(Math.random()*11)+"&numPage="+i.numPage+"&index="+i.index,"wndMultimediaItem")}function GetItem(n){return $(n).closest("li").find(">section").first()}function GetPage(n){return $(n).closest("li.newfiche")}function ShowEditItem(n){var r;if(n&&$(n).length){if(nmv()>-1&&nv()>nmv())return showLimit(!0),!1;var t=GetItem(n),f=t.data("id"),u=t.data("viewid"),e=t.data("isgroup")!==undefined&&t.data("isgroup"),i=GetRadWindowManager();t.hasClass("title")||t.hasClass("object-text")?i.open("windows/creation/multimedia2.aspx?rnd="+Math.floor(Math.random()*11)+"&id="+u,"wndMultimediaItem"):t.hasClass("titlepage")?(r=GetPage(t),i.open("windows/creation/page.aspx?rnd="+Math.floor(Math.random()*11)+"&numPage="+r.data("numpage")+"&id="+r.data("pageid"),"wndPartItem")):t.hasClass("thanks")?i.open("windows/creation/multimedia2.aspx?rnd="+Math.floor(Math.random()*11)+"&issavetext=true","wndMultimediaItem"):t.hasClass("array")&&!e?shakeralert({Text:$("#MsgArrayError").text(),IsError:!0}):i.open("windows/creation/createquestion2.aspx?rnd="+Math.floor(Math.random()*11)+"&id="+f,"wndEditItem")}}function ShowEditPage(n){if(nmv()>-1&&nv()>nmv())return showLimit(!0),!1;GetRadWindowManager().open("windows/creation/page.aspx?rnd="+Math.floor(Math.random()*11)+"&numPage="+n.data("numpage")+"&id="+n.data("pageid"),"wndPartItem")}function MoveMulti(n){if(nmv()>-1&&nv()>=nmv())return showLimit(!0),!1;if(n.length>0){var t=GetRadWindowManager();t.open("windows/creation/moveitem.aspx?rnd="+Math.floor(Math.random()*11)+"&ids="+n.toString(),"wndMoveItem")}}function DeletePage(n){if(nmv()>-1&&nv()>nmv())return showLimit(!0),!1;if(confirm($("#MsgDeletePage").text())){var i=confirm($("#MsgDeleteContentPage").text()),t={pageNumber:n.data("numpage"),deleteContent:i};$.ajax({type:"POST",url:"conception_new.aspx/DeletePage",data:$.toJSON(t),contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){var t,i;result=n.d,result.Success?(t=$("#emptysurvey"),t.length>0&&t.closest("li.newfiche").length>0&&t.detach().prependTo("#main").hide(),$("#main li.newfiche").remove(),i={account:$(".hdnAccountName").val(),survey:$(".hdnSurveyName").val(),formID:$(".hdnFormID").val(),lang:$("#ddlLangueEdition").val(),ids:[],reloadtreeview:!0},RefreshItems(i)):alert(result.Message)},error:function(n){alert(n.statusText)}})}}function SetSkin(){$("body").removeClass(),$("body").addClass($(".currentModel").val())}function AfterAjaxCall2(){SetSkin(),UpdatePresPanel(),UpdateRestrictionInfos(),AfterAjaxCall()}function WndPropertiesClientClose(n,t){var i,f,u,r;if(OnClientClose(),i=t.get_argument(),i!=null&&i.ReturnButton!=="Cancel"){$("#ddlLangueEdition, #ctl00_ct_ctrlPrint_ddlLang").html(""),f=0,GetAjaxManager().ajaxRequest("registerlangs");for(r in i.Langs)f++,u='<option value="'+r+'">'+i.Langs[r]+"</option>",$(u).appendTo($("#ddlLangueEdition")),$(u).appendTo($("#ctl00_ct_ctrlPrint_ddlLang"));f>1?$("#ddlLangueEdition, #ctl00_ct_ctrlPrint_ddlLang").show():$("#ddlLangueEdition, #ctl00_ct_ctrlPrint_ddlLang").hide(),$("#ddlLangueEdition").val(i.DefaultLang),$("#hdnLgSurvey").val()!=i.DefaultLang&&$("#ddlLangueEdition").change()}}function WndMoveItemClientClose(n,t){var r,i;OnClientClose(),r=t.get_argument(),r!=null&&(i={},i.viewItemsID=r.ids,i.pageNumber=r.position.numPage,i.index=r.position.index,$.ajax({type:"POST",url:"conception_new.aspx/MoveViewItems",data:$.toJSON(i),contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){if(result=n.d,result.Success){var t={account:$(".hdnAccountName").val(),survey:$(".hdnSurveyName").val(),formID:$(".hdnFormID").val(),lang:$("#ddlLangueEdition").val(),ids:[]};RefreshItems(t)}else alert(result.Message)},error:function(n){alert(n.statusText)}}))}function WndThemeClientClose(n,t){OnClientClose();var i=t.get_argument();i!=null&&i.success&&($(".currentModel").val(i.model),SetSkin(),model={account:$(".hdnAccountName").val(),survey:$(".hdnSurveyName").val(),formID:$(".hdnFormID").val(),lang:$("#ddlLangueEdition").val()},$.ajax({type:"POST",url:$(".hdnSurveyServerAdr").val()+"Render/GetTemplate",data:$.toJSON(model),contentType:"application/json; charset=utf-8",success:function(n){SetHeader(n.header),GetCss(n.cssskinid,!1),GetCss(n.cssid,!0),SetShadowAndBorder(n.shadow,n.border)},error:function(n){alert(n.statusText)}}))}function WndQuestionListClientClose(n,t){var i,u,r;OnClientClose(),t.get_argument()!=null&&(i=t.get_argument(),i.success&&(i.hasOwnProperty("content")?(u=Base64.decode(i.content),$("#ctl00_ct_divThanksMessage").html(u)):(r={account:$(".hdnAccountName").val(),survey:$(".hdnSurveyName").val(),formID:$(".hdnFormID").val(),lang:$("#ddlLangueEdition").val(),ids:i.ids,rids:i.rids},RefreshItems(r))))}function WndJumpsClientClose(n,t){if(OnClientClose(),t.get_argument()!=null){var i=t.get_argument();i.success&&(GetAjaxManager().ajaxRequest(),UpdateRestrictionInfos())}}function PrepareViewItemWrapper(n){var t=GetItemByViewID(n.id),r,i;t.length>0?t.addClass("overlay"):(t=$('<li><section data-viewid="'+n.id+'" class="overlay"></section></li>'),$ulfiche=$("#main>ul .newfiche:eq("+Math.round(n.numPage-1)+") > ul"),r=Math.round(n.index-1),$ulfiche.find(">li").length>0&&r>=0?(i=$ulfiche.find(">li:eq("+r+")"),i.length==0&&(i=$ulfiche.find(">li:eq("+Math.round(r-1)+")")),t.insertAfter(i)):t.prependTo($ulfiche))}function SetShadowAndBorder(n,t){var r=[],i=[];n==="1"?r.push("fichenoshadow"):i.push("fichenoshadow"),t==="1"?i.push("ficheborder"):r.push("ficheborder"),$("#main .newfiche, #divConception .newfiche").each(function(){var n=$(this);i.forEach(function(t){n.addClass(t)}),r.forEach(function(t){n.removeClass(t)})})}function GetCss(n,t){var i;i=t?$("head link#csssurvey").length?$("head link#csssurvey"):$('<link id="csssurvey" type="text/css" rel="stylesheet" />').appendTo("head"):$("head link#cssskinsurvey").length?$("head link#cssskinsurvey"):$('<link id="cssskinsurvey" type="text/css" rel="stylesheet" />').appendTo("head"),i.attr("href",$(".hdnSurveyServerAdr").val()+"Render/Css?id="+n)}function SetHeader(n){if(n){var i=$(n),t='<li class="noSort"></li>';$("#main .newfiche>ul").each(function(){var n=$("li.noSort>div#head",$(this)).length?$("li.noSort>div#head",$(this)).parent():$(t).prependTo($(this));n.html(""),i.clone().attr("id","head").appendTo(n)})}else $("#main .newfiche>ul>li.noSort>div#head").parent().remove();UpdatePresPanel()}function RefreshItems(n){$("#lnkCreation").hasClass("button_sousmenu_blue_actif")||lnkCreation_Click();var r,i,t,u=[];if(n.ids.length>0){for(i=0;i<n.ids.length;i++)t=n.ids[i],u.push(t.id),t.index+=$("#main>ul .newfiche:eq("+Math.round(t.numPage-1)+") > ul > li.noSort").length,PrepareViewItemWrapper(t);ClientDeleteViewItem(n.rids)}n.ids=u,$.ajax({type:"POST",url:$(".hdnSurveyServerAdr").val()+"Render/GetItems",data:$.toJSON(n),contentType:"application/json; charset=utf-8",dataType:"html",success:function(t){var i,o,l,e,f,c,u,s,h;i=$(t),o=i.first().find("div.pages:first"),e=o.find(">div.page"),l=e.length>0,f=i.find("div#header:first"),o.length>0&&GetCss(i.attr("cssskinid"),!1),GetCss(i.attr("cssid"),!0),$.queued.clear(),l?(c=$("body").scrollTop(),e.each(function(){var n=$(this).attr("p"),t=$(this).attr("id");$fiche=$("li.newfiche[data-numpage="+n+"]"),$fiche.length==0?($fiche=$('<li class="newfiche page" data-numpage="'+n+'" data-pageid="'+t+'"></li>'),$("#main>ul").append($fiche)):$fiche.attr("data-pageid",t),$ulfiche=$('<ul class="concSortable"></ul>'),f.length>0&&($li=$('<li class="noSort"></li>'),f.clone().attr("id","head").appendTo($li),$ulfiche.append($li)),$(this).find("section:not(.arrayquestion)").each(function(){$.queued.add(function(n){n[0].append(BuildFormLiSection(n[1]))},[$ulfiche,$(this)],this)}),$.queued.add(function(n){SetSlider(n)},$ulfiche,this),$fiche.html($ulfiche),$.queued.add(function(n){AfterReplaceBuildFormLiSection(n)},$ulfiche,this),$.queued.add(function(n){$pageCount=$("#page_action").tmpl({page:n[1]}),$pageCount.find("a span").tipsy({title:"title"}),$pageCount.disableSelection(),n[0].prepend($pageCount)},[$fiche,n],this),$.queued.add(function(){$(window).scroll(),posFooter()},null,this)}),SetSortable(),$.queued.add(function(){setTimeout(function(){$("body").scrollTop(c)},100)},null,this)):($(".ui-selected").removeClass("ui-selected"),i.find("section:not(.arrayquestion)").each(function(){r=GetItemByViewID($(this).data("viewid")),r.removeClass("overlay"),$li=BuildFormLiSection($(this)),r.parent("li").replaceWith($li),AfterReplaceBuildFormLiSection($li),$li.addClass("ui-selected"),$(window).scroll(),SetSlider($li)}),u=$(".ui-selected").first(),u.length&&!u.visible()&&$("body").scrollTop(u.offset().top-100)),s=i.attr("data-formshadow"),h=i.attr("data-formborder"),SetShadowAndBorder(s,h),UpdateSelectedViewItems(),ShowHideMultiSelection(),$("#overlay").remove(),!n.hasOwnProperty("reloadtreeview")||undefined==n.reloadtreeview||n.reloadtreeview?GetAjaxManager().ajaxRequest("reloadtreeview"):(UpdatePresPanel(),UpdateRestrictionInfos())},error:function(n){n.statusText!="error"&&alert(n.statusText),$("#overlay").remove()}})}function UpdateRestrictionInfos(){var n,t;if($.queued.add(function(){$("li.newfiche li .i-info").remove()},[],this),undefined!==Restrictions)for(n=0;n<Restrictions.length;n++)t=Restrictions[n],$.queued.add(function(n){var u=$("#wrapper-"+n.ID+", #wrapper-f"+n.ID);if(!u.hasClass("arrayquestion")){var i=u.parent().closest("li"),t=$('<img class="i-info">'),r=!1;n.Type==2?i.find("img.i-jump").length>0?(t=i.find("img.i-jump:first"),r=!0):t.attr("src","../img/sous_menu/picto_feu_vert.png").addClass("i-jump"):n.Type==1?i.find("img.i-rest").length>0?(t=i.find("img.i-rest:first"),r=!0):t.attr("src","../img/sous_menu/picto_feu_rouge.png").addClass("i-rest"):n.Type==0?i.find("img.i-hidden").length>0?(t=i.find("img.i-hidden:first"),r=!0):t.attr("src","../img/sous_menu/picto_feu_violet.png").addClass("i-hidden"):n.Type==3&&(i.find("img.i-mandatory").length>0?(t=i.find("img.i-mandatory:first"),r=!0):t.attr("src","../img/sous_menu/picto_feu_orange.png").addClass("i-mandatory")),r?t.attr("original-title",t.attr("original-title")+"<br /><br />"+n.Expression):(t.attr("title",n.Expression),t.prependTo(i),t.tipsy({html:!0}))}},t,this)}function UpdatePresPanel(){var n=$("#emptysurvey"),t;n.length>0&&(t=$("li.newfiche:first"),$(".hdne").val()=="0"&&t.find("ul.concSortable>li").length==0?n.detach().prependTo("li.newfiche:first").show():n.detach().prependTo("#main").hide())}function BuildFormLiSection(n){var t=$('<li style="position:relative"></li>');return n.appendTo(t),n.hasClass("titlepage")?t.addClass("noSort"):$('<span class="grip"></span>').appendTo(t),$("#item_action").tmpl().appendTo(t),n.hasClass("titlepage")&&t.find(".lnkCopyItem, .lnkMoveItem, .lnkDeleteItem").remove(),n.find("img.lazy").lazyload({effect:"fadeIn"}).removeClass("lazy"),t.find("select.select-dnd").ordered({disabled:!0,debug:!1}),t.find("table.ordered").orderedbox({debug:!1}),t.find("table.ordered").orderedbox({debug:!1}),t.find("input[data-val-number]").not("[data-nouislider]").prop("disabled",!0),t.find("input.date").prop("disabled",!0),t.find("input.datetime").prop("disabled",!0),t.find("input.time").prop("disabled",!0),t}function AfterReplaceBuildFormLiSection(n){var t=n.find("select.select-dnd");t.each(function(){$(this).data("ordered").setSortableHeight()})}function SetSlider(n){n.find("select.select-slider").each(function(){animatedCursor=$(this).parent().find("div.cursor-wrapper"),$(this).selectToUISlider({labelSrc:"text",labels:$(this).data("slider-nblabels"),tooltip:$(this).data("slider-showtooltip"),cursors:animatedCursor,sliderOptions:{range:"min",animate:"slow"}})}),n.find(".varclosebtn, table.table-buttons tr, section.multigroup td[data-closebtn-col]").sphVarCloseBtn(),n.find("div.rateit").attr("data-rateit-readonly","true").rateit(),n.find("div.nouislider").each(function(){var n=this;setTimeout(function(){$(n).find(".noUi-origin").attr("disabled",!0)})}),n.find(".array[data-slide]").tabdisplay({debug:!1,type:"slide"})}function GetItemByViewID(n){return $("li.newfiche").find("section[data-viewid="+n+"]").first()}function getFormattedValue(){return 0}function posMultiSelection(){var n=$("li.ui-selected"),r;if(n.length>1){for(var f=$(window).scrollTop(),u=f+$(window).height(),t=n.last(),i=n.length-1;t.offset().top>u&&i>0;)t=n.eq(--i);r=t.offset().top-$("#content_right").offset().top,$("#divMultiSelection").css("top",r+"px")}}function UpdateSelectedViewItems(){SelectedViewItems=[],$("#main>ul>li.newfiche>ul.ui-selectable>li.ui-selected>section").each(function(){SelectedViewItems.push($(this).data("viewid"))})}function ShowHideMultiSelection(){posMultiSelection(),SelectedViewItems.length>1?$("#divMultiSelection").stop().clearQueue().show().animate({marginLeft:-70}):$("#divMultiSelection").stop().clearQueue().animate({marginLeft:0},500,function(){$("#divMultiSelection").hide()})}function DeleteMulti(n){var i,t;if(nmv()>-1&&nv()>nmv())return showLimit(!0),!1;n.length>0&&(i=$("#MsgDeleteElem").text(),n.length>1&&(i=$("#MsgDeleteElems").text()),confirm(i)&&(t={},t.viewItemsID=n,$.ajax({type:"POST",url:"conception_new.aspx/DeleteViewItems",data:$.toJSON(t),contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){result=n.d,result.Success?(ClientDeleteViewItem(result.Value),GetAjaxManager().ajaxRequest("reloadtreeview")):alert(result.Message)},error:function(n){alert(n.statusText)}})))}function ClientDeleteViewItem(n){if(typeof n!="undefined"){for(var i,t=0;t<n.length;t++)i=n[t],GetItemByViewID(i).parent("li").remove(),SelectedViewItems.remove(i);ShowHideMultiSelection()}}function GetPosition(n){var t=n.parent("li").index();return t-=n.closest("ul").find(">li.noSort").length,{numPage:n.closest("li.newfiche").data("numpage"),index:t}}function CopyMulti(n){var r,t,i;if(nmv()>-1&&nv()>=nmv())return showLimit(!0),!1;n.length>0&&(r=SelectedViewItems.length>0?GetItemByViewID(SelectedViewItems.last()):GetItemByViewID(n.last()),t=GetPosition(r),t.index++,i={viewItemsID:n,pageNumber:t.numPage,index:t.index},$.ajax({type:"POST",url:"conception_new.aspx/CopyViewItems",data:$.toJSON(i),contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){var u,r,f;if(result=n.d,result.Success){for(u=[],r=0;r<result.Value.length;r++)f=result.Value[r],u.push({id:f,numPage:t.numPage,index:t.index+r});i={account:$(".hdnAccountName").val(),survey:$(".hdnSurveyName").val(),formID:$(".hdnFormID").val(),lang:$("#ddlLangueEdition").val(),ids:u},RefreshItems(i)}else alert(result.Message)},error:function(n){alert(n.statusText)}}))}function ChangeDefaultLang(n){var t={lang:n};$.ajax({type:"POST",url:"conception_new.aspx/ChangeDefaultLang",data:$.toJSON(t),contentType:"application/json; charset=utf-8",dataType:"json",success:function(i){if(result=i.d,result.Success){if(result.hasOwnProperty("Value")){var i=Base64.decode(result.Value);$("#ctl00_ct_divThanksMessage").html(i)}t={account:$(".hdnAccountName").val(),survey:$(".hdnSurveyName").val(),formID:$(".hdnFormID").val(),lang:n,ids:[]},RefreshItems(t)}else alert(result.Message)},error:function(n){alert(n.statusText)}})}function AfterToolsSuccessed(){model={account:$(".hdnAccountName").val(),survey:$(".hdnSurveyName").val(),formID:$(".hdnFormID").val(),lang:$("#ddlLangueEdition").val(),ids:[]},RefreshItems(model)}function BindEvents(){var n=!1,t=17,u=86,r=67,i=46;$(document).keydown(function(f){f.keyCode==t&&(n=!0),n&&f.keyCode==r?CopiedViewItems=SelectedViewItems:n&&f.keyCode==u?CopyMulti(CopiedViewItems):f.keyCode==i&&DeleteMulti(SelectedViewItems)}).keyup(function(i){i.keyCode==t&&(n=!1)});$("#ddlLangueEdition").on("click",function(){$(".tipsy").hide()});$(".TreeViewQuestions").on("click",function(){$(".tipsy").hide()});$("#ddlLangueEdition > option").on("mouseover",function(){$(".tipsy").hide()});$("#ddlLangueEdition").change(function(n){n.preventDefault(),ChangeDefaultLang($(this).val())});$(document).on("click",".pagecount a.edit",function(n){n.preventDefault(),ShowEditPage(GetPage($(this)))});$(document).on("click",".pagecount a.delete",function(n){n.preventDefault(),DeletePage(GetPage($(this)))});$(document).on("click","#lnkDeleteMulti",function(n){n.preventDefault(),DeleteMulti(SelectedViewItems)});$(document).on("click","#lnkDeleteItem",function(n){n.preventDefault(),DeleteMulti([GetItem($(this)).data("viewid")])});$(document).on("click","#lnkCopyMulti",function(n){n.preventDefault(),CopyMulti(SelectedViewItems)});$(document).on("click","#lnkCopyItem",function(n){n.preventDefault(),CopyMulti([GetItem($(this)).data("viewid")])});$(document).on("click","#lnkMoveMulti",function(n){n.preventDefault(),MoveMulti(SelectedViewItems)});$(document).on("click","#lnkMoveItem",function(n){n.preventDefault(),MoveMulti([GetItem($(this)).data("viewid")])});$(document).on("dblclick",".newfiche > ul > li",function(){ShowEditItem($(this).find(">section:first"))});$(document).on("dblclick",".newfiche span.pagecount",function(){$(this).parent().find(">ul").slideToggle("slow",posFooter)});$(window).scroll(function(){posMultiSelection();var n=GetTreeView();n!=null&&n.hideDropDown()}),$(".readonly").val()=="1"&&$("#ctl00_menu_top a, #ctl00_content a").each(function(){$(this).attr("onclick",""),$(this).click(function(){return showLimit(!0),!1})}),$("#action_medium_enquete").css("min-width","350px"),$(".action_large_enquete").css("margin-right","0")}function SetSortable(){$("#main>ul").sortable({axis:"y",handle:"span.pagecount span.gripPage",update:function(n,t){var r=$(this),i={};i.oldPageNumber=$(t.item).data("numpage"),i.newPageNumber=$(t.item).index()+1,$.ajax({type:"POST",url:"conception_new.aspx/MovePage",data:$.toJSON(i),contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){if(result=n.d,result.Success){var t=1;$("li.newfiche").each(function(){$(this).find(">span.pagecount span.numpage").html(t),$(this).attr("data-numpage",t).data("numpage",t++)}),GetAjaxManager().ajaxRequest("reloadtreeview")}else r.sortable("cancel"),alert(result.Message),RefreshItems({account:$(".hdnAccountName").val(),survey:$(".hdnSurveyName").val(),formID:$(".hdnFormID").val(),lang:$("#ddlLangueEdition").val(),ids:[]})},error:function(n){r.sortable("cancel"),alert(n.statusText),RefreshItems({account:$(".hdnAccountName").val(),survey:$(".hdnSurveyName").val(),formID:$(".hdnFormID").val(),lang:$("#ddlLangueEdition").val(),ids:[]})}})}}).disableSelection(),$(".newfiche .concSortable").selectable({distance:0,cancel:"a, span.grip, li.noSort, div#head",filter:">li",stop:function(){ShowHideMultiSelection()},selected:function(n){n.ctrlKey||n.shiftKey||$(this).parent("li.newfiche").siblings().find(">ul .ui-selected").removeClass("ui-selected"),UpdateSelectedViewItems()},unselected:function(){$(this).parent("li.newfiche").siblings().find(">ul .ui-selected").removeClass("ui-selected"),UpdateSelectedViewItems()}}).sortable({connectWith:".concSortable",items:">li:not(.noSort)",axis:"y",handle:"span.grip",zIndex:55e3,update:function(n,t){if(this===t.item.parent()[0]){var r=$(this),i={};i.viewItemsID=[t.item.find(">section").first().data("viewid")],i.pageNumber=t.item.closest("li.newfiche").index()+1,i.pageNumber>0?(i.index=t.item.index(),i.index-=t.item.closest("ul.concSortable").find(">li.noSort").length,$.ajax({type:"POST",url:"conception_new.aspx/MoveViewItems",data:$.toJSON(i),contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){result=n.d,result.Success?GetAjaxManager().ajaxRequest("reloadtreeview"):(r.sortable("cancel"),alert(result.Message),RefreshItems({account:$(".hdnAccountName").val(),survey:$(".hdnSurveyName").val(),formID:$(".hdnFormID").val(),lang:$("#ddlLangueEdition").val(),ids:[]}))},error:function(n){r.sortable("cancel"),alert(n.statusText),RefreshItems({account:$(".hdnAccountName").val(),survey:$(".hdnSurveyName").val(),formID:$(".hdnFormID").val(),lang:$("#ddlLangueEdition").val(),ids:[]})}})):alert("Error during move !")}}}).disableSelection()}var isMobileMode=!1,hasJqMobile=!1,bindingClickType="click",SelectedViewItems,CopiedViewItems;!function(n){var t=n(window);n.fn.visible=function(n,i,r){if(!(this.length<1)){var e=this.length>1?this.eq(0):this,o=e.get(0),l=t.width(),a=t.height(),r=r?r:"both",f=i===!0?o.offsetWidth*o.offsetHeight:!0;if("function"==typeof o.getBoundingClientRect){var u=o.getBoundingClientRect(),it=u.top>=0&&u.top<a,rt=u.bottom>0&&u.bottom<=a,nt=u.left>=0&&u.left<l,tt=u.right>0&&u.right<=l,et=n?it||rt:it&&rt,ot=n?nt||tt:nt&&tt;if("both"===r)return f&&et&&ot;if("vertical"===r)return f&&et;if("horizontal"===r)return f&&ot}else{var h=t.scrollTop(),ut=h+a,c=t.scrollLeft(),ft=c+l,g=e.offset(),v=g.top,p=v+e.height(),s=g.left,d=s+e.width(),w=n===!0?p:v,b=n===!0?v:p,k=n===!0?d:s,y=n===!0?s:d;if("both"===r)return!!f&&ut>=b&&w>=h&&ft>=y&&k>=c;if("vertical"===r)return!!f&&ut>=b&&w>=h;if("horizontal"===r)return!!f&&ft>=y&&k>=c}}}}(jQuery),function(n){function e(i,r,f,e){var s={data:e||(r?r.data:{}),_wrap:r?r._wrap:null,tmpl:null,parent:r||null,nodes:[],calls:tt,nest:it,wrap:k,html:d,update:g};return i&&n.extend(s,i,{nodes:[],parent:r}),f&&(s.tmpl=f,s._ctnt=s._ctnt||s.tmpl(n,s),s.key=++u,(l.length?o:t)[u]=s),s}function f(t,i,u){var e,o=u?n.map(u,function(n){return typeof n=="string"?t.key?n.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+r+'="'+t.key+'" $2'):n:f(n,t,n._ctnt)}):t;return i?o:(o=o.join(""),o.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(t,i,r,u){e=n(r).get(),a(e),i&&(e=c(i).concat(e)),u&&(e=e.concat(c(u)))}),e?e:c(o))}function c(t){var i=document.createElement("div");return i.innerHTML=t,n.makeArray(i.childNodes)}function y(t){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+n.trim(t).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(t,i,r,u,f,e,o){var l=n.tmpl.tag[r],a,s,c;if(!l)throw"Template command not found: "+r;return a=l._default||[],e&&!/\w$/.test(f)&&(f+=e,e=""),f?(f=h(f),o=o?","+h(o)+")":e?")":"",s=e?f.indexOf(".")>-1?f+e:"("+f+").call($item"+o:f,c=e?s:"(typeof("+f+")==='function'?("+f+").call($item):("+f+"))"):c=s=a.$1||"null",u=h(u),"');"+l[i?"close":"open"].split("$notnull_1").join(f?"typeof("+f+")!=='undefined' && ("+f+")!=null":"true").split("$1a").join(c).split("$1").join(s).split("$2").join(u?u.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,function(n,t,i,r){return r=r?","+r+")":i?")":"",r?"("+t+").call($item"+r:n}):a.$2||"")+"_.push('"})+"');}return _;")}function v(t,i){t._wrap=f(t,!0,n.isArray(i)?i:[w.test(i)?i:n(i).html()]).join("")}function h(n){return n?n.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function nt(n){var t=document.createElement("div");return t.appendChild(n.cloneNode(!0)),t.innerHTML}function a(f){function a(f){function a(n){n=n+y,s=p[n]=p[n]||e(s,t[s.parent.key+y]||s.parent,null,!0)}var v,h=f,c,s,l;if(l=f.getAttribute(r)){while(h.parentNode&&(h=h.parentNode).nodeType===1&&!(v=h.getAttribute(r)));v!==l&&(h=h.parentNode?h.nodeType===11?0:h.getAttribute(r)||0:0,(s=t[l])||(s=o[l],s=e(s,t[h]||o[h],null,!0),s.key=++u,t[u]=s),i&&a(l)),f.removeAttribute(r)}else i&&(s=n.data(f,"tmplItem"))&&(a(s.key),t[s.key]=s,h=n.data(f.parentNode,"tmplItem"),h=h?h.key:0);if(s){for(c=s;c&&c.key!=h;)c.nodes.push(f),c=c.parent;delete s._ctnt,delete s._wrap,n.data(f,"tmplItem",s)}}for(var y="_"+i,c,l,p={},s,h=0,v=f.length;h<v;h++)if((c=f[h]).nodeType===1){for(l=c.getElementsByTagName("*"),s=l.length-1;s>=0;s--)a(l[s]);a(c)}}function tt(n,t,i,r){if(!n)return l.pop();l.push({_:n,tmpl:t,item:this,data:i,options:r})}function it(t,i,r){return n.tmpl(n.template(t),i,r,this)}function k(t,i){var r=t.options||{};return r.wrapped=i,n.tmpl(n.template(t.tmpl),t.data,r,t.item)}function d(t,i){var r=this._wrap;return n.map(n(n.isArray(r)?r.join(""):r).filter(t||"*"),function(n){return i?n.innerText||n.textContent:n.outerHTML||nt(n)})}function g(){var t=this.nodes;n.tmpl(null,null,null,this).insertBefore(t[0]),n(t).remove()}var b=n.fn.domManip,r="_tmplitem",w=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,t={},o={},s,p={key:0,data:{}},u=0,i=0,l=[];n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(r,u){n.fn[r]=function(f){var o=[],h=n(f),l,e,a,v,c=this.length===1&&this[0].parentNode;if(s=t||{},c&&c.nodeType===11&&c.childNodes.length===1&&h.length===1)h[u](this[0]),o=this;else{for(e=0,a=h.length;e<a;e++)i=e,l=(e>0?this.clone(!0):this).get(),n.fn[u].apply(n(h[e]),l),o=o.concat(l);i=0,o=this.pushStack(o,r,h.selector)}return v=s,s=null,n.tmpl.complete(v),o}}),n.fn.extend({tmpl:function(t,i,r){return n.tmpl(this[0],t,i,r)},tmplItem:function(){return n.tmplItem(this[0])},template:function(t){return n.template(t,this[0])},domManip:function(r,u,f){if(r[0]&&r[0].nodeType){for(var e=n.makeArray(arguments),c=r.length,h=0,o;h<c&&!(o=n.data(r[h++],"tmplItem")););c>1&&(e[0]=[n.makeArray(r)]),o&&i&&(e[2]=function(t){n.tmpl.afterManip(this,t,f)}),b.apply(this,e)}else b.apply(this,arguments);return i=0,!s&&n.tmpl.complete(t),this}}),n.extend({tmpl:function(i,r,u,s){var h,c=!s;if(c)s=p,i=n.template[i]||n.template(null,i),o={};else if(!i)return i=s.tmpl,t[s.key]=s,s.nodes=[],s.wrapped&&v(s,s.wrapped),n(f(s,null,s.tmpl(n,s)));return i?(typeof r=="function"&&(r=r.call(s||{})),u&&u.wrapped&&v(u,u.wrapped),h=n.isArray(r)?n.map(r,function(n){return n?e(u,s,i,n):null}):[e(u,s,i,r)],c?n(f(s,null,h)):h):[]},tmplItem:function(t){var i;for(t instanceof n&&(t=t[0]);t&&t.nodeType===1&&!(i=n.data(t,"tmplItem"))&&(t=t.parentNode););return i||p},template:function(t,i){return i?(typeof i=="string"?i=y(i):i instanceof n&&(i=i[0]||{}),i.nodeType&&(i=n.data(i,"tmpl")||n.data(i,"tmpl",y(i.innerHTML))),typeof t=="string"?n.template[t]=i:i):t?typeof t!="string"?n.template(null,t):n.template[t]||n.template(null,w.test(t)?t:n(t)):null},encode:function(n){return(""+n).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),n.extend(n.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){t={}},afterManip:function(t,r,u){var f=r.nodeType===11?n.makeArray(r.childNodes):r.nodeType===1?[r]:[];u.call(t,r),a(f),i++}})}(jQuery);
/*! Lazy Load 1.9.1 - MIT license - Copyright 2010-2013 Mika Tuupola */
!function(n,t,i,r){var u=n(t);n.fn.lazyload=function(f){function s(){var t=0;o.each(function(){var i=n(this);if((!e.skip_invisible||i.is(":visible"))&&!n.abovethetop(this,e)&&!n.leftofbegin(this,e))if(n.belowthefold(this,e)||n.rightoffold(this,e)){if(++t>e.failure_limit)return!1}else i.trigger("appear"),t=0})}var h,o=this,e={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="};return f&&(r!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),r!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),n.extend(e,f)),h=e.container===r||e.container===t?u:n(e.container),0===e.event.indexOf("scroll")&&h.bind(e.event,function(){return s()}),this.each(function(){var i=this,t=n(i);i.loaded=!1,(t.attr("src")===r||t.attr("src")===!1)&&t.is("img")&&t.attr("src",e.placeholder),t.one("appear",function(){if(!this.loaded){if(e.appear){var r=o.length;e.appear.call(i,r,e)}n("<img />").bind("load",function(){var f=t.attr("data-"+e.data_attribute),u,r;t.hide(),t.is("img")?t.attr("src",f):t.css("background-image","url('"+f+"')"),t[e.effect](e.effect_speed),i.loaded=!0,u=n.grep(o,function(n){return!n.loaded}),(o=n(u),e.load)&&(r=o.length,e.load.call(i,r,e))}).attr("src",t.attr("data-"+e.data_attribute))}}),0!==e.event.indexOf("scroll")&&t.bind(e.event,function(){i.loaded||t.trigger("appear")})}),u.bind("resize",function(){s()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&u.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&o.each(function(){n(this).trigger("appear")})}),n(i).ready(function(){s()}),this},n.belowthefold=function(i,f){var e;return e=f.container===r||f.container===t?(t.innerHeight?t.innerHeight:u.height())+u.scrollTop():n(f.container).offset().top+n(f.container).height(),e<=n(i).offset().top-f.threshold},n.rightoffold=function(i,f){var e;return e=f.container===r||f.container===t?u.width()+u.scrollLeft():n(f.container).offset().left+n(f.container).width(),e<=n(i).offset().left-f.threshold},n.abovethetop=function(i,f){var e;return e=f.container===r||f.container===t?u.scrollTop():n(f.container).offset().top,e>=n(i).offset().top+f.threshold+n(i).height()},n.leftofbegin=function(i,f){var e;return e=f.container===r||f.container===t?u.scrollLeft():n(f.container).offset().left,e>=n(i).offset().left+f.threshold+n(i).width()},n.inviewport=function(t,i){return!(n.rightoffold(t,i)||n.leftofbegin(t,i)||n.belowthefold(t,i)||n.abovethetop(t,i))},n.extend(n.expr[":"],{"below-the-fold":function(t){return n.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return n.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!n.rightoffold(t,{threshold:0})},"in-viewport":function(t){return n.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return n.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!n.rightoffold(t,{threshold:0})}})}(jQuery,window,document),$.queued={_timer:null,_queue:[],add:function(n,t,i,r){var e=function(n){$.queued._timer=setTimeout(function(){n=$.queued.add(),$.queued._queue.length&&e(n)},n||2)},f,u;if(n){$.queued._queue.push([n,i,t,r]),$.queued._queue.length==1&&e(r);return}for(f=0;f<50;f++){if(u=$.queued._queue.shift(),!u)return 0;u[0].call(u[1]||window,u[2])}return u[3]},clear:function(){clearTimeout($.queued._timer),$.queued._queue=[]}},SelectedViewItems=[],CopiedViewItems=[],Array.prototype.add=function(n){var t=!1;for(i=0;i<this.length;i++)if(n==this[i]){t=!0;return}t||this.push(n)},Array.prototype.remove=function(n){for(i=0;i<this.length;i++)n==this[i]&&this.splice(i,1)},Array.prototype.last=function(){return this[this.length-1]},$(function(){SetSkin(),$("#main").append('<div id="overlay" class="newfiche overlay"></div>'),BindEvents();var n={account:$(".hdnAccountName").val(),survey:$(".hdnSurveyName").val(),formID:$(".hdnFormID").val(),lang:$("#ddlLangueEdition").val(),ids:[],reloadtreeview:!1};RefreshItems(n)});